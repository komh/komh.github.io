<HTML>
<HEAD>
<TITLE>DosQuerySysState</TITLE>
</HEAD>
<BODY>
<H1>DosQuerySysState</H1><!-- entering slot 10 --><!-- lm: 0x2 1 -->
<UL>Prototype:
<P>
<!-- lm: 0x2 6 -->
<UL> APIRET APIENTRY DosQuerySysState ( ULONG func, ULONG
arg1, ULONG pid, ULONG _res_, PVOID buf, ULONG bufsz ) ;<!-- lm: 0x2 1 -->
</UL> Linkage
Definition:
<P>
<!-- lm: 0x2 6 -->
<UL> IMPORTS Dos32QuerySysState = DOSCALLS.368<!-- lm: 0x2 1 -->
</UL> Parameters:
<!-- lm: 0x2 6 -->
<UL><!-- lm: 0x2 11 -->
<UL>
<P>
ULONG func  Bit flag indicating which data is being requested.<!-- lm: 0x2 11 -->
<BR>
ULONG arg1  Reserved.  Set to zero<I> always</I>.<!-- lm: 0x2 11 -->
<BR>
ULONG pid   Process ID.  See notes.<!-- lm: 0x2 11 -->
<BR>
ULONG _res_  Reserved.<!-- lm: 0x2 11 -->
<BR>
ULONG buf   Address of buffer for results.  See <A HREF="009_L2_DOSQSSH.html">DOSQSS.H
</A>for the layout.<!-- lm: 0x2 11 -->
<BR>
ULONG bufsz  Size of result buffer.<!-- lm: 0x2 6 -->
</UL><!-- lm: 0x2 1 -->
</UL>Comments:
<P>
 This function performs almost exactly the same function as the older <A HREF="004_L1_DosQProcStat.html">DosQProcStat</A>,
except that the 64K limit on buffer size has been removed, all addresses
are in 0:32 format, and some more information has been added.
<P>
 The<B> func</B> parameter is a bit array, with the following meanings:
<!-- lm: 0x2 6 -->
<UL><!-- lm: 0x2 11 -->
<UL>
<P>
00000001 Process Data<!-- lm: 0x2 11 --> 00000002 Process Semaphores (16-bit
only?)<!-- lm: 0x2 11 -->
<BR>
00000004 Module Data<!-- lm: 0x2 11 -->
<BR>
00000008 File Data (see notes)<!-- lm: 0x2 11 -->
<BR>
00000010 Named Shared Memory<!-- lm: 0x2 6 -->
</UL><!-- lm: 0x2 1 -->
</UL>Notes:
<P>
 (1) The<B> pid</B> parameter allows you to request information for a single
process (if non-zero), or for all processes on the system.  NOTE: Selection
of a single process caused system hangs prior to Warp 3.0 Fixpack 18.
<P>
 (2) The<B> arg1</B> parameter<I> must</I> be set to zero, or it may cause
a system crash. IBM has reported this problem fixed in APAR PJ21195.
<P>
 (3) File data is only supported from Warp 3.0 Fixpack 18 onwards.
<P>
 Examples:<!-- lm: 0x2 6 -->
<UL>
<P>
<A HREF="010_L2_DOSQCQueryProcessesE.html">DOSQ - Query Processes</A><!-- lm: 0x2 6 --> <A HREF="011_L2_LSOFCListOpenFilesEx.html">LSOF
- List Open Files</A><!-- lm: 0x2 1 -->
</UL> 

<P><HR>

<A HREF="007_L1_DosQueryModFromEIP.html">[Back: DosQueryModFromEIP]</A> <BR>
<A HREF="009_L2_DOSQSSH.html">[Next: DOSQSS.H]</A> 
</BODY>
</HTML>
