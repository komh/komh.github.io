<HTML>
<HEAD>
<TITLE>DosCloseQueue</TITLE>
</HEAD>
<BODY>
<H1>DosCloseQueue</H1><!-- entering slot 14 -->Bindings:  <A HREF="188_L2H_DosCloseQueue.html">C</A>,
<A HREF="363_L2H_DosCloseQueue.html">MASM</A>
<BR>

<P>
This call closes the queue in use by the requesting process.<!-- lm: 0x2 1 -->
<UL>
<P>
DosCloseQueue<!-- lm: 0x2 13 -->
<UL> (QueueHandle)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>QueueHandle</B> (HQUEUE) - input<!-- lm: 0x11 4 -->
<UL> Handle returned
from a previous <A HREF="018_L2_DosCreateQueue.html">DosCreateQueue</A> or
<A HREF="093_L2_DosOpenQueue.html">DosOpenQueue</A> call.<!-- lm: 0x2 1 -->
</UL><B> rc
</B>(USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:
<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 337<!-- lm: 0x2 14 -->
<UL> ERROR_QUE_INVALID_HANDLE
<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
DosCloseQueue is used to terminate further processing of a queue by the
requesting process. The actions taken depend on whether the requestor is
the owner or a writer of the queue. For all processes, an access count representing
all <A HREF="093_L2_DosOpenQueue.html">DosOpenQueue</A> calls performed
is decremented. For non-owning processes, access is terminated when this
count goes to zero. For owning processes, the queue (and its elements) are
purged if the access count previously equaled zero. Other processes that
have the queue open receive the ERROR_QUE_INVALID_HANDLE return code on
their next request.

<P><HR>

<A HREF="012_L2_DosClose.html">[Back: DosClose]</A> <BR>
<A HREF="014_L2_DosCloseSem.html">[Next: DosCloseSem]</A> 
</BODY>
</HTML>
