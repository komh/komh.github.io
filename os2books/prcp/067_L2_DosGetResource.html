<HTML>
<HEAD>
<TITLE>DosGetResource</TITLE>
</HEAD>
<BODY>
<H1>DosGetResource</H1><!-- entering slot 82 -->Bindings:  <A HREF="242_L2H_DosGetResource.html">C</A>,
<A HREF="417_L2H_DosGetResource.html">MASM</A>
<BR>

<P>
This call returns the segment selector of the specified resource segment.
<!-- lm: 0x2 1 -->
<UL>
<P>
DosGetResource<!-- lm: 0x2 19 -->
<UL> (ModHandle, TypeID, NameID, Selector)
<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>ModHandle</B> (HMODULE) - input<!-- lm: 0x11 4 -->
<UL> The location
of the resource segment.<!-- lm: 0x2 4 -->
<P>
Value<!-- lm: 0x2 14 -->
<UL> Definition<!-- lm: 0x2 4 -->
</UL>   0<!-- lm: 0x2 14 -->
<UL> The executable file of the current process.
<!-- lm: 0x2 4 -->
</UL>&lt;&gt; 0<!-- lm: 0x2 14 -->
<UL> A handle to a dynamic link module
returned by <A HREF="076_L2_DosLoadModule.html">DosLoadModule</A>.<!-- lm: 0x2 1 -->
</UL><B> TypeID
</B>(USHORT) - input<!-- lm: 0x11 4 -->
<UL> A 16 bit resource type ID (see
Remarks).<!-- lm: 0x2 1 -->
</UL><B> NameID</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> A
16 bit resource name ID (see Remarks).<!-- lm: 0x2 1 -->
</UL><B> Selector
</B>(PSEL) - output<!-- lm: 0x11 4 -->
<UL> The address of a word where
the resource segment selector is returned.<!-- lm: 0x2 1 -->
</UL><B> rc
</B>(USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:
<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 6<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_HANDLE
<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
Resource segments are read-only data segments that can be accessed dynamically
at run time.  The access key consists of two 16-bit numbers, the first of
which is a type ID and the second, a name ID. These numbers are similar
in concept to the file extension and file name portions of a file name.

<P>
The advantage of resource segments is that they can be bundled into an application's
executable file, so a single file contains all of the code and data for
an application.
<P>
It is recommended that resource segments obtained through <A HREF="067_L2_DosGetResource.html">DosGetResource
</A>only be freed using <A HREF="046_L2_DosFreeSeg.html">DosFreeSeg</A>.

<P>
OS/2 Version 1.2 added two new functions, <A HREF="068_L2_DosGetResource2.html">DosGetResource2
</A>and  <A HREF="045_L2_DosFreeResource.html">DosFreeResource</A>, to load
and free an application specific resource. <A HREF="068_L2_DosGetResource2.html">DosGetResource2
</A>returns a far pointer to a resource rather than the selector returned
via <A HREF="067_L2_DosGetResource.html">DosGetResource</A>. It is recommended
that applications targeted for OS/2 1.2 use <A HREF="068_L2_DosGetResource2.html">DosGetResource2
</A>and <A HREF="045_L2_DosFreeResource.html">DosFreeResource</A>.  Applications
that wish to execute on OS/2 1.1 and 1.2 should use the OS/2 run-time dynamic
link capabilities, <A HREF="076_L2_DosLoadModule.html">DosLoadModule</A> and
<A HREF="065_L2_DosGetProcAddr.html">DosGetProcAddr</A>, to get the address
of  <A HREF="068_L2_DosGetResource2.html">DosGetResource2</A> and <A HREF="045_L2_DosFreeResource.html">DosFreeResource
</A>when executing on OS/2 1.2. If the <A HREF="065_L2_DosGetProcAddr.html">DosGetProcAddr
</A>call to obtain the address of <A HREF="068_L2_DosGetResource2.html">DosGetResource2
</A>and <A HREF="045_L2_DosFreeResource.html">DosFreeResource</A> fails,
the application can call <A HREF="067_L2_DosGetResource.html">DosGetResource
</A>and <A HREF="046_L2_DosFreeSeg.html">DosFreeSeg</A>. Applications that
use <A HREF="068_L2_DosGetResource2.html">DosGetResource2</A> and <A HREF="045_L2_DosFreeResource.html">DosFreeResource
</A>allow OS/2 to optimize memory allocation associated with the applications
resource.

<P><HR>

<A HREF="066_L2_DosGetPrty.html">[Back: DosGetPrty]</A> <BR>
<A HREF="068_L2_DosGetResource2.html">[Next: DosGetResource2]</A> 
</BODY>
</HTML>
