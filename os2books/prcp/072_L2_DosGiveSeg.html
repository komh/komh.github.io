<HTML>
<HEAD>
<TITLE>DosGiveSeg</TITLE>
</HEAD>
<BODY>
<H1>DosGiveSeg</H1><!-- entering slot 87 -->Bindings:  <A HREF="247_L2H_DosGiveSeg.html">C</A>,
<A HREF="422_L2H_DosGiveSeg.html">MASM</A>
<BR>

<P>
This call allows another process to access shared memory allocated by a
<A HREF="002_L2_DosAllocSeg.html">DosAllocSeg</A> or <A HREF="001_L2_DosAllocHuge.html">DosAllocHuge
</A>call.<!-- lm: 0x2 1 -->
<UL>
<P>
DosGiveSeg<!-- lm: 0x2 15 -->
<UL> (CallerSegSelector, ProcessID, RecipientSegSelector)
<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>CallerSegSelector</B> (SEL) - input<!-- lm: 0x11 4 -->
<UL> Segment selector
of the shared memory segment.<!-- lm: 0x2 1 -->
</UL><B> ProcessID</B> (PID)
- input<!-- lm: 0x11 4 -->
<UL> Process ID of the process to receive access
to the shared memory segment.<!-- lm: 0x2 1 -->
</UL><B> RecipientSegSelector
</B>(PSEL) - output<!-- lm: 0x11 4 -->
<UL> Address of the recipient's segment
selector.<!-- lm: 0x2 1 -->
</UL><B> rc</B> (USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return
code descriptions are:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 5<!-- lm: 0x2 14 -->
<UL> ERROR_ACCESS_DENIED
<!-- lm: 0x2 4 -->
</UL>8<!-- lm: 0x2 14 -->
<UL> ERROR_NOT_ENOUGH_MEMORY<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
DosGiveSeg returns a selector that can be given to another process to access
shared memory the giver has allocated by a <A HREF="002_L2_DosAllocSeg.html">DosAllocSeg
</A>or <A HREF="001_L2_DosAllocHuge.html">DosAllocHuge</A> call.  The giving
process passes the recipient's selector to the intended sharer by some means
of interprocess communication. If the recipient has created a queue with
<A HREF="018_L2_DosCreateQueue.html">DosCreateQueue</A>, the giver can issue
<A HREF="175_L2_DosWriteQueue.html">DosWriteQueue</A>, specifying the queue
name, and pass the selector in this manner.
<P>
If the memory being given was allocated by a <A HREF="001_L2_DosAllocHuge.html">DosAllocHuge
</A>request, the CallerSegSelector must be the base selector returned by
<A HREF="001_L2_DosAllocHuge.html">DosAllocHuge</A>. When the caller passes
the selector returned in RecipientSegSelector to the intended sharer, this
selector has addressability only to the first segment in the sharer's address
space of the huge allocation.  However, the recipient can call <A HREF="057_L2_DosGetHugeShift.html">DosGetHugeShift
</A>and use the shift count returned to calculate the selectors for the
remaining segments.

<P><HR>

<A HREF="071_L2_DosGetVersion.html">[Back: DosGetVersion]</A> <BR>
<A HREF="073_L2_DosHoldSignal.html">[Next: DosHoldSignal]</A> 
</BODY>
</HTML>
