<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosPFSCloseUser</TITLE>
</HEAD>
<BODY>
<H1>DosPFSCloseUser</H1><!-- entering slot 121 -->Bindings:  <A HREF="273_L2H_DosPFSCloseUser.html">C</A>,
<A HREF="448_L2H_DosPFSCloseUser.html">MASM</A>
<BR>

<P>
This call indicates to the Font Switcher that the specified process has
closed its spool file. The Font Switcher may then free any resources being
used to track code page and font switching for a process.<!-- lm: 0x2 1 -->
<UL>
<P>
DosPFSCloseUser<!-- lm: 0x2 21 -->
<UL> (PrinterName, SFN, Reserved)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>PrinterName</B> (PSZ) - input<!-- lm: 0x11 4 -->
<UL> Address of the
name of the printer that closes code page and font switching.<!-- lm: 0x2 1 -->
</UL><B> SFN
</B>(USHORT) - input<!-- lm: 0x11 4 -->
<UL> System File Number of the requester.
 The SFN is passed as a parameter in the monitor packet.<!-- lm: 0x2 1 -->
</UL><B> Reserved
</B>(ULONG) - input<!-- lm: 0x11 4 -->
<UL> Reserved must be set to zero.
<!-- lm: 0x2 1 -->
</UL><B>rc</B> (USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return
code descriptions are listed in the following section.<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
DosPFSCloseUser is intended for use only by applications that replace the
spooler as a print monitor and that do code page switching. Other applications
should use printer IOCTLs to manipulate printer code page switching.
<P>
DosPFSCloseUser is located in SPOOLCP.DLL (not in DOSCALLS.LIB)  and requires
an import statement in the module definition file.  Refer to the IBM Operating
System/2 Version 1.2 Building Programs, Module Definition File Statements
section for information regarding the import statement.
<P>
Return values are:<!-- lm: 0x2 1 -->
<P>
<LI><!-- lm: 0x2 11 -->Attempted to close system file number not active.
<!-- lm: 0x2 1 -->
<BR>
<LI><!-- lm: 0x2 11 -->Code page switcher internal error.<!-- lm: 0x2 1 -->
<BR>
10<!-- lm: 0x2 11 -->
<UL> Invalid printer name as input.<!-- lm: 0x2 1 -->
</UL>13<!-- lm: 0x2 11 -->
<UL> Received code page request when code page
switcher not initialized.<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="097_L2_DosPFSActivate.html">[Back: DosPFSActivate]</A> <BR>
<A HREF="099_L2_DosPFSInit.html">[Next: DosPFSInit]</A> 
</BODY>
</HTML>
