<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosGetShrSeg</TITLE>
</HEAD>
<BODY>
<H1>DosGetShrSeg</H1><!-- entering slot 85 -->Bindings:  <A HREF="245_L2H_DosGetShrSeg.html">C</A>,
<A HREF="420_L2H_DosGetShrSeg.html">MASM</A>
<BR>

<P>
This call accesses a shared memory segment previously allocated by another
process.<!-- lm: 0x2 1 -->
<UL>
<P>
DosGetShrSeg<!-- lm: 0x2 18 -->
<UL> (Name, Selector)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>Name</B> (PSZ) - input<!-- lm: 0x11 4 -->
<UL> Address of the name string
associated with the shared memory segment to be accessed.  The name is an
ASCIIZ string in the format of an OS/2 filename in a subdirectory called
\SHAREMEM\, for example, \SHAREMEM\PUBLIC.DAT.<!-- lm: 0x2 1 -->
</UL><B> Selector
</B>(PSEL) - output<!-- lm: 0x11 4 -->
<UL> Address of the selector for
the shared memory segment.<!-- lm: 0x2 1 -->
</UL><B> rc</B> (USHORT) -
return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 2<!-- lm: 0x2 14 -->
<UL> ERROR_FILE_NOT_FOUND
<!-- lm: 0x2 4 -->
</UL>4<!-- lm: 0x2 14 -->
<UL> ERROR_TOO_MANY_OPEN_FILES<!-- lm: 0x2 4 -->
</UL>123<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_NAME<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
DosGetShrSeg provides access to a named shared segment allocated by another
process with <A HREF="003_L2_DosAllocShrSeg.html">DosAllocShrSeg</A>. The
selector returned by DosGetShrSeg is the same as the one returned by the
<A HREF="003_L2_DosAllocShrSeg.html">DosAllocShrSeg</A> call.
<P>
A usage count is maintained for a named shared segment. Issuing DosGetShrSeg
increments the count, and issuing  <A HREF="046_L2_DosFreeSeg.html">DosFreeSeg
</A>decrements the count. When the usage count equals zero, the named shared
segment is deallocated.  Once the segment has been deallocated, it must
be reinitialized by a call to <A HREF="003_L2_DosAllocShrSeg.html">DosAllocShrSeg</A>.

<P>
To access shared memory that is allocated by another process with <A HREF="002_L2_DosAllocSeg.html">DosAllocSeg
</A>and <A HREF="001_L2_DosAllocHuge.html">DosAllocHuge</A> requests, a
process issues  <A HREF="069_L2_DosGetSeg.html">DosGetSeg</A>.

<P><HR>

<A HREF="069_L2_DosGetSeg.html">[Back: DosGetSeg]</A> <BR>
<A HREF="071_L2_DosGetVersion.html">[Next: DosGetVersion]</A> 
</BODY>
</HTML>
