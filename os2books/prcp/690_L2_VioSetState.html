<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>VioSetState</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>VioSetState</H1><!-- entering slot 746 -->Bindings:  <A HREF="734_L2H_VioSetState.html">C</A>,
<A HREF="778_L2H_VioSetState.html">MASM</A>
<BR>

<P>
This call performs one of the following functions; set palette registers,
sets the overscan (border) color, set the blink/background intensity switch,
set color registers, set the underline location, or set the target <A HREF="689_L2_VioSetMode.html">VioSetMode
</A>display configuration.<!-- lm: 0x2 1 -->
<UL>
<P>
VioSetState<!-- lm: 0x2 16 -->
<UL> (RequestBlock, VioHandle)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>RequestBlock</B> (PVOID) - input<!-- lm: 0x11 4 -->
<UL> Address of the
video state structures consisting of six different structures depending
on the request type:<!-- lm: 0x2 4 -->
<P>
Type<!-- lm: 0x2 14 -->
<UL> Definition<!-- lm: 0x2 4 -->
</UL>0<!-- lm: 0x2 14 -->
<UL> Set palette registers<!-- lm: 0x2 4 -->
</UL>1<!-- lm: 0x2 14 -->
<UL> Set overscan (border) color<!-- lm: 0x2 4 -->
</UL>2<!-- lm: 0x2 14 -->
<UL> Set blink/background intensity switch<!-- lm: 0x2 4 -->
</UL>3<!-- lm: 0x2 14 -->
<UL> Set color registers<!-- lm: 0x2 4 -->
</UL>4<!-- lm: 0x2 14 -->
<UL> Reserved<!-- lm: 0x2 4 -->
</UL>5<!-- lm: 0x2 14 -->
<UL> Set underline location<!-- lm: 0x2 4 -->
</UL>6<!-- lm: 0x2 14 -->
<UL> Set target <A HREF="689_L2_VioSetMode.html">VioSetMode
</A>display configuration<!-- lm: 0x2 4 -->
</UL>7<!-- lm: 0x2 14 -->
<UL> Reserved The six structures, depending on
request type, are:<!-- lm: 0x2 4 -->
</UL><I> VIOPALSTATE</I><!-- lm: 0x11 7 -->
<UL> Applies
to EGA, VGA, or IBM Personal System/2 Display Adapter.<!-- lm: 0x2 7 -->
<P>
<B>length</B> (USHORT) - input<!-- lm: 0x11 10 -->
<UL> Length of structure,
including length.<!-- lm: 0x2 10 -->
<P>
38<!-- lm: 0x2 20 -->
<UL> Maximum valid value.<!-- lm: 0x2 7 -->
</UL><B> reqtype
</B>(USHORT) - input<!-- lm: 0x11 10 -->
<UL> Request type 0 for palette
registers.<!-- lm: 0x2 7 -->
</UL><B> palette</B> (USHORT) - input<!-- lm: 0x11 10 -->
<UL> First
palette register in the palette register sequence; must be specified in
the range 0 through 15. The palette registers are returned in sequential
order.  The number returned is based upon length.<!-- lm: 0x2 7 -->
</UL><B> color
</B>(USHORT*(length-6)/2) - input<!-- lm: 0x11 10 -->
<UL> Color value for
each palette register.  The maximum number of entries in the color value
array is 16.<!-- lm: 0x2 4 -->
</UL><I> VIOOVERSCAN</I><!-- lm: 0x11 7 -->
<UL> Applies
to CGA, VGA, or IBM Personal System/2 Display Adapter.<!-- lm: 0x2 7 -->
<P>
<B>length</B> (USHORT) - input<!-- lm: 0x11 10 -->
<UL> Length of structure,
including length.<!-- lm: 0x2 10 -->
<P>
<LI><!-- lm: 0x2 20 -->Only valid value.<!-- lm: 0x2 7 -->
</UL><B> reqtype
</B>(USHORT) - input<!-- lm: 0x11 10 -->
<UL> Request type 1 for overscan
(border) color.<!-- lm: 0x2 7 -->
</UL><B> color</B> (USHORT) - input<!-- lm: 0x11 10 -->
<UL> Color
value.<!-- lm: 0x2 4 -->
</UL><I> VIOINTENSITY</I><!-- lm: 0x11 7 -->
<UL> Applies
to CGA, EGA, MCGA, VGA, or IBM Personal System/2 Display Adapter.<!-- lm: 0x2 7 -->
<P>
<B>length</B> (USHORT) - input<!-- lm: 0x11 10 -->
<UL> Length of structure,
including length.<!-- lm: 0x2 10 -->
<P>
<LI><!-- lm: 0x2 20 -->Only valid value.<!-- lm: 0x2 7 -->
</UL><B> reqtype
</B>(USHORT) - input<!-- lm: 0x11 10 -->
<UL> Request type 2 for blink/background
intensity switch.<!-- lm: 0x2 7 -->
</UL><B> switch</B> (USHORT) - input
<!-- lm: 0x11 10 -->
<UL>Switch set as:<!-- lm: 0x2 10 -->
<P>
Value<!-- lm: 0x2 20 -->
<UL> Definition<!-- lm: 0x2 10 -->
</UL>0<!-- lm: 0x2 20 -->
<UL> Blinking foreground colors enabled.<!-- lm: 0x2 10 -->
</UL>1<!-- lm: 0x2 20 -->
<UL> High intensity background colors enabled.
<!-- lm: 0x2 7 -->
</UL><I>VIOCOLORREG</I><!-- lm: 0x11 10 -->
<UL> Applies
to VGA, or IBM Personal System/2 Display Adapter.<!-- lm: 0x2 10 -->
<P>
<B>length</B> (USHORT) - input<!-- lm: 0x11 13 -->
<UL> Length of structure,
including length.<!-- lm: 0x2 13 -->
<P>
12<!-- lm: 0x2 23 -->
<UL> Only valid value.<!-- lm: 0x2 10 -->
</UL><B> type
</B>(USHORT) - input<!-- lm: 0x11 13 -->
<UL> Request type 3 for color registers.
<!-- lm: 0x2 10 -->
</UL><B>first color</B> (USHORT) - input<!-- lm: 0x11 13 -->
<UL> First
color register to set in the color register sequence; must be specified
in the range 0 through 255. The color registers are set in sequential order.
<!-- lm: 0x2 10 -->
</UL><B>number color</B> (USHORT) - input<!-- lm: 0x11 13 -->
<UL> Number
of color registers to set; must be specified in the range 1 through 256.
<!-- lm: 0x2 10 -->
</UL><B>datarea</B> (PCH) - input<!-- lm: 0x11 13 -->
<UL> Far
address of a data area containing one three-byte entry for each color register
to be set. The format of each entry is as follows:<!-- lm: 0x2 13 -->
<P>
Byte 1<!-- lm: 0x2 23 -->
<UL> Red value<!-- lm: 0x2 13 -->
</UL>Byte 2<!-- lm: 0x2 23 -->
<UL> Green value<!-- lm: 0x2 13 -->
</UL>Byte 3<!-- lm: 0x2 23 -->
<UL> Blue value.<!-- lm: 0x2 7 -->
</UL><I> VIOSETULINELOC
</I><!-- lm: 0x11 10 -->
<UL>Applies to EGA, VGA, or IBM Personal System/2
Display Adapter.<!-- lm: 0x2 10 -->
<P>
<B>length</B> (USHORT) - input<!-- lm: 0x11 13 -->
<UL> Length of structure,
including length.<!-- lm: 0x2 13 -->
<P>
<LI><!-- lm: 0x2 23 -->Only valid value.<!-- lm: 0x2 10 -->
</UL><B> type
</B>(USHORT) - input<!-- lm: 0x11 13 -->
<UL> Request type 5 to set the
scan line for underlining. Underlining is enabled only when the foreground
color is 1 or 9.<!-- lm: 0x2 10 -->
</UL><B> scanline</B> (USHORT) - input
<!-- lm: 0x11 13 -->
<UL>Scan line minus 1. Values of 0 through 31 are acceptable.
A value of 32 means underlining is disabled.<!-- lm: 0x2 7 -->
</UL><I> VIOSETTARGET
</I><!-- lm: 0x11 10 -->
<UL><!-- lm: 0x2 10 -->
<P>
<B>length</B> (USHORT) - input<!-- lm: 0x11 13 -->
<UL> Length of structure,
including length.<!-- lm: 0x2 13 -->
<P>
<LI><!-- lm: 0x2 23 -->Only valid value.<!-- lm: 0x2 10 -->
</UL><B> type
</B>(USHORT) - input<!-- lm: 0x11 13 -->
<UL> Request type 6 to set display
configuration to be the target of the next <A HREF="689_L2_VioSetMode.html">VioSetMode</A>.
<!-- lm: 0x2 10 -->
</UL><B>select</B> (USHORT) - input<!-- lm: 0x11 13 -->
<UL> Configuration:
<!-- lm: 0x2 13 -->
<P>
Value<!-- lm: 0x2 23 -->
<UL> Definition<!-- lm: 0x2 13 -->
</UL>0<!-- lm: 0x2 23 -->
<UL> Default selection algorithm.  See <A HREF="689_L2_VioSetMode.html">VioSetMode</A>.
<!-- lm: 0x2 13 -->
</UL>1<!-- lm: 0x2 23 -->
<UL> Primary<!-- lm: 0x2 13 -->
</UL>2<!-- lm: 0x2 23 -->
<UL> Secondary.<!-- lm: 0x2 1 -->
</UL><B> VioHandle
</B>(HVIO) - input<!-- lm: 0x11 4 -->
<UL> Reserved word of 0s.<!-- lm: 0x2 1 -->
</UL><B> rc
</B>(USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:
<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 355<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_MODE
<!-- lm: 0x2 4 -->
</UL>421<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_INVALID_PARMS<!-- lm: 0x2 4 -->
</UL>436<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_INVALID_HANDLE<!-- lm: 0x2 4 -->
</UL>438<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_INVALID_LENGTH<!-- lm: 0x2 4 -->
</UL>465<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_DETACHED<!-- lm: 0x2 4 -->
</UL>494<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_EXTENDED_SG<!-- lm: 0x2 1 -->
</UL>
<P>
<B>Family API Considerations</B>
<P>
Request type = 6, Set Target <A HREF="689_L2_VioSetMode.html">VioSetMode
</A>Display Configuration, and request type = 5,
<BR>
Set Underline Location, are not supported in the family API.
<P>
Some options operate differently in the DOS mode than in the OS/2 mode.
 Therefore, the following considerations applies to VioSetMode when coding
for the DOS mode:
<PRE>
  VioSetMode clears the screen.
</PRE>


<P><HR>

<A HREF="689_L2_VioSetMode.html">[Back: VioSetMode]</A> <BR>
<A HREF="691_L2_VioShowBuf.html">[Next: VioShowBuf]</A> 
</BODY>
</HTML>
