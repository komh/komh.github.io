<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosPortAccess</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosPortAccess</H1><!-- entering slot 126 -->Bindings:  <A HREF="278_L2H_DosPortAccess.html">C</A>,
<A HREF="453_L2H_DosPortAccess.html">MASM</A>
<BR>

<P>
This call requests or releases access to ports for I/O privilege.<!-- lm: 0x2 1 -->
<UL>
<P>
DosPortAccess<!-- lm: 0x2 19 -->
<UL> (Reserved, TypeOfAccess, FirstPort,
LastPort)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>Reserved</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> Must be set to
zero.<!-- lm: 0x2 1 -->
</UL><B> TypeOfAccess</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> A
request for or release of access to a port.<!-- lm: 0x2 4 -->
<P>
Value<!-- lm: 0x2 14 -->
<UL> Definition<!-- lm: 0x2 4 -->
</UL>0<!-- lm: 0x2 14 -->
<UL> Request access<!-- lm: 0x2 4 -->
</UL>1<!-- lm: 0x2 14 -->
<UL> Release access.<!-- lm: 0x2 1 -->
</UL><B> FirstPort
</B>(USHORT) - input<!-- lm: 0x11 4 -->
<UL> Starting (low) number in a
contiguous range or a single port.<!-- lm: 0x2 1 -->
</UL><B> LastPort</B> (USHORT)
- input<!-- lm: 0x11 4 -->
<UL> Ending (high) number in a contiguous range
or a single port. If only one port is being used, FirstPort and LastPort
should both be set to this port.<!-- lm: 0x2 1 -->
</UL><B> rc</B> (USHORT)
- return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 5<!-- lm: 0x2 14 -->
<UL> ERROR_ACCESS_DENIED
<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
Note that CLI/STI privilege is also granted automatically. There is no need
to make an additional call to <A HREF="011_L2_DosCLIAccess.html">DosCLIAccess</A>.

<P>
Applications that perform I/O to port(s) in IOPL segments must request port
access from the operating system.
<P>
An application with no IOPL segments that accesses a device through a device
driver or by an interface package such as VIO, does not need to issue this
call. The device driver or interface package is responsible for obtaining
the necessary I/O access.

<P><HR>

<A HREF="102_L2_DosPhysicalDisk.html">[Back: DosPhysicalDisk]</A> <BR>
<A HREF="104_L2_DosPtrace.html">[Next: DosPtrace]</A> 
</BODY>
</HTML>
