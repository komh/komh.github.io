<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>VioSetFont</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>VioSetFont</H1><!-- entering slot 742 -->Bindings:  <A HREF="732_L2H_VioSetFont.html">C</A>,
<A HREF="776_L2H_VioSetFont.html">MASM</A>
<BR>

<P>
This call downloads a display font.  The font being set must be compatible
with the current mode.<!-- lm: 0x2 1 -->
<UL>
<P>
VioSetFont<!-- lm: 0x2 15 -->
<UL> (RequestBlock, VioHandle)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>RequestBlock</B> (PVIOFONTINFO) - input<!-- lm: 0x11 4 -->
<UL> Address
of the font structure containing the request:<!-- lm: 0x2 4 -->
<P>
<B>length</B> (USHORT)<!-- lm: 0x11 7 -->
<UL> Length of structure, including
length.<!-- lm: 0x2 7 -->
<P>
14<!-- lm: 0x2 17 -->
<UL> Only valid value.<!-- lm: 0x2 4 -->
</UL><B> reqtype
</B>(USHORT)<!-- lm: 0x11 7 -->
<UL> Request type:<!-- lm: 0x2 7 -->
<P>
Type<!-- lm: 0x2 17 -->
<UL> Definition<!-- lm: 0x2 7 -->
</UL>0<!-- lm: 0x2 17 -->
<UL> Set current RAM font for EGA, VGA, or IBM
Personal System/2 Display Adapter.<!-- lm: 0x2 4 -->
</UL><B> pelcolumns
</B>(USHORT)<!-- lm: 0x11 7 -->
<UL> Pel columns in character cell.<!-- lm: 0x2 4 -->
</UL><B> pelrows
</B>(USHORT)<!-- lm: 0x11 7 -->
<UL> Pel rows in character cell.<!-- lm: 0x2 4 -->
</UL><B> fonttable
</B>(PVOID)<!-- lm: 0x11 7 -->
<UL> Address of the data area containing
font table to set.<!-- lm: 0x2 4 -->
</UL><B> tablelength</B> (USHORT)<!-- lm: 0x11 7 -->
<UL> Length,
in bytes, of the caller-supplied data area; must be 256 times the character
cell height specified in pelrows.<!-- lm: 0x2 1 -->
</UL><B> VioHandle</B> (HVIO)
- input<!-- lm: 0x11 4 -->
<UL> Reserved word of 0s.<!-- lm: 0x2 1 -->
</UL><B> rc
</B>(USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:
<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 355<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_MODE
<!-- lm: 0x2 4 -->
</UL>421<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_INVALID_PARMS<!-- lm: 0x2 4 -->
</UL>436<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_INVALID_HANDLE<!-- lm: 0x2 4 -->
</UL>438<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_INVALID_LENGTH<!-- lm: 0x2 4 -->
</UL>465<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_DETACHED<!-- lm: 0x2 4 -->
</UL>467<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_FONT<!-- lm: 0x2 4 -->
</UL>468<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_USER_FONT<!-- lm: 0x2 4 -->
</UL>494<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_EXTENDED_SG<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
VioSetFont is applicable only for the enhanced graphics adapter, VGA or
IBM Personal System/2 Display Adapter.
<P>
<B>Note: </B> Although graphics mode support is provided in VioSetFont,
this support is not provided by the Base Video Handlers provided with OS/2.
<!-- lm: 0x2 1 -->
<P>

<P>
When VioSetFont is issued, the current code page is reset. If <A HREF="660_L2_VioGetCp.html">VioGetCp
</A>is subsequently issued, the error code ERROR_VIO_USER_FONT is returned.
Return code, ERROR_VIO_USER_FONT represents a warning.  It indicates that
although the font could not be loaded into the adapter using the current
mode, the font was saved as part of a special user font code page for use
with a later <A HREF="689_L2_VioSetMode.html">VioSetMode</A>. Successfully
setting a user font sets the special user font code page, just as if a code
page of -1 was specified using <A HREF="685_L2_VioSetCp.html">VioSetCp</A>.

<P>
The user font code page consists of the most recent user font of each size
that was set by VioSetFont.  For example, if two 8x12 fonts and three 8x16
fonts had been set, only two fonts, the most recent of the 8x12 and 8x16
fonts, would be saved.
<P>
The special code page is used in the same way as those code pages specified
on the CODEPAGE = statement in CONFIG.SYS.

<P><HR>

<A HREF="687_L2_VioSetCurType.html">[Back: VioSetCurType]</A> <BR>
<A HREF="689_L2_VioSetMode.html">[Next: VioSetMode]</A> 
</BODY>
</HTML>
