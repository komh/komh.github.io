<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>KbdXlate</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>KbdXlate</H1><!-- entering slot 590 -->Bindings:  <A HREF="564_L2H_KbdXlate.html">C</A>,
<A HREF="583_L2H_KbdXlate.html">MASM</A>
<BR>

<P>
This call translates scan codes with shift states into ASCII codes.<!-- lm: 0x2 1 -->
<UL>
<P>
KbdXlate<!-- lm: 0x2 11 -->
<UL> (XlateRecord, KbdHandle)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>XlateRecord</B> (PKBDTRANS) - input<!-- lm: 0x11 4 -->
<UL> Address of
the translation record structure:<!-- lm: 0x2 4 -->
<P>
<B>chardata</B> (KBDKEYINFO)<!-- lm: 0x11 7 -->
<UL> Character data information
structure as defined in <A HREF="527_L2_KbdCharIn.html">KbdCharIn</A> call.
<!-- lm: 0x2 4 -->
</UL><B>kbdflag</B> (USHORT)<!-- lm: 0x11 7 -->
<UL> See
the KbdDDFlagWord call in the "Keyboard Device Driver" section of IBM Operating
System/2 Version 1.2 I/O Subsystems And Device Support Volume 1.<!-- lm: 0x2 4 -->
</UL><B> xlate
</B>(USHORT)<!-- lm: 0x11 7 -->
<UL> Translation flag:<!-- lm: 0x2 7 -->
<P>
Value<!-- lm: 0x2 17 -->
<UL> Definition<!-- lm: 0x2 7 -->
</UL>0<!-- lm: 0x2 17 -->
<UL> Translation incomplete.<!-- lm: 0x2 7 -->
</UL>1<!-- lm: 0x2 17 -->
<UL> Translation complete.<!-- lm: 0x2 4 -->
</UL><B> xlatestate1
</B>(USHORT)<!-- lm: 0x11 7 -->
<UL> Identifies the state of translation
across successive calls; initially the value should be zero. It may take
several calls to this function to complete a character. The value should
not be changed unless a new translation is required, that is, reset value
to zero.<!-- lm: 0x2 4 -->
</UL><B> xlatestate2</B> (USHORT)<!-- lm: 0x11 7 -->
<UL> See
description for xlatestate1.<!-- lm: 0x2 1 -->
</UL><B> KbdHandle</B> (HKBD)
- input<!-- lm: 0x11 4 -->
<UL> Default keyboard or the logical keyboard.
<!-- lm: 0x2 1 -->
</UL><B>rc</B> (USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return
code descriptions are:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 439<!-- lm: 0x2 14 -->
<UL> ERROR_KBD_INVALID_HANDLE
<!-- lm: 0x2 4 -->
</UL>445<!-- lm: 0x2 14 -->
<UL> ERROR_KBD_FOCUS_REQUIRED<!-- lm: 0x2 4 -->
</UL>447<!-- lm: 0x2 14 -->
<UL> ERROR_KBD_KEYBOARD_BUSY<!-- lm: 0x2 4 -->
</UL>464<!-- lm: 0x2 14 -->
<UL> ERROR_KBD_DETACHED<!-- lm: 0x2 4 -->
</UL>504<!-- lm: 0x2 14 -->
<UL> ERROR_KBD_EXTENDED_SG<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
It may take several calls to complete a translation because of accent key
combinations, or other complex operations.
<P>
The Xlatestate1 and Xlatestate2 are for use by the keyboard translation
routines.  These fields are reserved and must only be accessed by the caller
prior to starting a translation sequence and then they must be set to zero.
The KbdXlate function is intended to be used for translating a particular
scan code for a given shift state.  The KbdXlate function is not intended
to be a replacement for the OS/2 system keystroke translation function.


<P><HR>

<A HREF="544_L2_KbdSynch.html">[Back: KbdSynch]</A> <BR>
<A HREF="546_L2H_KbdCharIn.html">[Next: KbdCharIn]</A> 
</BODY>
</HTML>
