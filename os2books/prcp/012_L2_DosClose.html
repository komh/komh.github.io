<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosClose</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosClose</H1><!-- entering slot 13 -->Bindings:  <A HREF="187_L2H_DosClose.html">C</A>,
<A HREF="362_L2H_DosClose.html">MASM</A>
<BR>

<P>
This call closes a handle to a file, pipe, or device.<!-- lm: 0x2 1 -->
<UL>
<P>
DosClose<!-- lm: 0x2 13 -->
<UL> (FileHandle)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>FileHandle</B> (HFILE) - input<!-- lm: 0x11 4 -->
<UL> Handle returned
by a previous <A HREF="091_L2_DosOpen.html">DosOpen</A>, <A HREF="078_L2_DosMakeNmPipe.html">DosMakeNmPipe</A>,
or <A HREF="079_L2_DosMakePipe.html">DosMakePipe</A> call.<!-- lm: 0x2 1 -->
</UL><B> rc
</B>(USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:
<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 2<!-- lm: 0x2 14 -->
<UL> ERROR_FILE_NOT_FOUND
<!-- lm: 0x2 4 -->
</UL>5<!-- lm: 0x2 14 -->
<UL> ERROR_ACCESS_DENIED<!-- lm: 0x2 4 -->
</UL>6<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_HANDLE<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
Issuing DosClose with the handle to a file closes a handle to a file, pipe,
or device.
<P>
If one or more additional handles to a file have been created with <A HREF="027_L2_DosDupHandle.html">DosDupHandle</A>,
the directory is not updated and all internal buffers are not written to
the medium until DosClose has been issued for the duplicated handles.
<P>
Closing a handle to a device causes the device to be notified of the close,
if appropriate.
<P>

<BR>
<B>Named Pipe Considerations</B>
<P>
DosClose closes a named pipe by handle.  When all handles referencing one
end of a pipe are closed, the pipe is considered broken.
<P>
If the client end closes, no other process can re-open the pipe until the
serving end issues a <A HREF="026_L2_DosDisConnectNmPipe.html">DosDisConnectNmPipe
</A>followed by a <A HREF="015_L2_DosConnectNmPipe.html">DosConnectNmPipe</A>.

<P>
If the server end closes when the pipe is already broken, it is deallocated
immediately; otherwise, the pipe is not deallocated until the last client
handle is closed.

<P><HR>

<A HREF="011_L2_DosCLIAccess.html">[Back: DosCLIAccess]</A> <BR>
<A HREF="013_L2_DosCloseQueue.html">[Next: DosCloseQueue]</A> 
</BODY>
</HTML>
