<HTML>
<HEAD>
<TITLE>VioGetState</TITLE>
</HEAD>
<BODY>
<H1>VioGetState</H1><!-- entering slot 715 -->Bindings:  <A HREF="710_L2H_VioGetState.html">C</A>,
<A HREF="754_L2H_VioGetState.html">MASM</A>
<BR>

<P>
This call returns the current settings of the palette registers, overscan
(border) color, blink/background intensity switch, color registers, underline
location, or target <A HREF="689_L2_VioSetMode.html">VioSetMode</A> display
configuration.<!-- lm: 0x2 1 -->
<UL>
<P>
VioGetState<!-- lm: 0x2 15 -->
<UL> (RequestBlock, VioHandle)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>RequestBlock</B> (PVOID) - input/output<!-- lm: 0x11 4 -->
<UL> Address
of the video state structures consisting of six different structures depending
on the request type:<!-- lm: 0x2 4 -->
<P>
Type<!-- lm: 0x2 14 -->
<UL> Definition<!-- lm: 0x2 4 -->
</UL>0<!-- lm: 0x2 14 -->
<UL> Get palette registers<!-- lm: 0x2 4 -->
</UL>1<!-- lm: 0x2 14 -->
<UL> Get overscan (border) color<!-- lm: 0x2 4 -->
</UL>2<!-- lm: 0x2 14 -->
<UL> Get blink/background intensity switch<!-- lm: 0x2 4 -->
</UL>3<!-- lm: 0x2 14 -->
<UL> Get color registers<!-- lm: 0x2 4 -->
</UL>4<!-- lm: 0x2 14 -->
<UL> Reserved<!-- lm: 0x2 4 -->
</UL>5<!-- lm: 0x2 14 -->
<UL> Get the scan line for underlining<!-- lm: 0x2 4 -->
</UL>6<!-- lm: 0x2 14 -->
<UL> Get target <A HREF="689_L2_VioSetMode.html">VioSetMode
</A>display configuration.<!-- lm: 0x2 4 -->
</UL>7<!-- lm: 0x2 14 -->
<UL> Reserved The six structures, depending on
request type, are:<!-- lm: 0x2 4 -->
</UL><I> VIOPALSTATE</I><!-- lm: 0x11 7 -->
<UL> Applies
to EGA, VGA, or IBM Personal System/2 Display Adapter.<!-- lm: 0x2 7 -->
<P>
<B>length</B> (USHORT) - input<!-- lm: 0x11 10 -->
<UL> Length of structure,
including length.<!-- lm: 0x2 10 -->
<P>
38<!-- lm: 0x2 20 -->
<UL> Maximum valid value.<!-- lm: 0x2 7 -->
</UL><B> type
</B>(USHORT) - input<!-- lm: 0x11 10 -->
<UL> Request type 0 for palette
registers.<!-- lm: 0x2 7 -->
</UL><B> palette</B> (USHORT) - input<!-- lm: 0x11 10 -->
<UL> First
palette register in the palette register sequence; must be specified in
the range 0 through 15. The palette registers are returned in sequential
order.  The number returned is based upon length.<!-- lm: 0x2 7 -->
</UL><B> color
</B>(USHORT*(length-6)/2) - output<!-- lm: 0x11 10 -->
<UL> Color value
for each palette register.  The maximum number of entries in the color value
array is 16.<!-- lm: 0x2 4 -->
</UL><I> VIOOVERSCAN</I><!-- lm: 0x11 7 -->
<UL> Applies
to CGA, VGA, or IBM Personal System/2 Display Adapter.<!-- lm: 0x2 7 -->
<P>
<B>length</B> (USHORT) - input<!-- lm: 0x11 10 -->
<UL> Length of structure,
including length.<!-- lm: 0x2 10 -->
<P>
<LI><!-- lm: 0x2 20 -->Only valid value.<!-- lm: 0x2 7 -->
</UL><B> type
</B>(USHORT) - input<!-- lm: 0x11 10 -->
<UL> Request type 1 for overscan
(border) color.<!-- lm: 0x2 7 -->
</UL><B> color</B> (USHORT) - input<!-- lm: 0x11 10 -->
<UL> Color
value.<!-- lm: 0x2 4 -->
</UL><I> VIOINTENSITY</I><!-- lm: 0x11 7 -->
<UL> Applies
to CGA, EGA, MCGA, VGA, or IBM Personal System/2 Display Adapter.<!-- lm: 0x2 7 -->
<P>
<B>length</B> (USHORT) - input<!-- lm: 0x11 10 -->
<UL> Length of structure,
including length.<!-- lm: 0x2 10 -->
<P>
<LI><!-- lm: 0x2 20 -->Only valid value.<!-- lm: 0x2 7 -->
</UL><B> type
</B>(USHORT) - input<!-- lm: 0x11 10 -->
<UL> Request type 2 for blink/background
intensity switch.<!-- lm: 0x2 7 -->
</UL><B> switch</B> (USHORT) - output
<!-- lm: 0x11 10 -->
<UL>Switch set as:<!-- lm: 0x2 10 -->
<P>
Value<!-- lm: 0x2 20 -->
<UL> Definition<!-- lm: 0x2 10 -->
</UL>0<!-- lm: 0x2 20 -->
<UL> Blinking foreground colors enabled.<!-- lm: 0x2 10 -->
</UL>1<!-- lm: 0x2 20 -->
<UL> High intensity background colors enabled.
<!-- lm: 0x2 4 -->
</UL><I>VIOCOLORREG</I><!-- lm: 0x11 7 -->
<UL> Applies
to VGA, or IBM Personal System/2 Display Adapter.<!-- lm: 0x2 7 -->
<P>
<B>length</B> (USHORT) - input<!-- lm: 0x11 10 -->
<UL> Length of structure,
including length.<!-- lm: 0x2 10 -->
<P>
12<!-- lm: 0x2 20 -->
<UL> Length in bytes.<!-- lm: 0x2 7 -->
</UL><B> type
</B>(USHORT) - input<!-- lm: 0x11 10 -->
<UL> Request type 3 for color registers.
<!-- lm: 0x2 7 -->
</UL><B>first color</B> (USHORT) - input<!-- lm: 0x11 10 -->
<UL> First
color register to get in the color register sequence; must be specified
in the range 0 through 255. The color registers are returned in sequential
order.<!-- lm: 0x2 7 -->
</UL><B> number color</B> (USHORT) - input<!-- lm: 0x11 10 -->
<UL> Number
of color registers to get; must be specified in the range 1 through 256.
<!-- lm: 0x2 7 -->
</UL><B>datarea</B> (PCH) - input<!-- lm: 0x11 10 -->
<UL> Far
address of a data area where the color registers are returned. The size
of the data area must be three bytes times the number of color registers
to get. The format of each entry returned is as follows:<!-- lm: 0x2 10 -->
<P>
Byte 1<!-- lm: 0x2 20 -->
<UL> Red value<!-- lm: 0x2 10 -->
</UL>Byte 2<!-- lm: 0x2 20 -->
<UL> Green value<!-- lm: 0x2 10 -->
</UL>Byte 3<!-- lm: 0x2 20 -->
<UL> Blue value<!-- lm: 0x2 4 -->
</UL><I> VIOSETULINELOC
</I><!-- lm: 0x11 7 -->
<UL>Applies to EGA, VGA, or IBM Personal System/2
Display Adapter.<!-- lm: 0x2 7 -->
<P>
<B>length</B> (USHORT) - input<!-- lm: 0x11 10 -->
<UL> Length of structure,
including length.<!-- lm: 0x2 10 -->
<P>
<LI><!-- lm: 0x2 20 -->Length in bytes.<!-- lm: 0x2 7 -->
</UL><B> type
</B>(USHORT) - input<!-- lm: 0x11 10 -->
<UL> Request type 5 to get the
scan line for underlining. Underlining is enabled only when the foreground
color is 1 or 9.<!-- lm: 0x2 7 -->
</UL><B> scanline</B> (USHORT) - output
<!-- lm: 0x11 10 -->
<UL>The value returned is in the range 0 through 31
and is the scan line minus 1.  A value of 32 means underlining is disabled.
<!-- lm: 0x2 4 -->
</UL><I>VIOSETTARGET</I><!-- lm: 0x11 7 -->
<UL><!-- lm: 0x2 7 -->
<P>
<B>length</B> (USHORT) - input<!-- lm: 0x11 10 -->
<UL> Length of structure,
including length.<!-- lm: 0x2 10 -->
<P>
<LI><!-- lm: 0x2 20 -->Length in bytes.<!-- lm: 0x2 7 -->
</UL><B> type
</B>(USHORT) - input<!-- lm: 0x11 10 -->
<UL> Request type 6 to get display
configuration selected to be the target of the next <A HREF="689_L2_VioSetMode.html">VioSetMode</A>.
<!-- lm: 0x2 7 -->
</UL><B>select</B> (USHORT) - output<!-- lm: 0x11 10 -->
<UL> Configuration:
<!-- lm: 0x2 10 -->
<P>
Value<!-- lm: 0x2 20 -->
<UL> Definition<!-- lm: 0x2 10 -->
</UL>0<!-- lm: 0x2 20 -->
<UL> Default selection algorithm. See <A HREF="689_L2_VioSetMode.html">VioSetMode</A>.
<!-- lm: 0x2 10 -->
</UL>1<!-- lm: 0x2 20 -->
<UL> Primary<!-- lm: 0x2 10 -->
</UL>2<!-- lm: 0x2 20 -->
<UL> Secondary.<!-- lm: 0x2 1 -->
</UL><B> VioHandle
</B>(HVIO) - input<!-- lm: 0x11 4 -->
<UL> Reserved word of 0s.<!-- lm: 0x2 1 -->
</UL><B> rc
</B>(USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:
<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 355<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_MODE
<!-- lm: 0x2 4 -->
</UL>421<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_INVALID_PARMS<!-- lm: 0x2 4 -->
</UL>436<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_INVALID_HANDLE<!-- lm: 0x2 4 -->
</UL>438<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_INVALID_LENGTH<!-- lm: 0x2 4 -->
</UL>465<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_DETACHED<!-- lm: 0x2 4 -->
</UL>494<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_EXTENDED_SG<!-- lm: 0x2 1 -->
</UL>
<P>
<B>Family API Considerations</B>
<P>
Request type = 6, Get Target <A HREF="689_L2_VioSetMode.html">VioSetMode
</A>Display Configuration, and request type = 5, Get Underline Location,
are not supported in the family API.

<P><HR>

<A HREF="665_L2_VioGetPhysBuf.html">[Back: VioGetPhysBuf]</A> <BR>
<A HREF="667_L2_VioGlobalReg.html">[Next: VioGlobalReg]</A> 
</BODY>
</HTML>
