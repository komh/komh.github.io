<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosCreateCSAlias</TITLE>
</HEAD>
<BODY>
<H1>DosCreateCSAlias</H1><!-- entering slot 18 -->Bindings:  <A HREF="192_L2H_DosCreateCSAlias.html">C</A>,
<A HREF="367_L2H_DosCreateCSAlias.html">MASM</A>
<BR>

<P>
This call creates a code segment alias descriptor for a data segment passed
as input.<!-- lm: 0x2 1 -->
<UL>
<P>
DosCreateCSAlias<!-- lm: 0x2 22 -->
<UL> (DataSelector, CodeSelector)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>DataSelector</B> (SEL) - input<!-- lm: 0x11 4 -->
<UL> Data segment selector.
<!-- lm: 0x2 1 -->
</UL><B>CodeSelector</B> (PSEL) - output<!-- lm: 0x11 4 -->
<UL> Address
where the selector of the code segment alias descriptor is returned.<!-- lm: 0x2 1 -->
</UL><B> rc
</B>(USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:
<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 5<!-- lm: 0x2 14 -->
<UL> ERROR_ACCESS_DENIED
<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
A selector returned by a call to <A HREF="002_L2_DosAllocSeg.html">DosAllocSeg
</A>with no sharing options specified can be used as the data segment specified
with DosCreateCSAlias.  However, to be CS alias, the segment must be a privilege
level 2 or privilege level 3 non-shared segment.
<P>
A CS alias segment must be exclusively accessible by the process and cannot
be a huge segment.  Selectors of shared memory segments and dynamically
linked global data segments cannot be used as input for DosCreateCSAlias.

<P>
The code segment selector returned by DosCreateCSAlias is valid for CS.
If a procedure is stored in the data segment, it can be called using the
CS alias.  The procedure may be called from privilege level 3 or I/O privilege
level.
<P>
Use <A HREF="046_L2_DosFreeSeg.html">DosFreeSeg</A> to free a CS alias selector
created with DosCreateCSAlias.  Procedures in the segment can continue to
be referenced if the data selector for the aliased segment is passed to
<A HREF="046_L2_DosFreeSeg.html">DosFreeSeg</A>, because the CS alias selector
is not affected. Once both selectors have been passed to <A HREF="046_L2_DosFreeSeg.html">DosFreeSeg</A>,
the segment is deallocated.
<P>

<BR>
<B>Family API Considerations</B>
<P>
The returned selector is the segment address of the allocated memory. When
the returned selector or the original selector is freed, OS/2 immediately
deallocates the block of memory.

<P><HR>

<A HREF="016_L2_DosCopy.html">[Back: DosCopy]</A> <BR>
<A HREF="018_L2_DosCreateQueue.html">[Next: DosCreateQueue]</A> 
</BODY>
</HTML>
