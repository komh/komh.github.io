<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosSubSet</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosSubSet</H1><!-- entering slot 205 -->Bindings:  <A HREF="340_L2H_DosSubSet.html">C</A>,
<A HREF="515_L2H_DosSubSet.html">MASM</A>
<BR>

<P>
This call is used to initialize a segment or to reset a reallocated segment
for suballocation.<!-- lm: 0x2 1 -->
<UL>
<P>
DosSubSet<!-- lm: 0x2 14 -->
<UL> (SegSelector, Flags, Size)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>SegSelector</B> (SEL) - input<!-- lm: 0x11 4 -->
<UL> Target data segment
selector.<!-- lm: 0x2 1 -->
</UL><B> Flags</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> 0
= Increasing the size of a segment already initialized.
<P>
1 = Initializing a segment.<!-- lm: 0x2 1 -->
</UL><B> Size</B> (USHORT)
- input<!-- lm: 0x11 4 -->
<UL> Segment size in bytes.<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>rc</B> (USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions
are:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 310<!-- lm: 0x2 14 -->
<UL> ERROR_DOSSUB_SHRINK
<!-- lm: 0x2 4 -->
</UL>313<!-- lm: 0x2 14 -->
<UL> ERROR_DOSSUB_BADSIZE<!-- lm: 0x2 4 -->
</UL>314<!-- lm: 0x2 14 -->
<UL> ERROR_DOSSUB_BADFLAG<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
To initialize a segment for suballocation, issue DosSubSet before issuing
<A HREF="163_L2_DosSubAlloc.html">DosSubAlloc</A> and set Flags = 1.  The
segment must have been allocated with <A HREF="002_L2_DosAllocSeg.html">DosAllocSeg
</A>or <A HREF="003_L2_DosAllocShrSeg.html">DosAllocShrSeg</A>.
<P>
If a segment allocated by a <A HREF="002_L2_DosAllocSeg.html">DosAllocSeg
</A>call has already been set for suballocation, and a call to <A HREF="163_L2_DosSubAlloc.html">DosSubAlloc
</A>returns Error_DOSSUB_NOMEM, the segment's size can be increased by a
call to <A HREF="128_L2_DosReallocSeg.html">DosReallocSeg</A>. After reallocation,
the segment must be reset by a DosSubSet. Failure to reset the segment after
changing its size can yield unpredictable results.
<P>
The size parameter should be a multiple of four bytes, or it is rounded
up to a multiple of four.  Note in DosSubSet, a size parameter of 0 indicates
the segment is 64KB, while in <A HREF="163_L2_DosSubAlloc.html">DosSubAlloc
</A>and  <A HREF="164_L2_DosSubFree.html">DosSubFree</A>, a size parameter
of 0 is an error.  Other than this special case of 0 meaning 64KB, the minimum
size that can be set is 12 bytes.

<P><HR>

<A HREF="164_L2_DosSubFree.html">[Back: DosSubFree]</A> <BR>
<A HREF="166_L2_DosSuspendThread.html">[Next: DosSuspendThread]</A> 
</BODY>
</HTML>
