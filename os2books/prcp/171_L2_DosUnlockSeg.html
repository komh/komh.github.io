<HTML>
<HEAD>
<TITLE>DosUnlockSeg</TITLE>
</HEAD>
<BODY>
<H1>DosUnlockSeg</H1><!-- entering slot 211 -->Bindings:  <A HREF="346_L2H_DosUnlockSeg.html">C</A>,
<A HREF="521_L2H_DosUnlockSeg.html">MASM</A>
<BR>

<P>
This call unlocks a discardable segment.<!-- lm: 0x2 1 -->
<UL>
<P>
DosUnlockSeg<!-- lm: 0x2 17 -->
<UL> (Selector)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>Selector</B> (SEL) - input<!-- lm: 0x11 4 -->
<UL> Segment selector to
be unlocked.<!-- lm: 0x2 1 -->
</UL><B> rc</B> (USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return
code descriptions are:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 5<!-- lm: 0x2 14 -->
<UL> ERROR_ACCESS_DENIED
<!-- lm: 0x2 4 -->
</UL>158<!-- lm: 0x2 14 -->
<UL> ERROR_NOT_LOCKED<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
DosUnlockSeg is called to free memory for possible discard by the system
in a low memory situation. The memory being freed is originally allocated
by a call to <A HREF="002_L2_DosAllocSeg.html">DosAllocSeg</A> or <A HREF="001_L2_DosAllocHuge.html">DosAllocHuge
</A>with AllocFlags bit 2 set. This memory may have been reallocated by
a call to <A HREF="128_L2_DosReallocSeg.html">DosReallocSeg</A> or <A HREF="127_L2_DosReallocHuge.html">DosReallocHuge
</A>after discard by the system.
<P>
Allocation and reallocation calls for discardable memory automatically lock
the memory for access by the calling process. Thus, to access the segment,
the caller does not have to lock the segment with <A HREF="077_L2_DosLockSeg.html">DosLockSeg</A>.
 Once a discardable segment is unlocked by a  DosUnlockSeg request, access
to the segment is gained by a successful <A HREF="077_L2_DosLockSeg.html">DosLockSeg
</A>request.
<P>
DosUnlockSeg may also be used on segments that are non-discardable, in which
case it has no effect.

<P><HR>

<A HREF="170_L2_DosTransactNmPipe.html">[Back: DosTransactNmPipe]</A> <BR>
<A HREF="172_L2_DosWaitNmPipe.html">[Next: DosWaitNmPipe]</A> 
</BODY>
</HTML>
