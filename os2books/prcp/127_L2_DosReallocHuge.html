<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosReallocHuge</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosReallocHuge</H1><!-- entering slot 157 -->Bindings:  <A HREF="302_L2H_DosReallocHuge.html">C</A>,
<A HREF="477_L2H_DosReallocHuge.html">MASM</A>
<BR>

<P>
This call changes the size of memory originally allocated by <A HREF="001_L2_DosAllocHuge.html">DosAllocHuge</A>.
<!-- lm: 0x2 1 -->
<UL>
<P>
DosReallocHuge<!-- lm: 0x2 19 -->
<UL> (NumSeg, Size, Selector)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>NumSeg</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> Number of 65536 byte
segments requested.<!-- lm: 0x2 1 -->
</UL><B> Size</B> (USHORT) - input
<!-- lm: 0x11 4 -->
<UL>Number of bytes requested in the last non-65536
byte segment.  A value of 0 indicates none.<!-- lm: 0x2 1 -->
</UL><B> Selector
</B>(SEL) - input<!-- lm: 0x11 4 -->
<UL> Selector returned on a previous
<A HREF="001_L2_DosAllocHuge.html">DosAllocHuge</A>.<!-- lm: 0x2 1 -->
</UL><B> rc
</B>(USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:
<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 8<!-- lm: 0x2 14 -->
<UL> ERROR_NOT_ENOUGH_MEMORY
<!-- lm: 0x2 4 -->
</UL>87<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_PARAMETER<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
DosReallocHuge is called to change the size of unshared or shared huge memory
allocated by <A HREF="001_L2_DosAllocHuge.html">DosAllocHuge</A>. The selector
used for this call must be the one returned by the <A HREF="001_L2_DosAllocHuge.html">DosAllocHuge
</A>request.
<P>
Normally, segments allocated as shared (AllocFlags bits 0 and 1 were set)
cannot be decreased in size. However, if AllocFlags bit 3 was also set,
the shared segment's size can be decreased.
<P>
DosReallocHuge is also called to reallocate a segment allocated as discardable
(AllocFlags bit 2 set) after the segment is discarded by the system. The
call to DosReallocHuge automatically locks the segment for access by the
caller, the same as if a <A HREF="077_L2_DosLockSeg.html">DosLockSeg</A> had
been issued.
<P>
<B>Note: </B> This request may be issued from privilege level 2 or 3.  However,
only a privilege level 3 huge segment is valid.<!-- lm: 0x2 1 -->
<P>

<BR>
<B>Family API Considerations</B>
<P>
Some options operate differently in the DOS mode than in the OS/2 mode.
 Therefore, the following restriction applies to DosReallocHuge when coding
for the DOS mode:
<P>
The requested Size value is rounded up to the next paragraph (16-byte).


<P><HR>

<A HREF="126_L2_DosReadQueue.html">[Back: DosReadQueue]</A> <BR>
<A HREF="128_L2_DosReallocSeg.html">[Next: DosReallocSeg]</A> 
</BODY>
</HTML>
