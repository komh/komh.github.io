<HTML>
<HEAD>
<TITLE>DosShutdown</TITLE>
</HEAD>
<BODY>
<H1>DosShutdown</H1><!-- entering slot 194 -->Bindings:  <A HREF="333_L2H_DosShutdown.html">C</A>,
<A HREF="508_L2H_DosShutdown.html">MASM</A>
<BR>

<P>
This call locks out changes to all file systems and forces system buffers
to disk in preparation for system power off.<!-- lm: 0x2 1 -->
<UL>
<P>
DosShutdown<!-- lm: 0x2 15 -->
<UL> (Reserved)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>Reserved</B> (ULONG) - input<!-- lm: 0x11 4 -->
<UL> Double-word whose
value must be zero.<!-- lm: 0x2 1 -->
</UL><B> rc</B> (USHORT) - return
<!-- lm: 0x11 4 -->
<UL>Return code description is:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 274<!-- lm: 0x2 14 -->
<UL> ERROR_ALREADY_SHUTDOWN
<!-- lm: 0x2 4 -->
</UL>87<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_PARAMETER<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
DosShutdown may take several minutes to complete depending on the amount
of data buffered.
<P>
Other API function calls that change file system data called while the system
is shutdown will either return the error ERROR_ALREADY_SHUTDOWN or block
permanently.
<P>
It should be noted that it will not be possible to increase memory overcommit
once the DosShutdown has been called.  This means that in low memory situations
some functions may fail due to a lack of memory.  This is of particular
importance to the process calling DosShutdown.  All memory that the calling
process will ever need should be allocated before calling DosShutdown.  This
includes implicit memory allocation that may be done on behalf of the caller
by system functions.
<P>
When DosShutdown returns successfully, it is safe to power the system off
or to reboot it.

<P><HR>

<A HREF="157_L2_DosSizeSeg.html">[Back: DosSizeSeg]</A> <BR>
<A HREF="159_L2_DosSleep.html">[Next: DosSleep]</A> 
</BODY>
</HTML>
