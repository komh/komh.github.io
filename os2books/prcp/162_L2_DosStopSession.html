<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosStopSession</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosStopSession</H1><!-- entering slot 202 -->Bindings:  <A HREF="337_L2H_DosStopSession.html">C</A>,
<A HREF="512_L2H_DosStopSession.html">MASM</A>
<BR>

<P>
This call terminates a session previously started with <A HREF="161_L2_DosStartSession.html">DosStartSession</A>.
<!-- lm: 0x2 1 -->
<UL>
<P>
DosStopSession<!-- lm: 0x2 21 -->
<UL> (TargetOption, SessID, Reserved)
<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>TargetOption</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> Specifies whether
the session specified by SessID or all sessions should be terminated.<!-- lm: 0x2 4 -->
<P>
Value<!-- lm: 0x2 14 -->
<UL> Definition<!-- lm: 0x2 4 -->
</UL>0<!-- lm: 0x2 14 -->
<UL> Terminate session specified.<!-- lm: 0x2 4 -->
</UL>1<!-- lm: 0x2 14 -->
<UL> Terminate all child sessions and descendant
sessions.<!-- lm: 0x2 1 -->
</UL><B> SessID</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> Session
ID session to be terminated.  The value specified must equal the SessID
returned on a previous <A HREF="161_L2_DosStartSession.html">DosStartSession
</A>call. SessID is ignored if TargetOption = 1.<!-- lm: 0x2 1 -->
</UL><B> Reserved
</B>(ULONG) - input<!-- lm: 0x11 4 -->
<UL> A doubleword of 0's.<!-- lm: 0x2 1 -->
</UL><B> rc
</B>(USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:
<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 369<!-- lm: 0x2 14 -->
<UL> ERROR_SMG_INVALID_SESSION_ID
<!-- lm: 0x2 4 -->
</UL>418<!-- lm: 0x2 14 -->
<UL> ERROR/SMG_INVALID_CALL<!-- lm: 0x2 4 -->
</UL>452<!-- lm: 0x2 14 -->
<UL> ERROR_SMG_SESSION_NOT_PARENT<!-- lm: 0x2 4 -->
</UL>458<!-- lm: 0x2 14 -->
<UL> ERROR_SMG_INVALID_STOP_OPTION<!-- lm: 0x2 4 -->
</UL>459<!-- lm: 0x2 14 -->
<UL> ERROR_SMG_BAD_RESERVE<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
DosStopSession may be issued by a parent session only for a child session.
 The parent session cannot issue this call with itself as the target or
a descendant of a child session as the target. However, if the child session
specified with DosStopSession does have descendants, these sessions are
also terminated.
<P>
DosStopSession may terminate only child sessions originally started by the
caller with <A HREF="161_L2_DosStartSession.html">DosStartSession</A> specifying
Related = 1.  Sessions started as independent sessions cannot be stopped
by this call.
<P>
A parent session may be running in either the foreground or background when
DosStopSession is issued. If a child session is running in the foreground
at the time it is stopped, the parent session becomes the foreground session.
DosStopSession breaks any bond that was established between the parent session
and child session by a <A HREF="153_L2_DosSetSession.html">DosSetSession
</A>request.
<P>
The process running in the session specified on the DosStopSession call
may refuse to terminate.  DosStopSession returns a normal return code in
this case.  The only way to ensure that a target session has terminated
is to wait for notification of its demise by a termination queue created
with a <A HREF="161_L2_DosStartSession.html">DosStartSession</A> request.


<P><HR>

<A HREF="161_L2_DosStartSession.html">[Back: DosStartSession]</A> <BR>
<A HREF="163_L2_DosSubAlloc.html">[Next: DosSubAlloc]</A> 
</BODY>
</HTML>
