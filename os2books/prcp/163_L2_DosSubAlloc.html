<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosSubAlloc</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosSubAlloc</H1><!-- entering slot 203 -->Bindings:  <A HREF="338_L2H_DosSubAlloc.html">C</A>,
<A HREF="513_L2H_DosSubAlloc.html">MASM</A>
<BR>

<P>
This call suballocates portions of a segment allocated by <A HREF="002_L2_DosAllocSeg.html">DosAllocSeg
</A>or <A HREF="003_L2_DosAllocShrSeg.html">DosAllocShrSeg</A>, and initialized
by  <A HREF="165_L2_DosSubSet.html">DosSubSet</A>.<!-- lm: 0x2 1 -->
<UL>
<P>
DosSubAlloc<!-- lm: 0x2 17 -->
<UL> (SegSelector, BlockOffset, Size)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>SegSelector</B> (SEL) - input<!-- lm: 0x11 4 -->
<UL> Data segment selector
that allocates the memory.<!-- lm: 0x2 1 -->
</UL><B> BlockOffset</B> (PUSHORT)
- output<!-- lm: 0x11 4 -->
<UL> Address of the allocated block offset.
<!-- lm: 0x2 1 -->
</UL><B>Size</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> Memory
block size requested in bytes.<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>rc</B> (USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions
are:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 311<!-- lm: 0x2 14 -->
<UL> ERROR_DOSSUB_NOMEM
<!-- lm: 0x2 4 -->
</UL>313<!-- lm: 0x2 14 -->
<UL> ERROR_DOSSUB_BADSIZE<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
Before a segment allocated by <A HREF="002_L2_DosAllocSeg.html">DosAllocSeg
</A>or <A HREF="003_L2_DosAllocShrSeg.html">DosAllocShrSeg</A> can be suballocated,
it must first be initialized for suballocation by a call to <A HREF="165_L2_DosSubSet.html">DosSubSet</A>.

<P>
Allocation size must be a multiple of four bytes.  Otherwise, it is rounded
up to a multiple of four bytes. The maximum value for the size parameter
is the size that was set with <A HREF="165_L2_DosSubSet.html">DosSubSet
</A>minus 8. Note that no paragraph (16-byte) alignment is required; all
requests are serviced on a byte alignment basis.
<P>
A suballocated block of memory in a suballocated segment is freed by a call
to <A HREF="164_L2_DosSubFree.html">DosSubFree</A>.

<P><HR>

<A HREF="162_L2_DosStopSession.html">[Back: DosStopSession]</A> <BR>
<A HREF="164_L2_DosSubFree.html">[Next: DosSubFree]</A> 
</BODY>
</HTML>
