<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosSetNmPHandState</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosSetNmPHandState</H1><!-- entering slot 181 -->Bindings:  <A HREF="323_L2H_DosSetNmPHandState.html">C</A>,
<A HREF="498_L2H_DosSetNmPHandState.html">MASM</A>
<BR>

<P>
This call sets the read and blocking modes of a named pipe.<!-- lm: 0x2 1 -->
<UL>
<P>
DosSetNmPHandState<!-- lm: 0x2 25 -->
<UL> (Handle, PipeHandleState)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>Handle</B> (HPIPE) - input<!-- lm: 0x11 4 -->
<UL> Handle of the named
pipe returned by <A HREF="078_L2_DosMakeNmPipe.html">DosMakeNmPipe</A> or
<A HREF="091_L2_DosOpen.html">DosOpen</A>.<!-- lm: 0x2 1 -->
</UL><B> PipeHandleState
</B>(USHORT) - input<!-- lm: 0x11 4 -->
<UL> Named pipe handle state, consists
of the following bit fields:<!-- lm: 0x2 4 -->
<P>
Bit<!-- lm: 0x2 14 -->
<UL> Description<!-- lm: 0x2 4 -->
</UL> 15<!-- lm: 0x2 14 -->
<UL> Blocking
flag:
<P>
0 = Reads /Writes block if no data available.
<P>
1 = Reads/Writes return immediately if no data available.
<P>
Reads normally block until at least partial data can be returned. Writes
by default block until all bytes requested have been written.  Non-blocking
mode (B = 1) changes this behavior as follows:<!-- lm: 0x2 7 -->
</UL> DosRead
<!-- lm: 0x11 17 -->
<UL>Returns BytesRead = 0 if no data is available.
<!-- lm: 0x2 7 -->
</UL>DosWrite<!-- lm: 0x11 17 -->
<UL> Returns BytesWritten = 0 if there
is not enough buffer space available in the pipe.  Otherwise, the entire
data area is transferred.<!-- lm: 0x2 4 -->
</UL> 14-10<!-- lm: 0x2 14 -->
<UL> Reserved
and must be set to zero.<!-- lm: 0x2 4 -->
</UL> 9-8<!-- lm: 0x2 14 -->
<UL> Read
Mode flag:
<P>
00 = Read pipe as byte stream.
<P>
01 = Read pipe as a message stream.<!-- lm: 0x2 4 -->
</UL> 7-0<!-- lm: 0x2 14 -->
<UL> Reserved
and must be set to zero.<!-- lm: 0x2 1 -->
</UL><B> rc</B> (USHORT) - return
<!-- lm: 0x11 4 -->
<UL>Return code descriptions are:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 87<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_PARAMETER
<!-- lm: 0x2 4 -->
</UL>230<!-- lm: 0x2 14 -->
<UL> ERROR_BAD_PIPE<!-- lm: 0x2 4 -->
</UL>231<!-- lm: 0x2 14 -->
<UL> ERROR_PIPE_BUSY<!-- lm: 0x2 4 -->
</UL>233<!-- lm: 0x2 14 -->
<UL> ERROR_PIPE_NOT_CONNECTED<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
The read mode and blocking/non-blocking mode of a named pipe can be changed.
 The pipe mode can not be changed to non-blocking when another thread is
blocked on an I/O to the same end of the pipe.

<P><HR>

<A HREF="147_L2_DosSetMaxFH.html">[Back: DosSetMaxFH]</A> <BR>
<A HREF="149_L2_DosSetNmPipeSem.html">[Next: DosSetNmPipeSem]</A> 
</BODY>
</HTML>
