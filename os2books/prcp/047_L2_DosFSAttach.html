<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosFSAttach</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosFSAttach</H1><!-- entering slot 59 -->Bindings:  <A HREF="222_L2H_DosFSAttach.html">C</A>,
<A HREF="397_L2H_DosFSAttach.html">MASM</A>
<BR>

<P>
DosFSAttach attaches or detaches drive to/from a remote FSD, or a pseudo-character
device name to/from a local or remote FSD.<!-- lm: 0x2 1 -->
<UL>
<P>
DosFSAttach<!-- lm: 0x2 17 -->
<UL> (DeviceName, FSDName, DataBuffer, DataBufferLen,
OpFlag, Reserved)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>DeviceName</B> (PSZ) - input<!-- lm: 0x11 4 -->
<UL> Points to either
the drive letter followed by a colon, or points to a pseudo-character device
name.  If DeviceName is a drive, it is an ASCIIZ string having the form
of drive letter followed by a colon.  If an attach is successful, all requests
to that drive are routed to the specified FSD.  If a detach is successful,
the drive disappears from the system's name space.
<P>
If DeviceName is a pseudo-character device name (single file device), its
format is that of an ASCIIZ string in the format of an OS/2 filename in
a subdirectory called \DEV\.  All requests to that name are routed to the
specified FSD after a successful attach.  A successful detach removes the
name from the system's name space.<!-- lm: 0x2 1 -->
</UL><B> FSDName</B> (PSZ)
- input<!-- lm: 0x11 4 -->
<UL> Address of the ASCIIZ name of the remote
FSD to attach to or detach from DeviceName.<!-- lm: 0x2 1 -->
</UL><B> DataBuffer
</B>(PBYTE) - input<!-- lm: 0x11 4 -->
<UL> Points to the user-supplied
FSD argument data area.  The meaning of the data is specific to the FSD.
The DataBuffer contains contiguous ASCIIZ strings, with the first word of
the buffer containing the number of ASCIIZ strings.<!-- lm: 0x2 1 -->
</UL><B> DataBufferLen
</B>(USHORT) - input<!-- lm: 0x11 4 -->
<UL> The byte length of the data
buffer.<!-- lm: 0x2 1 -->
</UL><B> OpFlag</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> Defines
the type of operation to be performed. Attach = 0 and Detach = 1.<!-- lm: 0x2 1 -->
</UL><B> Reserved
</B>(ULONG) - input<!-- lm: 0x11 4 -->
<UL> Reserved, must be set to zero.
<!-- lm: 0x2 1 -->
</UL><B>rc</B> (USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return
code descriptions are:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 8<!-- lm: 0x2 14 -->
<UL> ERROR_NOT_ENOUGH_MEMORY
<!-- lm: 0x2 4 -->
</UL>15<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_DRIVE<!-- lm: 0x2 4 -->
</UL>124<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_LEVEL<!-- lm: 0x2 4 -->
</UL>252<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_FSD_NAME<!-- lm: 0x2 4 -->
</UL>253<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_PATH<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
The redirection of drive letters representing local drives is not supported.

<P>
FSDs that wish to establish open connections that are not attached to a
name in the system's name space, for such purposes as optimizing UNC connections
or establishing access rights, must use an <A HREF="048_L2_DosFSCtl.html">DosFSCtl
</A>function to do so.  DosFSAttach only creates attachments to drives or
devices in the system's name space.
<P>
See description of pseudo-character devices.

<P><HR>

<A HREF="046_L2_DosFreeSeg.html">[Back: DosFreeSeg]</A> <BR>
<A HREF="048_L2_DosFSCtl.html">[Next: DosFSCtl]</A> 
</BODY>
</HTML>
