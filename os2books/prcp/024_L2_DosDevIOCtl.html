<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosDevIOCtl</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosDevIOCtl</H1><!-- entering slot 26 -->Bindings:  <A HREF="199_L2H_DosDevIOCtl.html">C</A>,
<A HREF="374_L2H_DosDevIOCtl.html">MASM</A>
<BR>

<P>
This call performs control functions on a device specified by an opened
device handle.<!-- lm: 0x2 1 -->
<UL>
<P>
DosDevIOCtl<!-- lm: 0x2 17 -->
<UL> (Data, ParmList, Function, Category,
DevHandle)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>Data</B> (PVOID) - input<!-- lm: 0x11 4 -->
<UL> Address of the data
area.<!-- lm: 0x2 1 -->
</UL><B> ParmList</B> (PVOID) - input<!-- lm: 0x11 4 -->
<UL> Address
of the command-specific argument list.<!-- lm: 0x2 1 -->
</UL><B> Function
</B>(USHORT) - input<!-- lm: 0x11 4 -->
<UL> Device-specific function code.
<!-- lm: 0x2 1 -->
</UL><B>Category</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> Device
category.<!-- lm: 0x2 1 -->
</UL><B> DevHandle</B> (HFILE) - input<!-- lm: 0x11 4 -->
<UL> Device
handle returned by <A HREF="091_L2_DosOpen.html">DosOpen</A> or a standard
(open) device handle.<!-- lm: 0x2 1 -->
</UL><B> rc</B> (USHORT) - return
<!-- lm: 0x11 4 -->
<UL>Return code descriptions are:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 1<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_FUNCTION
<!-- lm: 0x2 4 -->
</UL>6<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_HANDLE<!-- lm: 0x2 4 -->
</UL>15<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_DRIVE<!-- lm: 0x2 4 -->
</UL>31<!-- lm: 0x2 14 -->
<UL> ERROR_GEN_FAILURE<!-- lm: 0x2 4 -->
</UL>87<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_PARAMETER<!-- lm: 0x2 4 -->
</UL>115<!-- lm: 0x2 14 -->
<UL> ERROR_PROTECTION_VIOLATION<!-- lm: 0x2 4 -->
</UL>117<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_CATEGORY<!-- lm: 0x2 4 -->
</UL>119<!-- lm: 0x2 14 -->
<UL> ERROR_BAD_DRIVER_LEVEL<!-- lm: 0x2 4 -->
</UL>163<!-- lm: 0x2 14 -->
<UL> ERROR_UNCERTAIN_MEDIA<!-- lm: 0x2 4 -->
</UL>165<!-- lm: 0x2 14 -->
<UL> ERROR_MONITORS_NOT_SUPPORTED<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
Values returned in the range hex FF00 through FFFF are user dependent error
codes.  Values returned in the range hex FE00 through FEFF are device driver
dependent error codes.
<P>
Refer to the IBM Operating System/2 Version 1.2 I/O Subsystems And Device
Support Volume 1 for a complete listing of control functions (DevHlp calls).

<P>

<BR>
<B>Family API Considerations</B>
<P>
Some options operate differently in the DOS mode than in the OS/2 mode.
 Therefore, the following considerations apply to DosDevIOCtl when coding
for the DOS mode.
<P>
The level of support for DosDevIOCtl is identified by category and function
code with a noted restriction if it is not supported by DOS 2.X or DOS 3.X
Functions tend to be more restrictive in lower version numbers of DOS.<!-- lm: 0x2 1 -->
<P>
o<!-- lm: 0x2 3 -->
<UL>Category 1 supported as follows:<!-- lm: 0x2 4 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->41H Set Baud Rate<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->42H Set Line Control<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->All other category 1 functions are not supported for
DOS 2.X and DOS 3.X.<!-- lm: 0x2 1 -->
</UL> o<!-- lm: 0x2 3 -->
<UL>Category
2 not supported in FAPI<!-- lm: 0x2 1 -->
</UL> o<!-- lm: 0x2 3 -->
<UL>Category
3 not supported in FAPI<!-- lm: 0x2 1 -->
</UL> o<!-- lm: 0x2 3 -->
<UL>Category
4 not supported in FAPI<!-- lm: 0x2 1 -->
</UL> o<!-- lm: 0x2 3 -->
<UL>Category
5 supported in FAPI as follows:<!-- lm: 0x2 4 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->42H Set Frame control - supports IBM Graphics Printers
only<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->44H Set Infinite Retry - for DOS 2.X and DOS 3.X,
the function is in effect only for the duration of the calling program<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->46H Initialize printer<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->62H Get Frame Control - not supported for DOS 2.X
and DOS 3.X<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->64H Get Infinite Retry<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->66H Get Printer Status.<!-- lm: 0x2 1 -->
</UL> o<!-- lm: 0x2 3 -->
<UL>Category
6 not supported in FAPI<!-- lm: 0x2 1 -->
</UL> o<!-- lm: 0x2 3 -->
<UL>Category
7 not supported in FAPI<!-- lm: 0x2 1 -->
</UL> o<!-- lm: 0x2 3 -->
<UL>Category
8 supported in FAPI as follows:<!-- lm: 0x2 4 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->00H Lock Drive - not supported for versions below
DOS 3.2<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->01H Unlock Drive - not supported for versions below
DOS 3.2<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->02H Redetermine Media - not supported for versions
below DOS 3.2<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->03H Set Logical Map - not supported for versions below
DOS 3.2<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->20H Block Removable - not supported for versions below
DOS 3.2<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->21H Get Logical Map - not supported for versions below
DOS 3.2<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->43H Set Device Parameters - not supported for DOS
2.X and DOS 3.X<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->44H Write Track - not supported for DOS 2.X and DOS
3.X<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->45H Format Track - not supported for DOS 2.X and DOS
3.X<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->63H Get Device Parameters - not supported for DOS
2.X and DOS 3.X<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->64H Read Track - not supported for DOS 2.X and DOS
3.X<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 6 -->65H Verify Track - not supported for DOS 2.X and DOS
3.X.<!-- lm: 0x2 1 -->
</UL> o<!-- lm: 0x2 3 -->
<UL>Category 9 is reserved
<!-- lm: 0x2 1 -->
</UL>o<!-- lm: 0x2 3 -->
<UL>Category 10 (0AH) not supported
in FAPI<!-- lm: 0x2 1 -->
</UL> o<!-- lm: 0x2 3 -->
<UL>Category 11 (0BH)
not supported in FAPI.<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="023_L2_DosDevConfig.html">[Back: DosDevConfig]</A> <BR>
<A HREF="025_L2_DosDevIOCtl2.html">[Next: DosDevIOCtl2]</A> 
</BODY>
</HTML>
