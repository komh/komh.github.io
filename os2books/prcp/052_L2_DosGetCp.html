<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosGetCp</TITLE>
</HEAD>
<BODY>
<H1>DosGetCp</H1><!-- entering slot 65 -->Bindings:  <A HREF="227_L2H_DosGetCp.html">C</A>,
<A HREF="402_L2H_DosGetCp.html">MASM</A>
<BR>

<P>
This call allows a process to query the current process code page and the
prepared system code pages.<!-- lm: 0x2 1 -->
<UL>
<P>
DosGetCp<!-- lm: 0x2 13 -->
<UL> (Length, CodePageList, DataLength)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>Length</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> Length, in bytes,
of CodePageList.  This length should be at least 2 bytes. If the length
is less than the bytes needed to return all the prepared system code pages
than the returned CodePageList is truncated.<!-- lm: 0x2 1 -->
</UL><B> CodePageList
</B>(PUSHORT) - output<!-- lm: 0x11 4 -->
<UL> Address of the list of available
system code pages. The format of the information returned in this list is:
<!-- lm: 0x2 4 -->
<P>
Word<!-- lm: 0x2 14 -->
<UL> Description<!-- lm: 0x2 4 -->
</UL>1<!-- lm: 0x2 14 -->
<UL> Current code page identifier<!-- lm: 0x2 4 -->
</UL>2<!-- lm: 0x2 14 -->
<UL> The first prepared code page<!-- lm: 0x2 4 -->
</UL>3<!-- lm: 0x2 14 -->
<UL> The second prepared code page<!-- lm: 0x2 4 -->
</UL>N<!-- lm: 0x2 14 -->
<UL> Other prepared system code pages.<!-- lm: 0x2 1 -->
</UL><B> DataLength
</B>(PUSHORT) - output<!-- lm: 0x11 4 -->
<UL> Address of the length, in
bytes, of the returned data.<!-- lm: 0x2 1 -->
</UL><B> rc</B> (USHORT)
- return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 473<!-- lm: 0x2 14 -->
<UL> ERROR_CPLIST_TOO_SMALL
<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
If the process code page identifier was previously set by <A HREF="141_L2_DosSetCp.html">DosSetCp
</A>or inherited by a process, it is returned to the caller.
<P>
An input list size (length) of two bytes returns only the current process
code page identifier.  If CodePageList length is too small to hold all the
available information, then as much information as possible is provided
in the available space and ERROR_CPLIST_TOO_SMALL is returned.
<P>
If no codepages were prepared with the CODEPAGE command, a length of two
and current codepage identifier value of zero is returned.
<P>

<BR>
<B>Family API Considerations</B>
<P>
Some options operate differently in the DOS mode than in OS/2 mode.  Therefore,
the following restriction applies to DosGetCp when coding for the DOS mode:

<P>
The current process code page, and no more than one prepared system code
page, is returned.

<P><HR>

<A HREF="051_L2_DosGetCollate.html">[Back: DosGetCollate]</A> <BR>
<A HREF="053_L2_DosGetCtryInfo.html">[Next: DosGetCtryInfo]</A> 
</BODY>
</HTML>
