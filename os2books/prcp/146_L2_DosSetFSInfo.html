<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosSetFSInfo</TITLE>
</HEAD>
<BODY>
<H1>DosSetFSInfo</H1><!-- entering slot 179 -->Bindings:  <A HREF="321_L2H_DosSetFSInfo.html">C</A>,
<A HREF="496_L2H_DosSetFSInfo.html">MASM</A>
<BR>
This call sets information for a file system device.<!-- lm: 0x2 1 -->
<UL>
<P>
DosSetFSInfo<!-- lm: 0x2 18 -->
<UL> (DriveNumber, FSInfoLevel, FSInfoBuf,
FSInfoBufSize)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>DriveNumber</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> Logical drive
number, for example, 0 = default and 1 = A, and the FSD for the media currently
in that drive. A value of '0xFFFF' notes that FSInfoBuf contains the ASCIIZ
path name of the FSD.<!-- lm: 0x2 1 -->
</UL><B> FSInfoLevel</B> (USHORT)
- input<!-- lm: 0x11 4 -->
<UL> Level of file information to be set. A value
of 2 is the only valid value for FSInfoLevel.<!-- lm: 0x2 1 -->
</UL><B> FSInfoBuf
</B>(PBYTE) - input<!-- lm: 0x11 4 -->
<UL> Address of the storage area
where the system gets the new file system information.<!-- lm: 0x2 4 -->
<P>
<B>Level 2 Information</B><!-- lm: 0x11 7 -->
<UL> Level 2 information is
specified in the following format:<!-- lm: 0x2 7 -->
<P>
Byte<!-- lm: 0x2 17 -->
<UL> Description<!-- lm: 0x2 7 -->
</UL>1<!-- lm: 0x2 17 -->
<UL> Length of Volume Label (null not included)
<!-- lm: 0x2 7 -->
</UL>2-N<!-- lm: 0x2 17 -->
<UL> Volume Label ASCIIZ string.<!-- lm: 0x2 1 -->
</UL><B> FSInfoBufSize
</B>(USHORT) - input<!-- lm: 0x11 4 -->
<UL> Length of FSInfoBuf.<!-- lm: 0x2 1 -->
</UL><B> rc
</B>(USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:
<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 15<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_DRIVE
<!-- lm: 0x2 4 -->
</UL>82<!-- lm: 0x2 14 -->
<UL> ERROR_CANNOT_MAKE<!-- lm: 0x2 4 -->
</UL>122<!-- lm: 0x2 14 -->
<UL> ERROR_INSUFFICIENT_BUFFER<!-- lm: 0x2 4 -->
</UL>123<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_NAME<!-- lm: 0x2 4 -->
</UL>124<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_LEVEL<!-- lm: 0x2 4 -->
</UL>154<!-- lm: 0x2 14 -->
<UL> ERROR_LABEL_TOO_LONG<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
Trailing blanks supplied at volume label definition time are not returned
by <A HREF="114_L2_DosQFSInfo.html">DosQFSInfo</A>.
<P>
File system information can be set only if the volume is opened in a mode
that allows write-access.

<P><HR>

<A HREF="145_L2_DosSetFileMode.html">[Back: DosSetFileMode]</A> <BR>
<A HREF="147_L2_DosSetMaxFH.html">[Next: DosSetMaxFH]</A> 
</BODY>
</HTML>
