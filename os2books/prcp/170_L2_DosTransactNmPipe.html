<HTML>
<HEAD>
<TITLE>DosTransactNmPipe</TITLE>
</HEAD>
<BODY>
<H1>DosTransactNmPipe</H1><!-- entering slot 210 -->Bindings:  <A HREF="345_L2H_DosTransactNmPipe.html">C</A>,
<A HREF="520_L2H_DosTransactNmPipe.html">MASM</A>
<BR>

<P>
This call performs a write followed by a read on a duplex message pipe.
<!-- lm: 0x2 1 -->
<UL>
<P>
DosTransactNmPipe<!-- lm: 0x2 23 -->
<UL> (Handle, InBuffer, InBufferLen,
OutBuffer, OutBufferLen, BytesOut)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>Handle</B> (HPIPE) - input<!-- lm: 0x11 4 -->
<UL> Named pipe handle
returned by <A HREF="078_L2_DosMakeNmPipe.html">DosMakeNmPipe</A> or  <A HREF="091_L2_DosOpen.html">DosOpen</A>.
<!-- lm: 0x2 1 -->
</UL><B>InBuffer</B> (PBYTE) - input<!-- lm: 0x11 4 -->
<UL> Address
of the buffer to write to the pipe.<!-- lm: 0x2 1 -->
</UL><B> InBufferLen
</B>(USHORT) - input<!-- lm: 0x11 4 -->
<UL> Number of bytes to be written.
<!-- lm: 0x2 1 -->
</UL><B>OutBuffer</B> (PBYTE) - output<!-- lm: 0x11 4 -->
<UL> Address
of the buffer for returned data.<!-- lm: 0x2 1 -->
</UL><B> OutBufferLen
</B>(USHORT) - input<!-- lm: 0x11 4 -->
<UL> Maximum size, number of bytes,
of returned data.<!-- lm: 0x2 1 -->
</UL><B> BytesOut</B> (PUSHORT) - output
<!-- lm: 0x11 4 -->
<UL>Address of the number of bytes read.<!-- lm: 0x2 1 -->
</UL><B> rc
</B>(USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:
<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 11<!-- lm: 0x2 14 -->
<UL> ERROR_BAD_FORMAT
<!-- lm: 0x2 4 -->
</UL>230<!-- lm: 0x2 14 -->
<UL> ERROR_BAD_PIPE<!-- lm: 0x2 4 -->
</UL>231<!-- lm: 0x2 14 -->
<UL> ERROR_PIPE_BUSY<!-- lm: 0x2 4 -->
</UL>233<!-- lm: 0x2 14 -->
<UL> ERROR_PIPE_NOT_CONNECTED<!-- lm: 0x2 4 -->
</UL>234<!-- lm: 0x2 14 -->
<UL> ERROR_MORE_DATA<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
DosTransactNmPipe is intended for use only on duplex message pipes. If this
call is issued and the pipe is not a duplex message pipe, ERROR_BAD_FORMAT
is returned.
<P>
This call enables you to implement transaction-oriented dialogs.  DosTransactNmPipe
writes the entire InBuffer to the pipe and then reads a response from the
pipe into the OutBuffer.  The current state of blocking/non-blocking has
no effect. DosTransactNmPipe does not return until a message has been read
into the OutBuffer.  If the OutBuffer is too small to contain the response
message, ERROR_MORE_DATA is returned, as described for <A HREF="124_L2_DosRead.html">DosRead</A>.


<P><HR>

<A HREF="169_L2_DosTimerStop.html">[Back: DosTimerStop]</A> <BR>
<A HREF="171_L2_DosUnlockSeg.html">[Next: DosUnlockSeg]</A> 
</BODY>
</HTML>
