<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosGetSeg</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosGetSeg</H1><!-- entering slot 84 -->Bindings:  <A HREF="244_L2H_DosGetSeg.html">C</A>,
<A HREF="419_L2H_DosGetSeg.html">MASM</A>
<BR>

<P>
This call accesses shared memory allocated by a <A HREF="002_L2_DosAllocSeg.html">DosAllocSeg
</A>or <A HREF="001_L2_DosAllocHuge.html">DosAllocHuge</A> call.<!-- lm: 0x2 1 -->
<UL>
<P>
DosGetSeg<!-- lm: 0x2 14 -->
<UL> (Selector)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>Selector</B> (SEL) - input<!-- lm: 0x11 4 -->
<UL> Parameter used to
get access to a segment.<!-- lm: 0x2 1 -->
</UL><B> rc</B> (USHORT) - return
<!-- lm: 0x11 4 -->
<UL>Return code descriptions are:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 5<!-- lm: 0x2 14 -->
<UL> ERROR_ACCESS_DENIED
<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
A process may issue <A HREF="002_L2_DosAllocSeg.html">DosAllocSeg</A> or
<A HREF="001_L2_DosAllocHuge.html">DosAllocHuge</A> to allocate shareable
segments of memory. The segment may be shareable through <A HREF="072_L2_DosGiveSeg.html">DosGiveSeg
</A>or DosGetSeg. If the segment is shareable through DosGetSeg, then the
process that allocated the memory must pass the selector of the segment
to the recipient process using some means of interprocess communication.

<P>
If at the time the shared segment is allocated, it is also specified as
discardable, it is automatically locked for access by the caller. The caller
may free the segment for discard by a <A HREF="171_L2_DosUnlockSeg.html">DosUnlockSeg
</A>call. A process that gains access to the discardable shared segment
by calling DosGetSeg has to lock the segment with a <A HREF="077_L2_DosLockSeg.html">DosLockSeg
</A>request.  However, <A HREF="077_L2_DosLockSeg.html">DosLockSeg</A> may
return an error, indicating the segment is already locked. In this case,
the process calls <A HREF="171_L2_DosUnlockSeg.html">DosUnlockSeg</A> repetitively,
until the segment is fully unlocked.  The process then locks the segment
for its own use. Locking is an attribute of the segment, not the processes
using the segment.
<P>
To access named shared memory allocated with a <A HREF="003_L2_DosAllocShrSeg.html">DosAllocShrSeg
</A>request, a process issues <A HREF="070_L2_DosGetShrSeg.html">DosGetShrSeg</A>.


<P><HR>

<A HREF="068_L2_DosGetResource2.html">[Back: DosGetResource2]</A> <BR>
<A HREF="070_L2_DosGetShrSeg.html">[Next: DosGetShrSeg]</A> 
</BODY>
</HTML>
