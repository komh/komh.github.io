<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosSetFileMode</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosSetFileMode</H1><!-- entering slot 178 -->Bindings:  <A HREF="320_L2H_DosSetFileMode.html">C</A>,
<A HREF="495_L2H_DosSetFileMode.html">MASM</A>
<BR>

<P>
This call changes the mode (attribute) of the specified file.<!-- lm: 0x2 1 -->
<UL>
<P>
DosSetFileMode<!-- lm: 0x2 20 -->
<UL> (FileName, NewAttribute, Reserved)
<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>FileName</B> (PSZ) - input<!-- lm: 0x11 4 -->
<UL> Address of the file
path name.
<P>
<A HREF="120_L2_DosQSysInfo.html">DosQSysInfo</A> is called by an application
during initialization to determine the maximum path length allowed by OS/2.
<!-- lm: 0x2 1 -->
</UL><B>NewAttribute</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> File's
new attribute. File attributes are defined as follows:<!-- lm: 0x2 4 -->
<P>
Bit<!-- lm: 0x2 14 -->
<UL> Description<!-- lm: 0x2 4 -->
</UL>15-6<!-- lm: 0x2 14 -->
<UL> Reserved and must be zero.<!-- lm: 0x2 4 -->
</UL>5<!-- lm: 0x2 14 -->
<UL> File archive<!-- lm: 0x2 4 -->
</UL>4<!-- lm: 0x2 14 -->
<UL> Subdirectory<!-- lm: 0x2 4 -->
</UL>3<!-- lm: 0x2 14 -->
<UL> Volume label<!-- lm: 0x2 4 -->
</UL>2<!-- lm: 0x2 14 -->
<UL> System file (excluded from normal directory
searches)<!-- lm: 0x2 4 -->
</UL>1<!-- lm: 0x2 14 -->
<UL> Hidden file<!-- lm: 0x2 4 -->
</UL>0<!-- lm: 0x2 14 -->
<UL> Read only file<!-- lm: 0x2 1 -->
</UL>  
<!-- lm: 0x11 4 -->
<UL>These bits may be set individually or in combination.
 For example, an attribute value of 0021H (bits 5 and 0 set to 1) indicates
a read-only file that should be archived.<!-- lm: 0x2 1 -->
</UL><B> Reserved
</B>(ULONG) - input<!-- lm: 0x11 4 -->
<UL> Reserved must be set to zero.
<!-- lm: 0x2 1 -->
</UL><B>rc</B> (USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return
code descriptions are:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 2<!-- lm: 0x2 14 -->
<UL> ERROR_FILE_NOT_FOUND
<!-- lm: 0x2 4 -->
</UL>3<!-- lm: 0x2 14 -->
<UL> ERROR_PATH_NOT_FOUND<!-- lm: 0x2 4 -->
</UL>5<!-- lm: 0x2 14 -->
<UL> ERROR_ACCESS_DENIED<!-- lm: 0x2 4 -->
</UL>26<!-- lm: 0x2 14 -->
<UL> ERROR_NOT_DOS_DISK<!-- lm: 0x2 4 -->
</UL>32<!-- lm: 0x2 14 -->
<UL> ERROR_SHARING_VIOLATION<!-- lm: 0x2 4 -->
</UL>36<!-- lm: 0x2 14 -->
<UL> ERROR_SHARING_BUFFER_EXCEEDED<!-- lm: 0x2 4 -->
</UL>87<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_PARAMETER<!-- lm: 0x2 4 -->
</UL>108<!-- lm: 0x2 14 -->
<UL> ERROR_DRIVE_LOCKED<!-- lm: 0x2 4 -->
</UL>206<!-- lm: 0x2 14 -->
<UL> ERROR_FILENAME_EXCED_RANGE<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
Attributes for Volume Label (0008H) and Subdirectory (0010H) cannot be changed
using DosSetFileMode. If these attributes are specified, ERROR_INVALID_PARAMETER
is returned.
<P>
<A HREF="112_L2_DosQFileMode.html">DosQFileMode</A> is used to query the
current settings for file attributes. Calling <A HREF="114_L2_DosQFSInfo.html">DosQFSInfo
</A>obtains volume label information.
<P>
Attributes of root directories cannot be changed using DosSetFileMode. If
these attributes are specified, ERROR_ACCESS_DENIED is returned.

<P><HR>

<A HREF="144_L2_DosSetFileInfo.html">[Back: DosSetFileInfo]</A> <BR>
<A HREF="146_L2_DosSetFSInfo.html">[Next: DosSetFSInfo]</A> 
</BODY>
</HTML>
