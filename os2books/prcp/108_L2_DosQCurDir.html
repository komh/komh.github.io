<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosQCurDir</TITLE>
</HEAD>
<BODY>
<H1>DosQCurDir</H1><!-- entering slot 133 -->Bindings:  <A HREF="283_L2H_DosQCurDir.html">C</A>,
<A HREF="458_L2H_DosQCurDir.html">MASM</A>
<BR>

<P>
This call returns the full path name of the current directory for the requesting
process for the specified drive.<!-- lm: 0x2 1 -->
<UL>
<P>
DosQCurDir<!-- lm: 0x2 16 -->
<UL> (DriveNumber, DirPath, DirPathLen)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>DriveNumber</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> Drive number,
for example:<!-- lm: 0x2 4 -->
<P>
Value<!-- lm: 0x2 14 -->
<UL> Definition<!-- lm: 0x2 4 -->
</UL>0<!-- lm: 0x2 14 -->
<UL> default<!-- lm: 0x2 4 -->
</UL>1<!-- lm: 0x2 14 -->
<UL> A<!-- lm: 0x2 4 -->
</UL>2<!-- lm: 0x2 14 -->
<UL> B<!-- lm: 0x2 4 -->
</UL>.<!-- lm: 0x2 14 -->
<UL>  <!-- lm: 0x2 4 -->
</UL>.<!-- lm: 0x2 14 -->
<UL>  <!-- lm: 0x2 4 -->
</UL>.<!-- lm: 0x2 14 -->
<UL>  <!-- lm: 0x2 1 -->
</UL><B> DirPath</B> (PBYTE)
- output<!-- lm: 0x11 4 -->
<UL> Address of the fully qualified path name
of current directory.<!-- lm: 0x2 1 -->
</UL><B> DirPathLen</B> (PUSHORT)
- input/output<!-- lm: 0x11 4 -->
<UL> Address of the length of the DirPath
buffer.  On input, this field contains the length of the directory path
buffer in bytes. On output, if an error is returned because the buffer is
too small, this field contains the required length.<!-- lm: 0x2 1 -->
</UL><B> rc
</B>(USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:
<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 15<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_DRIVE
<!-- lm: 0x2 4 -->
</UL>26<!-- lm: 0x2 14 -->
<UL> ERROR_NOT_DOS_DISK<!-- lm: 0x2 4 -->
</UL>108<!-- lm: 0x2 14 -->
<UL> ERROR_DRIVE_LOCKED<!-- lm: 0x2 4 -->
</UL>111<!-- lm: 0x2 14 -->
<UL> ERROR_BUFFER_OVERFLOW<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
The drive letter is not part of the returned string.  The string does not
begin with a backslash and is terminated by a byte containing 00H.
<P>
The system returns the length of the returned DirPath string in DirPathLen,
which does not include the terminating null byte. In the case where the
DirPath buffer is of insufficient length to hold the current directory path
string, the system returns the required length (in bytes) for DirPath in
DirPathLen.
<P>
For FSDs, the case of the current directory is set according to the DirName
passed in, not according to the case of the directories on disk. For example,
if the directory "c:\bin" is created and <A HREF="009_L2_DosChDir.html">DosChDir
</A>is called with DirName "c:\bin", the current directory returned by DosQCurDir
will be "c:\bin".
<P>
Programs running without the NEWFILES bit set are allowed to <A HREF="009_L2_DosChDir.html">DosChDir
</A>to a non-8.3 filename format directory.
<P>
<A HREF="120_L2_DosQSysInfo.html">DosQSysInfo</A> must be used by an application
to determine the maximum path length supported by OS/2.  The returned value
should be used to dynamically allocate buffers that are to be used to store
paths.

<P><HR>

<A HREF="107_L2_DosQAppType.html">[Back: DosQAppType]</A> <BR>
<A HREF="109_L2_DosQCurDisk.html">[Next: DosQCurDisk]</A> 
</BODY>
</HTML>
