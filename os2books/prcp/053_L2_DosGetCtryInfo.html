<HTML>
<HEAD>
<TITLE>DosGetCtryInfo</TITLE>
</HEAD>
<BODY>
<H1>DosGetCtryInfo</H1><!-- entering slot 66 -->Bindings:  <A HREF="228_L2H_DosGetCtryInfo.html">C</A>,
<A HREF="403_L2H_DosGetCtryInfo.html">MASM</A>
<BR>

<P>
This call obtains country-dependent formatting information that resides
in the country information file.<!-- lm: 0x2 1 -->
<UL>
<P>
DosGetCtryInfo<!-- lm: 0x2 20 -->
<UL> (Length, Country, MemoryBuffer, DataLength)
<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>Length</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> Length, in bytes,
of the data area (MemoryBuffer). This length should be at least 38 bytes.
<!-- lm: 0x2 1 -->
</UL><B>Country</B> (PCOUNTRYCODE) - input<!-- lm: 0x11 4 -->
<UL> Address
of the country information structure:<!-- lm: 0x2 4 -->
<P>
<B>country</B> (USHORT)<!-- lm: 0x11 7 -->
<UL> Country code identifier;
0 is the default country code.<!-- lm: 0x2 4 -->
</UL><B> codepage</B> (USHORT)
<!-- lm: 0x11 7 -->
<UL>Code page identifier; 0 is the code page of the
current process.<!-- lm: 0x2 1 -->
</UL><B> MemoryBuffer</B> (PCOUNTRYINFO)
- output<!-- lm: 0x11 4 -->
<UL> Address of the buffer where the country-dependent
data is returned. The application must request enough space in memory, a
minimum of 38 bytes, to hold the returned data. If the requested space is
not large enough, the system fills the allocated space with as much data
as it can hold. If the requested space is too large, the extra memory requested
is set to 0. The data is returned in the buffer in the following format:
<!-- lm: 0x2 4 -->
<P>
<B>country</B> (USHORT)<!-- lm: 0x11 7 -->
<UL> Country code identifier.
<!-- lm: 0x2 4 -->
</UL><B>codepage</B> (USHORT)<!-- lm: 0x11 7 -->
<UL> Code
page identifier.<!-- lm: 0x2 4 -->
</UL><B> dateformat</B> (USHORT)<!-- lm: 0x11 7 -->
<UL> Date
format.<!-- lm: 0x2 7 -->
<P>
Value<!-- lm: 0x2 17 -->
<UL> Definition<!-- lm: 0x2 7 -->
</UL>0<!-- lm: 0x2 17 -->
<UL> mm/dd/yy<!-- lm: 0x2 7 -->
</UL>1<!-- lm: 0x2 17 -->
<UL> dd/mm/yy<!-- lm: 0x2 7 -->
</UL>2<!-- lm: 0x2 17 -->
<UL> yy/mm/dd<!-- lm: 0x2 4 -->
</UL><B> currency
</B>(CHAR)<!-- lm: 0x11 7 -->
<UL> Currency identifier, terminated with
a null.<!-- lm: 0x2 4 -->
</UL><B> thousandsep</B> (CHAR)<!-- lm: 0x11 7 -->
<UL> Thousands
separator, terminated with a null.<!-- lm: 0x2 4 -->
</UL><B> decimalsep
</B>(CHAR)<!-- lm: 0x11 7 -->
<UL> Decimal separator, terminated with a
null.<!-- lm: 0x2 4 -->
</UL><B> datesep</B> (CHAR)<!-- lm: 0x11 7 -->
<UL> Date
separator, terminated with a null.<!-- lm: 0x2 4 -->
</UL><B> timesep</B> (CHAR)
<!-- lm: 0x11 7 -->
<UL>Time separator, terminated with a null.<!-- lm: 0x2 4 -->
</UL><B> currencyformat
</B>(UCHAR)<!-- lm: 0x11 7 -->
<UL> The currency bit fields in the following
format:<!-- lm: 0x2 7 -->
<P>
Bit<!-- lm: 0x2 17 -->
<UL> Description<!-- lm: 0x2 7 -->
</UL> 7-3<!-- lm: 0x2 17 -->
<UL> Reserved
<!-- lm: 0x2 7 -->
</UL>2<!-- lm: 0x2 17 -->
<UL> 0 = Bits 0 and 1 are used.

<P>
1 = Bits 0 and 1 are ignored; the currency indicator replaces the decimal
indicator.<!-- lm: 0x2 7 -->
</UL> 1<!-- lm: 0x2 17 -->
<UL> 0 = No space
between the currency indicator and money value.
<P>
1 = One space between the currency indicator and money value.<!-- lm: 0x2 7 -->
</UL> 0
<!-- lm: 0x2 17 -->
<UL>0 = Currency indicator precedes the money value.

<P>
1 = Currency indicator follows the money value.<!-- lm: 0x2 4 -->
</UL><B> decimalspace
</B>(UCHAR)<!-- lm: 0x11 7 -->
<UL> Number (in binary) of decimal spaces
used to indicate currency value.<!-- lm: 0x2 4 -->
</UL><B> timeformat</B> (UCHAR)
<!-- lm: 0x11 7 -->
<UL>Time format for presentation in file directory:
<!-- lm: 0x2 7 -->
<P>
Bit<!-- lm: 0x2 17 -->
<UL> Description<!-- lm: 0x2 7 -->
</UL> 7-1<!-- lm: 0x2 17 -->
<UL> Reserved
<!-- lm: 0x2 7 -->
</UL>0<!-- lm: 0x2 17 -->
<UL> 0 = 12-hour format
<P>
1 = 24-hour format.<!-- lm: 0x2 4 -->
</UL><B> reserved</B> (USHORT)<!-- lm: 0x11 7 -->
<UL> Reserved,
set to zero.<!-- lm: 0x2 4 -->
</UL><B> datalistsep</B> (CHAR)<!-- lm: 0x11 7 -->
<UL> Data
list separator, terminated with a null.<!-- lm: 0x2 4 -->
</UL><B> reserved
</B>(USHORT)<!-- lm: 0x11 7 -->
<UL> Reserved, set to zero.<!-- lm: 0x2 1 -->
</UL><B> DataLength
</B>(PUSHORT) - output<!-- lm: 0x11 4 -->
<UL> Address of the length, in
bytes, of the country dependent information.<!-- lm: 0x2 1 -->
</UL><B> rc
</B>(USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:
<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 396<!-- lm: 0x2 14 -->
<UL> ERROR_NLS_NO_COUNTRY_FILE
<!-- lm: 0x2 4 -->
</UL>397<!-- lm: 0x2 14 -->
<UL> ERROR_NLS_OPEN_FAILED<!-- lm: 0x2 4 -->
</UL>398<!-- lm: 0x2 14 -->
<UL> ERROR_NO_COUNTRY_OR_CODEPAGE<!-- lm: 0x2 4 -->
</UL>399<!-- lm: 0x2 14 -->
<UL> ERROR_NLS_TABLE_TRUNCATED<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
The returned country dependent information may be for the default country
and current process code page, or for a specific country and code page.
For more information on code page, see <A HREF="141_L2_DosSetCp.html">DosSetCp</A>.

<P>

<BR>
<B>Family API Considerations</B>
<P>
Some options operate differently in DOS mode than in OS/2 mode. Note that
not all country information is available in DOS 3.3.

<P><HR>

<A HREF="052_L2_DosGetCp.html">[Back: DosGetCp]</A> <BR>
<A HREF="054_L2_DosGetDateTime.html">[Next: DosGetDateTime]</A> 
</BODY>
</HTML>
