<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosWriteQueue</TITLE>
</HEAD>
<BODY>
<H1>DosWriteQueue</H1><!-- entering slot 216 -->Bindings:  <A HREF="350_L2H_DosWriteQueue.html">C</A>,
<A HREF="525_L2H_DosWriteQueue.html">MASM</A>
<BR>

<P>
This call adds an element to a queue.<!-- lm: 0x2 1 -->
<UL>
<P>
DosWriteQueue<!-- lm: 0x2 19 -->
<UL> (QueueHandle, Request, DataLength,
DataBuffer, ElemPriority)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>QueueHandle</B> (HQUEUE) - input<!-- lm: 0x11 4 -->
<UL> Queue handle.
<!-- lm: 0x2 1 -->
</UL><B>Request</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> A
value to be passed with the queue element.  This word is used for event
encoding by the specific application.<!-- lm: 0x2 1 -->
</UL><B> DataLength
</B>(USHORT) - input<!-- lm: 0x11 4 -->
<UL> Length of the data being sent
to the queue.<!-- lm: 0x2 1 -->
</UL><B> DataBuffer</B> (PBYTE) - input
<!-- lm: 0x11 4 -->
<UL>Address of the data buffer where data, that is to
be placed in the queue, is located.<!-- lm: 0x2 1 -->
</UL><B> ElemPriority
</B>(UCHAR) - input<!-- lm: 0x11 4 -->
<UL> Priority of the element being
added to the queue.  If the priority is specified as 15, the element is
added to the top of the queue (that is, in LIFO order). If the priority
is specified as 0, the element is added as the last element in the queue
(that is, in FIFO order). Elements with the same priority are in FIFO order.
 This parameter is valid for priority-type queues only.<!-- lm: 0x2 1 -->
</UL><B> rc
</B>(USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:
<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 334<!-- lm: 0x2 14 -->
<UL> ERROR_QUE_NO_MEMORY
<!-- lm: 0x2 4 -->
</UL>337<!-- lm: 0x2 14 -->
<UL> ERROR_QUE_INVALID_HANDLE<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
DosWriteQueue adds entries to a specified queue.
<P>
The Request, DataLength and DataBuffer parameters contain data understood
by the thread adding the element to the queue and by the thread that receives
the queue element. There is no special meaning to this data; applications
may use these parameters for any purpose they wish. OS/2 does not alter
this data; it simply copies this data intact. OS/2 does not validate the
address of DataBuffer or the DataLength.
<P>
If the queue owner has defined a semaphore for use in its notification when
elements are added to the queue and if that semaphore is a RAM semaphore,
then that semaphore must be in a segment which is shared among both the
queue owner's process and this process.  If that semaphore handle is for
a system semaphore, then that semaphore must be opened by this process before
making a DosWriteQueue request to the queue.
<P>
If the owning process is terminated, or if the queue is closed before this
request is issued, ERROR_QUE_INVALID_HANDLE is returned.
<P>
If the owning process invokes a system semaphore when <A HREF="126_L2_DosReadQueue.html">DosReadQueue
</A>or <A HREF="096_L2_DosPeekQueue.html">DosPeekQueue</A> is issued, other
processes that issue DosWriteQueue must first issue <A HREF="094_L2_DosOpenSem.html">DosOpenSem
</A>to access the system semaphore.

<P><HR>

<A HREF="174_L2_DosWriteAsync.html">[Back: DosWriteAsync]</A> <BR>
<A HREF="176_L2H_DosAllocHuge.html">[Next: DosAllocHuge]</A> 
</BODY>
</HTML>
