<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>VioGetFont</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>VioGetFont</H1><!-- entering slot 712 -->Bindings:  <A HREF="707_L2H_VioGetFont.html">C</A>,
<A HREF="751_L2H_VioGetFont.html">MASM</A>
<BR>

<P>
This call returns either the font table of the size specified or the font
in use.<!-- lm: 0x2 1 -->
<UL>
<P>
VioGetFont<!-- lm: 0x2 15 -->
<UL> (RequestBlock, VioHandle)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>RequestBlock</B> (PVIOFONTINFO) - input/output<!-- lm: 0x11 4 -->
<UL> Address
of the font structure that returns current RAM font or specified ROM or
code page font depending on the request type:<!-- lm: 0x2 4 -->
<P>
<B>length</B> (USHORT)<!-- lm: 0x11 7 -->
<UL> Length of structure, including
length.<!-- lm: 0x2 7 -->
<P>
14<!-- lm: 0x2 17 -->
<UL> Only valid value.<!-- lm: 0x2 4 -->
</UL><B> reqtype
</B>(USHORT)<!-- lm: 0x11 7 -->
<UL> Request type:<!-- lm: 0x2 7 -->
<P>
Value<!-- lm: 0x2 17 -->
<UL> Definition<!-- lm: 0x2 7 -->
</UL>0<!-- lm: 0x2 17 -->
<UL> Get current RAM font for EGA, VGA, or IBM
Personal System/2 Display Adapter.<!-- lm: 0x2 7 -->
</UL>1<!-- lm: 0x2 17 -->
<UL> Get ROM font for CGA, EGA, VGA, or IBM Personal
System/2 Display Adapter.<!-- lm: 0x2 4 -->
</UL><B> pelcolumns</B> (USHORT)
<!-- lm: 0x11 7 -->
<UL>Pel columns in character cell.<!-- lm: 0x2 4 -->
</UL><B> pelrows
</B>(USHORT)<!-- lm: 0x11 7 -->
<UL> Pel rows in character cell.<!-- lm: 0x2 4 -->
</UL><B> fonttable
</B>(PVOID)<!-- lm: 0x11 7 -->
<UL> Address of the requested font table
returned in a caller-supplied data area.  If the storage area is accessed
by way of an address of 0, a system-supplied segment containing the requested
font table is returned.<!-- lm: 0x2 4 -->
</UL><B> tablelength</B> (USHORT)
<!-- lm: 0x11 7 -->
<UL>Length, in bytes, of the caller-supplied data area
where the font table is returned.<!-- lm: 0x2 1 -->
</UL><B> VioHandle</B> (HVIO)
- input<!-- lm: 0x11 4 -->
<UL> Reserved word of 0s.<!-- lm: 0x2 1 -->
</UL><B> rc
</B>(USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:
<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 355<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_MODE
<!-- lm: 0x2 4 -->
</UL>421<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_INVALID_PARMS<!-- lm: 0x2 4 -->
</UL>438<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_INVALID_LENGTH<!-- lm: 0x2 4 -->
</UL>465<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_DETACHED<!-- lm: 0x2 4 -->
</UL>467<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_FONT<!-- lm: 0x2 4 -->
</UL>494<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_EXTENDED_SG<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
For reqtype = 1, return ROM font, the font size requested must be supported
by the display adapter installed.  The 8x8, 8x14, 9x14, 8x16, or 9x16 character
font may be requested for the VGA or PS/2 Display Adapters.  The 8x8, 8x14,
or 9x14 font may be requested for the enhanced graphics adapter.  The 8x8
font may be requested for the color graphics adapter.
<P>
<B>Note: </B> Although graphics mode support is provided in VioGetFont,
this support is not provided by the Base Video Handlers provided with OS/2.
<!-- lm: 0x2 1 -->
<P>

<P>
For reqtype = 1, return ROM font, the far address returned is a ROM pointer
only for those fonts where the font table for the full 256-character set
is actually contained in ROM. Otherwise, the far address returned is a RAM
pointer. Note that for 8x8 on the CGA, the font table for the full 256-character
set is returned. For 9x14 or 9x16 the font table for the full 256-character
set is also returned.  Partial fonts are not returned. The 9x14 and 9x16
fonts are derived from variations of the 8x14 and 8x16 fonts, respectively,
where the definitions of fonts for those characters that are different,
are replaced.
<P>
For VioGetFont specifying reqtype = 1, return ROM font, the font returned
is derived from the fonts contained in the system, EGA, VGA, and PS/2 Display
Adapter BIOS data areas as applicable. There is an exception for the EGA,
VGA and PS/2 Display Adapter when <A HREF="685_L2_VioSetCp.html">VioSetCp
</A>or <A HREF="688_L2_VioSetFont.html">VioSetFont</A> has been issued.
In that case, the font of the size requested is returned from the active
code page or the list of user fonts already set.

<P><HR>

<A HREF="662_L2_VioGetCurType.html">[Back: VioGetCurType]</A> <BR>
<A HREF="664_L2_VioGetMode.html">[Next: VioGetMode]</A> 
</BODY>
</HTML>
