<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosPFSQueryAct</TITLE>
</HEAD>
<BODY>
<H1>DosPFSQueryAct</H1><!-- entering slot 123 -->Bindings:  <A HREF="275_L2H_DosPFSQueryAct.html">C</A>,
<A HREF="450_L2H_DosPFSQueryAct.html">MASM</A>
<BR>

<P>
This call queries the active code page and font for the specified printer
and system file number.<!-- lm: 0x2 1 -->
<UL>
<P>
DosPFSQueryAct<!-- lm: 0x2 20 -->
<UL> (PrinterName, CodePage, FontID, SFN,
Reserved)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>PrinterName</B> (PSZ) - input<!-- lm: 0x11 4 -->
<UL> Address of the
name of the printer that queries the active code page and font.<!-- lm: 0x2 1 -->
</UL><B> CodePage
</B>(PUSHORT) - output<!-- lm: 0x11 4 -->
<UL> Address of the active code
page that returns the specified printer and System File Number.<!-- lm: 0x2 1 -->
</UL><B> FontID
</B>(PUSHORT) - output<!-- lm: 0x11 4 -->
<UL> Address of the active Font
ID number that returns the specified printer and System File Number.<!-- lm: 0x2 1 -->
</UL><B> SFN
</B>(USHORT) - input<!-- lm: 0x11 4 -->
<UL> System File Number of the requester.
 The SFN is passed as a parameter in the monitor packet.<!-- lm: 0x2 1 -->
</UL><B> Reserved
</B>(ULONG) - input<!-- lm: 0x11 4 -->
<UL> Reserved must be set to zero.
<!-- lm: 0x2 1 -->
</UL><B>rc</B> (USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return
code descriptions are listed in the following section.<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
DosPFSQueryAct is intended for use only by applications that replace the
spooler as a print monitor and that do code page switching. Other applications
should use printer IOCTLs to manipulate printer code page switching.
<P>
DosPFSQueryAct is located in SPOOLCP.DLL (not in DOSCALLS.LIB)  and requires
an import statement in the module definition file.  Refer to the IBM Operating
System/2 Version 1.2 Building Programs, Module Definition File Statements
section for information regarding the import statement.
<P>
Return values are:<!-- lm: 0x2 1 -->
<P>
<LI><!-- lm: 0x2 11 -->Code page switcher internal error.<!-- lm: 0x2 1 -->
<BR>
10<!-- lm: 0x2 11 -->
<UL> Invalid printer name as input.<!-- lm: 0x2 1 -->
</UL>13<!-- lm: 0x2 11 -->
<UL> Received code page request when code page
switcher not initialized.<!-- lm: 0x2 1 -->
</UL>16<!-- lm: 0x2 11 -->
<UL> Received request for system file number
not in the system file number table.<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="099_L2_DosPFSInit.html">[Back: DosPFSInit]</A> <BR>
<A HREF="101_L2_DosPFSVerifyFont.html">[Next: DosPFSVerifyFont]</A> 
</BODY>
</HTML>
