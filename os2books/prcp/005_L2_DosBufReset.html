<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosBufReset</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosBufReset</H1><!-- entering slot 6 -->Bindings:  <A HREF="180_L2H_DosBufReset.html">C</A>,
<A HREF="355_L2H_DosBufReset.html">MASM</A>
<BR>

<P>
This call flushes a requesting process's cache buffers for a specific file
handle or for all file handles attached to that process. This call is also
used with the handle of a named pipe to synchronize a dialog between communicating
processes.<!-- lm: 0x2 1 -->
<UL>
<P>
DosBufReset<!-- lm: 0x2 16 -->
<UL> (FileHandle)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>FileHandle</B> (HFILE) - input<!-- lm: 0x11 4 -->
<UL> File handle whose
buffers are to be flushed. If FileHandle = 0xFFFFH, all of the process's
file handles are flushed.<!-- lm: 0x2 1 -->
</UL><B> rc</B> (USHORT) - return
<!-- lm: 0x11 4 -->
<UL>Return code descriptions are:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 2<!-- lm: 0x2 14 -->
<UL> ERROR_FILE_NOT_FOUND
<!-- lm: 0x2 4 -->
</UL>5<!-- lm: 0x2 14 -->
<UL> ERROR_ACCESS_DENIED<!-- lm: 0x2 4 -->
</UL>6<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_HANDLE<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
Upon issuing DosBufReset for a file handle, the file's buffers are flushed
to disk and its directory entry updated as if the file had been closed;
however the file remains in an open state.
<P>
Usage of this call to write out all files belonging to the requesting process
should be administered with caution. When the files reside on removable
media (diskettes), a call to DosBufReset could have the undesirable effect
of requiring the user to insert and remove a large number of diskettes.

<P>

<BR>
<B>Named Pipe Considerations</B>
<P>
Issuing DosBufReset for a named pipe performs an operation that is analogous
to forcing the buffer cache to disk.  The request blocks the calling process
at one end of the pipe until all data it has written has been read at the
other end of the pipe.

<P><HR>

<A HREF="004_L2_DosBeep.html">[Back: DosBeep]</A> <BR>
<A HREF="006_L2_DosCallback.html">[Next: DosCallback]</A> 
</BODY>
</HTML>
