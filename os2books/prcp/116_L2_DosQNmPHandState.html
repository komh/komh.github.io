<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosQNmPHandState</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosQNmPHandState</H1><!-- entering slot 144 -->Bindings:  <A HREF="291_L2H_DosQNmPHandState.html">C</A>,
<A HREF="466_L2H_DosQNmPHandState.html">MASM</A>
<BR>

<P>
This call returns information for a named pipe's specific handle state.
<!-- lm: 0x2 1 -->
<UL>
<P>
DosQNmPHandState<!-- lm: 0x2 23 -->
<UL> (Handle, PipeHandleState)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>Handle</B> (HPIPE) - input<!-- lm: 0x11 4 -->
<UL> Handle of the named
pipe returned by <A HREF="078_L2_DosMakeNmPipe.html">DosMakeNmPipe</A> or
 <A HREF="091_L2_DosOpen.html">DosOpen</A>.<!-- lm: 0x2 1 -->
</UL><B> PipeHandleState
</B>(PUSHORT) - output<!-- lm: 0x11 4 -->
<UL> Address of the named pipe
handle state:<!-- lm: 0x2 4 -->
<P>
Bit<!-- lm: 0x2 14 -->
<UL> Description<!-- lm: 0x2 4 -->
</UL> 15<!-- lm: 0x2 14 -->
<UL> Blocking;
pipe is defined as follows:
<P>
0 = Reads/Writes block if no data available.
<P>
1 = Reads/Writes return immediately if no data available.
<P>
Reads normally block until at least partial data can be returned.  Writes,
by default, block until all bytes requested have been written.  Non-blocking
mode (value is 1) changes this behavior as follows:<!-- lm: 0x2 4 -->
</UL>  
<!-- lm: 0x2 14 -->
<UL> - DosRead returns immediately with BytesRead =
0 (as defined in <A HREF="124_L2_DosRead.html">DosRead</A>) if no data is
available.<!-- lm: 0x2 4 -->
</UL>  <!-- lm: 0x2 14 -->
<UL>  - DosWrite
returns immediately with BytesWritten = 0 (as defined in <A HREF="173_L2_DosWrite.html">DosWrite</A>)
if insufficient buffer space is available in the pipe, or the entire data
area is transferred.<!-- lm: 0x2 4 -->
</UL> 14<!-- lm: 0x2 14 -->
<UL> Server
or requester end; end-point of named pipe shown as follows:
<P>
0 = Handle is the client end of a named pipe.
<P>
1 = Handle is the server (requester) end of a named pipe.<!-- lm: 0x2 4 -->
</UL> 13-12
<!-- lm: 0x2 14 -->
<UL>Reserved.<!-- lm: 0x2 4 -->
</UL> 11-10<!-- lm: 0x2 14 -->
<UL> Type
of named pipe:
<P>
00 = Pipe is a byte stream pipe.
<P>
01 = Pipe is a message stream pipe.<!-- lm: 0x2 4 -->
</UL> 9-8<!-- lm: 0x2 14 -->
<UL> Read
mode:
<P>
00 = Read pipe as a byte stream.
<P>
01 = Read pipe as a message stream.<!-- lm: 0x2 4 -->
</UL> 7-0<!-- lm: 0x2 14 -->
<UL> Instance
count; 8-bit count to control pipe instances. When making the first instance
of a named pipe, this field specifies how many instances can be created.
 Instances are as follows:<!-- lm: 0x2 7 -->
</UL> Value<!-- lm: 0x2 17 -->
<UL> Definition
<!-- lm: 0x2 7 -->
</UL>  1<!-- lm: 0x2 17 -->
<UL> This can be the only instance (pipe is
unique).<!-- lm: 0x2 7 -->
</UL>-1<!-- lm: 0x2 17 -->
<UL> The number of instances is unlimited.<!-- lm: 0x2 7 -->
</UL>  0<!-- lm: 0x2 17 -->
<UL> Reserved value.<!-- lm: 0x2 1 -->
</UL><B> rc
</B>(USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:
<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 230<!-- lm: 0x2 14 -->
<UL> ERROR_BAD_PIPE
<!-- lm: 0x2 4 -->
</UL>233<!-- lm: 0x2 14 -->
<UL> ERROR_PIPE_NOT_CONNECTED<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
At the serving end, the values returned by DosQNmPHandState are those originally
established by <A HREF="078_L2_DosMakeNmPipe.html">DosMakeNmPipe</A> or
a subsequent <A HREF="148_L2_DosSetNmPHandState.html">DosSetNmPHandState</A>.
 The values returned by the client end are those originally established
by <A HREF="091_L2_DosOpen.html">DosOpen</A> or a subsequent <A HREF="148_L2_DosSetNmPHandState.html">DosSetNmPHandState</A>.


<P><HR>

<A HREF="115_L2_DosQHandType.html">[Back: DosQHandType]</A> <BR>
<A HREF="117_L2_DosQNmPipeInfo.html">[Next: DosQNmPipeInfo]</A> 
</BODY>
</HTML>
