<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosPhysicalDisk</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosPhysicalDisk</H1><!-- entering slot 125 -->Bindings:  <A HREF="277_L2H_DosPhysicalDisk.html">C</A>,
<A HREF="452_L2H_DosPhysicalDisk.html">MASM</A>
<BR>

<P>
This call obtains information about partitionable disks.<!-- lm: 0x2 1 -->
<UL>
<P>
DosPhysicalDisk<!-- lm: 0x2 22 -->
<UL> (Function, DataPtr, DataLen, ParmPtr,
ParmLen)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>Function</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> The functions supported
are:<!-- lm: 0x2 4 -->
<P>
Value<!-- lm: 0x2 14 -->
<UL> Definition<!-- lm: 0x2 4 -->
</UL>1<!-- lm: 0x2 14 -->
<UL> Obtain total number of partitionable disks
<!-- lm: 0x2 4 -->
</UL>2<!-- lm: 0x2 14 -->
<UL> Obtain a handle to use with Category 9 IOCTLs
<!-- lm: 0x2 4 -->
</UL>3<!-- lm: 0x2 14 -->
<UL> Release a handle for a partitionable disk.
<!-- lm: 0x2 1 -->
</UL><B>DataPtr</B> (PBYTE) - output<!-- lm: 0x11 4 -->
<UL> Address
of the buffer where the returned information is placed.<!-- lm: 0x2 1 -->
</UL><B> DataLen
</B>(USHORT) - input<!-- lm: 0x11 4 -->
<UL> Length of the data buffer.
 The output data for each function is described below.
<P>

<PRE>  FUNCTION   DATALEN         RETURNED INFORMATION
   1         2               Total number of partitionable disks in
                             the system, 1-based.

   2         2               Handle for the specified partitionable
                             disk for the category 9 IOCTLs.

   3         0               None.  Pointer must be zero.

</PRE>
<!-- lm: 0x2 1 -->
</UL> <!-- lm: 0x11 4 -->
<UL> All lengths are in bytes.
<!-- lm: 0x2 1 -->
</UL><B>ParmPtr</B> (PBYTE) - input<!-- lm: 0x11 4 -->
<UL> Address
of the buffer used for input parameters.<!-- lm: 0x2 1 -->
</UL><B> ParmLen
</B>(USHORT) - input<!-- lm: 0x11 4 -->
<UL> Length of the parameter buffer.
 The input parameters required for each function are:
<P>

<PRE>
  FUNCTION   PARMLEN         INPUT PARAMETERS

   1         0               None.  Must be set to zero.

   2         String length   ASCIIZ string that specifies the
                             partitionable disk.

   3         2               Handle obtained from function 2.
</PRE>

<P>
<B>Note: </B> All lengths are in bytes.<!-- lm: 0x2 1 -->
</UL> <!-- lm: 0x2 1 -->
<P>
<B>rc</B> (USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions
are:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 14 -->ERROR_INVALID_FUNCTION<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 14 -->ERROR_ACCESS_DENIED<!-- lm: 0x2 4 -->
<BR>
<LI><!-- lm: 0x2 14 -->ERROR_INVALID_HANDLE<!-- lm: 0x2 4 -->
<BR>
33<!-- lm: 0x2 14 -->
<UL> ERROR_LOCK_VIOLATION<!-- lm: 0x2 4 -->
</UL>87<!-- lm: 0x2 14 -->
<UL> ERROR_INVALID_PARAMETER<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
The ASCIIZ string used to specify the partitionable disk must be of the
following format:
<PRE>number : &lt;null byte&gt;
</PRE>

<P>
Where:<!-- lm: 0x2 1 -->
<P>
number<!-- lm: 0x12 16 -->
<UL> specifies the partitionable disk (1-based)
number in ASCII<!-- lm: 0x2 1 -->
</UL> :<!-- lm: 0x12 16 -->
<UL> must
be present<!-- lm: 0x2 1 -->
</UL> &lt;null byte&gt;<!-- lm: 0x12 16 -->
<UL> the
byte of 0 for the ASCIIZ string<!-- lm: 0x2 1 -->
</UL>
<P>
The handle returned for the specified partitionable disk can only be used
with the <A HREF="024_L2_DosDevIOCtl.html">DosDevIOCtl</A> call for the
Category 9 Generic IOCTL.  Use of the handle for a physical partitionable
disk is not permitted for handle-based file system function calls, such
as <A HREF="124_L2_DosRead.html">DosRead</A> or <A HREF="012_L2_DosClose.html">DosClose</A>.


<P><HR>

<A HREF="101_L2_DosPFSVerifyFont.html">[Back: DosPFSVerifyFont]</A> <BR>
<A HREF="103_L2_DosPortAccess.html">[Next: DosPortAccess]</A> 
</BODY>
</HTML>
