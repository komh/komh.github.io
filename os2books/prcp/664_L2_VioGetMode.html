<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>VioGetMode</TITLE>
</HEAD>
<BODY>
<H1>VioGetMode</H1><!-- entering slot 713 -->Bindings:  <A HREF="708_L2H_VioGetMode.html">C</A>,
<A HREF="752_L2H_VioGetMode.html">MASM</A>
<BR>

<P>
This call returns the mode of the display.<!-- lm: 0x2 1 -->
<UL>
<P>
VioGetMode<!-- lm: 0x2 15 -->
<UL> (ModeData, VioHandle)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>ModeData</B> (PVIOMODEINFO) - input/output<!-- lm: 0x11 4 -->
<UL> Far
address of a structure where mode characteristics are returned.<!-- lm: 0x2 4 -->
<P>
<B>length</B> (USHORT)<!-- lm: 0x11 7 -->
<UL> Input parameter to VioGetMode.
 Length specifies the length of the data structure in bytes including Length
itself.  The value specified on input controls the amount of mode data returned.
The minimum structure size required is 2 bytes, and the maximum structure
size required is 34 bytes. For OS/2 1.2, a length of 2 returns the size
of the maximum structure required for all the mode data. When length is
not equal to 2, the length field is modified on output to reflect the actual
number of bytes returned.<!-- lm: 0x2 4 -->
</UL><B> type</B> (UCHAR)<!-- lm: 0x11 7 -->
<UL> Mode
characteristics bit mask:<!-- lm: 0x2 7 -->
<P>
Bit<!-- lm: 0x2 17 -->
<UL> Description<!-- lm: 0x2 7 -->
</UL> 7-4<!-- lm: 0x2 17 -->
<UL> Reserved
<!-- lm: 0x2 7 -->
</UL>3<!-- lm: 0x2 17 -->
<UL> 0 = VGA-compatible modes
0 thru 13H
<P>
1 = Native mode<!-- lm: 0x2 7 -->
</UL> 2<!-- lm: 0x2 17 -->
<UL> 0 = Enable
color burst
<P>
1 = Disable color burst<!-- lm: 0x2 7 -->
</UL> 1<!-- lm: 0x2 17 -->
<UL> 0
= Text mode
<P>
1 = Graphics mode<!-- lm: 0x2 7 -->
</UL> 0<!-- lm: 0x2 17 -->
<UL> 0 =
Monochrome compatible mode
<P>
1 = Other.<!-- lm: 0x2 4 -->
</UL><B> numcolors</B> (UCHAR)<!-- lm: 0x11 7 -->
<UL> Number
of colors defined as a power of 2.  This is equivalent to the number of
color bits that define the color, for example:<!-- lm: 0x2 7 -->
<P>
Value<!-- lm: 0x2 17 -->
<UL> Definition<!-- lm: 0x2 7 -->
</UL>0<!-- lm: 0x2 17 -->
<UL> Monochrome modes 7, 7+, and F.<!-- lm: 0x2 7 -->
</UL>1<!-- lm: 0x2 17 -->
<UL> 2 colors<!-- lm: 0x2 7 -->
</UL>2<!-- lm: 0x2 17 -->
<UL> 4 colors<!-- lm: 0x2 7 -->
</UL>4<!-- lm: 0x2 17 -->
<UL> 16 colors<!-- lm: 0x2 7 -->
</UL>8<!-- lm: 0x2 17 -->
<UL> 256 colors<!-- lm: 0x2 4 -->
</UL><B> textcols
</B>(USHORT)<!-- lm: 0x11 7 -->
<UL> Number of text columns.<!-- lm: 0x2 4 -->
</UL><B> textrows
</B>(USHORT)<!-- lm: 0x11 7 -->
<UL> Number of text rows.<!-- lm: 0x2 4 -->
</UL><B> pelcols
</B>(USHORT)<!-- lm: 0x11 7 -->
<UL> Horizontal resolution, number of pel
columns.<!-- lm: 0x2 4 -->
</UL><B> pelrows</B> (USHORT)<!-- lm: 0x11 7 -->
<UL> Vertical
resolution, number of pel rows.<!-- lm: 0x2 4 -->
</UL><B> Attribute Format
</B>(UCHAR)<!-- lm: 0x11 7 -->
<UL> Format of the attributes.<!-- lm: 0x2 4 -->
</UL><B> Number
of Attributes</B> (UCHAR)<!-- lm: 0x11 7 -->
<UL> Number of attributes in
a character cell.<!-- lm: 0x2 4 -->
</UL><B> Buffer Address</B> (ULONG)
<!-- lm: 0x11 7 -->
<UL>32-bit physical address of the physical display
buffer for this mode.<!-- lm: 0x2 4 -->
</UL><B> Buffer Length</B> (ULONG)
<!-- lm: 0x11 7 -->
<UL>Length of the physical display buffer for this mode.
<!-- lm: 0x2 4 -->
</UL><B>Full Buffer Size</B> (ULONG)<!-- lm: 0x11 7 -->
<UL> Size
of the buffer required for a full save of the physical display buffer for
this mode.<!-- lm: 0x2 4 -->
</UL><B> Partial Buffer Size</B> (ULONG)<!-- lm: 0x11 7 -->
<UL> Size
of the buffer required for a partial (pop-up) save of the physical display
buffer for this mode.<!-- lm: 0x2 4 -->
</UL><B> Extended Data Area Address
</B>(PCH)<!-- lm: 0x11 7 -->
<UL> Far address to an extended mode data structure
or zero if none. The format of the extended mode data structure is determined
by the device driver and is unknown to OS/2.<!-- lm: 0x2 1 -->
</UL><B> VioHandle
</B>(HVIO) - input<!-- lm: 0x11 4 -->
<UL> Reserved word of 0s.<!-- lm: 0x2 1 -->
</UL><B> rc
</B>(USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return code descriptions are:
<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 14 -->NO_ERROR<!-- lm: 0x2 4 --> 436<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_INVALID_HANDLE
<!-- lm: 0x2 4 -->
</UL>438<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_INVALID_LENGTH<!-- lm: 0x2 4 -->
</UL>465<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_DETACHED<!-- lm: 0x2 4 -->
</UL>494<!-- lm: 0x2 14 -->
<UL> ERROR_VIO_EXTENDED_SG<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
Refer to <A HREF="689_L2_VioSetMode.html">VioSetMode</A> for examples.

<P><HR>

<A HREF="663_L2_VioGetFont.html">[Back: VioGetFont]</A> <BR>
<A HREF="665_L2_VioGetPhysBuf.html">[Next: VioGetPhysBuf]</A> 
</BODY>
</HTML>
