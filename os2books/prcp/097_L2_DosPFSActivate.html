<HTML>
<HEAD>
<TITLE>DosPFSActivate</TITLE>
</HEAD>
<BODY>
<H1>DosPFSActivate</H1><!-- entering slot 120 -->Bindings:  <A HREF="272_L2H_DosPFSActivate.html">C</A>,
<A HREF="447_L2H_DosPFSActivate.html">MASM</A>
<BR>

<P>
This call specifies the code page and font to make active for the specified
printer and system file number.<!-- lm: 0x2 1 -->
<UL>
<P>
DosPFSActivate<!-- lm: 0x2 20 -->
<UL> (SplHandle, BytesWritten, PrinterName,
CodePage, FontID, SFN, Reserved)<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>SplHandle</B> (PVOID) - input<!-- lm: 0x11 4 -->
<UL> Address of the
file handle of the temporary spool file that activates code page and font
switching.<!-- lm: 0x2 1 -->
</UL><B> BytesWritten</B> (PULONG) - output
<!-- lm: 0x11 4 -->
<UL>Address of the number of bytes written to the temporary
spool file.<!-- lm: 0x2 1 -->
</UL><B> PrinterName</B> (PSZ) - input<!-- lm: 0x11 4 -->
<UL> Address
of the name of the printer that activates code page and font switching.
<!-- lm: 0x2 1 -->
</UL><B>CodePage</B> (USHORT) - input<!-- lm: 0x11 4 -->
<UL> Active
code page for the specified printer and system file number.<!-- lm: 0x2 1 -->
</UL><B> FontID
</B>(USHORT) - input<!-- lm: 0x11 4 -->
<UL> Active font within the specified
code page for the specified printer and system file number.
<P>
For download fonts, the FontID is that specified in the printer font file.

<P>
For cartridge fonts, the FontID is the number specified on the label of
the cartridge and in the DEVINFO statement for the printer.
<P>
A value of 0 (0000H) for both the CodePage and FontID indicates that the
hardware default code page and font should be made active.
<P>
A value of 0 for the font ID but not the code page indicates that any font
ID is acceptable for the code pages.<!-- lm: 0x2 1 -->
</UL><B> SFN</B> (USHORT)
- input<!-- lm: 0x11 4 -->
<UL> System file number of the requester.  The
SFN is passed as a parameter in the monitor packet.<!-- lm: 0x2 1 -->
</UL><B> Reserved
</B>(ULONG) - input<!-- lm: 0x11 4 -->
<UL> Reserved must be set to zero.
<!-- lm: 0x2 1 -->
</UL><B>rc</B> (USHORT) - return<!-- lm: 0x11 4 -->
<UL> Return
code descriptions are listed in following section.<!-- lm: 0x2 1 -->
</UL><B>Remarks</B>
<P>
DosPFSActivate is intended for use only by applications that replace the
spooler as a print monitor and that do code page switching. Other applications
should use printer IOCTLs to manipulate printer code page switching.
<P>
DosPFSActivate is located in SPOOLCP.DLL (not in DOSCALLS.LIB) and requires
an import statement in the module definition file.  See the IBM Operating
System/2 Version 1.2 Building Programs, Module Definition File Statements
section for information regarding the import statement.
<P>
Return values are:<!-- lm: 0x2 1 -->
<P>
<LI><!-- lm: 0x2 11 -->Code page not available.<!-- lm: 0x2 1 -->
<BR>
<LI><!-- lm: 0x2 11 -->Font ID not available.<!-- lm: 0x2 1 -->
<BR>
<LI><!-- lm: 0x2 11 -->Code page switcher internal error.<!-- lm: 0x2 1 -->
<BR>
10<!-- lm: 0x2 11 -->
<UL> Invalid printer name as input.<!-- lm: 0x2 1 -->
</UL>13<!-- lm: 0x2 11 -->
<UL> Received code page request when code page
switcher not initialized.<!-- lm: 0x2 1 -->
</UL>15<!-- lm: 0x2 11 -->
<UL> System file number table full. Cannot activate
another entry.<!-- lm: 0x2 1 -->
</UL>19<!-- lm: 0x2 11 -->
<UL> I/O error reading font file control sequence
section.<!-- lm: 0x2 1 -->
</UL>21<!-- lm: 0x2 11 -->
<UL> I/O error reading font file font definition
block.<!-- lm: 0x2 1 -->
</UL>23<!-- lm: 0x2 11 -->
<UL> I/O error while writing to temporary spool
file.<!-- lm: 0x2 1 -->
</UL>24<!-- lm: 0x2 11 -->
<UL> Disk full error while writing to temporary
spool file.<!-- lm: 0x2 1 -->
</UL>25<!-- lm: 0x2 11 -->
<UL> Bad spool file handle.<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="096_L2_DosPeekQueue.html">[Back: DosPeekQueue]</A> <BR>
<A HREF="098_L2_DosPFSCloseUser.html">[Next: DosPFSCloseUser]</A> 
</BODY>
</HTML>
