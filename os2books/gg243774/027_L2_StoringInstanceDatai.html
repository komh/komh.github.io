<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Storing Instance Data in Window Words</TITLE>
</HEAD>
<BODY>
<H1>Storing Instance Data in Window Words</H1><!-- entering slot 28 -->
<PRE>MYSTRUCT *MyStruct;
   :
switch (ulMsg)                              /* Switch on message class   */
       {
       case WM_CREATE:
            WinDefWindowProc(hWnd,          /* Perform default init      */
                             ulMsg,
                             mp1,
                             mp2);
            DosAllocMem(MyStruct,           /* Allocate memory object    */
                        sizeof(MYSTRUCT),   /* Size of memory object     */
                        PAG_READ  |         /* Allow read access         */
                        PAG_WRITE |         /* Allow write access        */
                        PAG_COMMIT);        /* Commit storage now        */
            hFrame=WinQueryWindow(hwnd,     /* Get frame window handle   */
                                  QW_PARENT,
                                  FALSE);
            WinSetWindowULong(hFrame,       /* Place pointer in window   */
                              QWL_USER,     /* words                     */
                              (ULONG)MyStruct);
            return((MRESULT)0);
            break;
              :
</PRE>

<P>
This example shows the allocation of a memory object, and the storage of
a pointer to that memory object in window words.

<P><HR>

<A HREF="026_L2_WinAddSwitchEntryFun.html">[Back: WinAddSwitchEntry() Function]</A> <BR>
<A HREF="028_L2_RetrievingInstanceDa.html">[Next: Retrieving Instance Data from Window Words]</A> 
</BODY>
</HTML>
