<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Passing a 16:16 Pointer as a Message Parameter</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Passing a 16:16 Pointer as a Message Parameter</H1><!-- entering slot 117 -->
<PRE>typedef struct mystruct {                  /* Define data structure      */
                        CHAR * _Seg16 Name;
                        ULONG         ulA;
                        ULONG         ulB;
                        USHORT        usC;
                        } MYSTRUCT;

pragma seg16(MYSTRUCT)                     /* Define pragma directive    */

MYSTRUCT * _Seg16 MyStruct;                /* 16:16 pointer              */

APIRET   rc;                               /* Return code                */

MPARAM   mp1;                              /* Message parameter          */

rc = DosAllocMem(&amp;MyStruct,                /* Allocate data structure    */
                 4096,                     /* Size of data structure     */
                 PAG_READ  |               /* Allow read access          */
                 PAG_WRITE |               /* Allow write access         */
                 PAG_COMMIT);              /* Commit storage immediately */

&lt;Initialize structure if required&gt;

mp1 = MPFROMP(MyStruct);                   /* Set message parameter      */
</PRE>

<P>
This example shows the 32-bit code necessary to define and initialize a
16:16 pointer to be passed to a 16-bit window procedure.

<P><HR>

<A HREF="114_L2_Creatinga16bitWindow.html">[Back: Creating a 16-bit Window From Within a 32-bit Module]</A> <BR>
<A HREF="116_L2_MixedModelProgrammin.html">[Next: Mixed Model Programming - WinSetWindowThunkProc() Function]</A> 
</BODY>
</HTML>
