<HTML>
<HEAD>
<TITLE>Synchronization Using Presentation Manager Messages</TITLE>
</HEAD>
<BODY>
<H1>Synchronization Using Presentation Manager Messages</H1><!-- entering slot 101 -->
<PRE>        :
case WMP_THREAD:                        /* Start secondary thread       */
     DosCreateThread(ThreadID,          /* Thread ID                    */
                     Thread,            /* Entry point for thread       */
                     (PVOID)hwnd,       /* Invoking window handle       */
                     0L,                /* Start immediately            */
                     4096);             /* Stack size for thread        */
     break;

case WMP_ENDOFTHREAD:                   /* Thread has completed         */

     &lt;perform end-of-thread processing&gt;

     break;
        :
        :
int cdecl thread(hReturn)               /* Thread routine               */
    HWND hReturn;                       /* Handle of calling window     */
{
    &lt;Perform lengthy processing task&gt;

    WinPostMsg(hReturn,                 /* Post message to caller       */
               WMP_ENDOFTHREAD,         /* Message class                */
               0,0);                    /* No parameters                */
    DosExit(EXIT_THREAD,                /* Terminate thread             */
            0L);
}
</PRE>


<P><HR>

<A HREF="098_L2_InterprocessCommunic.html">[Back: Interprocess Communication Using Named Pipes (Part 2)]</A> <BR>
<A HREF="100_L2_SynchronizationUsing.html">[Next: Synchronization Using an Event Semaphore (Part 1)]</A> 
</BODY>
</HTML>
