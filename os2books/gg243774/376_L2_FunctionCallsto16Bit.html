<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Function Calls to 16-Bit Modules</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Function Calls to 16-Bit Modules</H1><!-- entering slot 418 -->
<P>
Thunking considerations affect the way in which a 16-bit function must be
declared within the 32-bit module, and the way in which parameters to be
passed to the 16-bit function are defined.  Such functions and parameters
must be declared using the<I> #pragma linkage</I> directive and the <A HREF="725_L2__far16.html"><B><I>far16
</B></I></A>keyword, as shown in <A HREF="113_L2_Declaringa16BitFunct.html">Figure
"Declaring a 16-Bit Function in 32-Bit Code"</A>.
<P>
Note the use of the <A HREF="729_L2_#pragmastack16.html"><B><I>#pragma stack16
</B></I></A>directive to set the stack size for all 16-bit function calls
made from the 32-bit module.
<P>
Declaring a 16-bit function in this manner will cause the operating system
to automatically perform thunking for all "value" parameters (that is, those
other than pointers).  Pointers passed as parameters must be explicitly
defined using the <A HREF="726_L2__Seg16.html"><B><I>_Seg16</B></I></A> keyword,
as shown in <A HREF="113_L2_Declaringa16BitFunct.html">Figure "Declaring
a 16-Bit Function in 32-Bit Code"</A>.
<P>
The<I> #pragma linkage</I> and<I> #pragma stack16</I> directives are discussed
in more detail in the<I> IBM C Set/2 User's Guide</I>.

<P><HR>

<A HREF="375_L1_Mixing16Bitand32BitA.html">[Back: Mixing 16-Bit and 32-Bit Application Modules]</A> <BR>
<A HREF="377_L2_Using16BitWindowProc.html">[Next: Using 16-Bit Window Procedures]</A> 
</BODY>
</HTML>
