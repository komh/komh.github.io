<HTML>
<HEAD>
<TITLE>Structure of a Dialog Procedure</TITLE>
</HEAD>
<BODY>
<H1>Structure of a Dialog Procedure</H1><!-- entering slot 16 -->
<PRE>MRESULT EXPENTRY dpDProc(HWND hWnd, ULONG ulMsg, MPARAM mp1, MPARAM mp2)
{
        switch (ulMsg)
               {
               case WM_INITDLG:
                    &lt;extract initialization data from message parameters&gt;
                    &lt;establish initial values for control window data&gt;
                    return((MRESULT)TRUE);
                    break;
               case WM_CONTROL:
                    &lt;determine originator of message and message contents&gt;
                    &lt;perform control-specific processing&gt;
                    return((MRESULT)0);
                    break;
               case WM_COMMAND:
                    switch LOUSHORT(mp1):
                           {
                           case DID_OK:
                                &lt;complete dialog&gt;
                                WinDismissDlg(hWnd,TRUE);
                                break;
                           case DID_CANCEL:
                                &lt;cancel dialog&gt;
                                WinDismissDlg(hWnd,FALSE);
                                break;
                           }
                    return((MRESULT)0);
                    break;
               default:
                    return((MRESULT)WinDefDlgProc(hWnd,
                                                  ulMsg,
                                                  mp1,
                                                  mp2));
                    break;
               }
}
</PRE>


<P><HR>

<A HREF="014_L2_StructureofaWindowPr.html">[Back: Structure of a Window Procedure]</A> <BR>
<A HREF="016_L2_AllocatingMemoryinPr.html">[Next: Allocating Memory in Previous Versions of OS/2]</A> 
</BODY>
</HTML>
