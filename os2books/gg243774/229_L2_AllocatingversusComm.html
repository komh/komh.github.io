<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Allocating versus Committing Memory</TITLE>
</HEAD>
<BODY>
<H1>Allocating versus Committing Memory</H1><!-- entering slot 245 -->
<P>
Under OS/2 Version 2.0, there is a distinction between<I> allocating</I> a
memory object and<I> committing</I> that object. This distinction was not
present in previous versions of OS/2, and is a very important concept for
the application developer to grasp.  When a memory object is allocated,
space is reserved in the linear address space, but no real storage or swap
file space is reserved for the object.  This space is only reserved when
the memory object or parts thereof are committed.  A memory object that
has not been committed is known as a <A HREF="686_L2_sparseobject.html"><B>sparse
object</B></A>.
<P>
A memory object may be committed in two ways:<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->It may be committed (in its entirety) at the time
it is allocated, using the PAG_COMMIT flag in the<B> DosAllocMem()</B> function.
<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->It may be committed in stages at some later point,
using the<B> DosSetMem()</B> function.<!-- lm: 0x2 0 -->
<BR>

<P>
The former technique is intended for small memory objects, the size of which
is fixed and can be determined in advance by the application developer.
 The latter technique is intended for memory objects such as external data
files, which may vary in size.
<P>
Memory must be committed prior to being accessed by the application. Failure
to do this will result in a page fault (Trap 000E) exception.

<P><HR>

<A HREF="228_L2_DosAllocMemFunction.html">[Back: DosAllocMem() Function]</A> <BR>
<A HREF="230_L3_CommittingStorageatA.html">[Next: Committing Storage at Allocation]</A> 
</BODY>
</HTML>
