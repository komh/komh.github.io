<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>GCC/2 crashes with a trap when I try to compile a program.  Why?</TITLE>
</HEAD>
<BODY>
<H1>GCC/2 crashes with a trap when I try to compile a program.  Why?</H1><!-- entering slot 33 -->
<P>
Because you didn't read the README or INSTALL files, probably.  There are
three general reasons GCC/2 will crash:<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->You did not set up the environment variables
in CONFIG.SYS properly.  Read doc/INSTALL for instructions.<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Some program that gcc expects to be in the PATH
is not; unfortunately, gcc crashes instead of just printing an error message.
 You may have forgotten to install something, or your PATH may be wrong;
see above.  Giving gcc the -v option will cause it to print each command
line as it executes it; this will tell you which program is missing.<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->You are trying to get gcc to link your program
for you. It cannot because ld does not exist, and so it crashes (see item
2).  You must specify -c, -E, or -S on every invokation of gcc, and then
use LINK386.EXE to create an executable.  See the sample makefiles for an
example of how to do this.<!-- lm: 0x2 0 -->
<BR>

<P>
<LI>Colin Jensen, the current maintainer of GCC/2, also adds the following...]

<P>
Not true as of gcc/2 2.3.3.  Gcc will invoke a small stub program called
ld.exe that in turn will invoke link386 for you.  If the command line is
too long for the ever-pathetic link386 to handle, ld will properly create
a response file.
<P>
It is<I> easier</I> to use gcc/2 to call link386 than to do it yourself
since gcc/2 will also arrange to call a subprogram called "collect" that
is required before linking a C++ program.
<P>
Also, gcc/2 is just plain easier to use than link386, for example:
<PRE>         gcc -o foobar.exe mydef.def foobar.cpp mylib.lib
</PRE>

<P>
will compile foobar.cpp, link with mylib.lib, and pass the linker definition
file mydef.def to link386 in the correct order.  Link386 demands that you
know which types of files can be put between which sets of commas on the
command line. 

<P><HR>

<A HREF="027_L2_WhatisanRCof87invali.html">[Back: What is an RC of 87 (invalid param) from the API?]</A> <BR>
<A HREF="029_L2_HowdoIrecompileEPMea.html">[Next: How do I recompile EPM (easily)?]</A> 
</BODY>
</HTML>
