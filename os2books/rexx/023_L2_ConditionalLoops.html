<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Conditional Loops</TITLE>
</HEAD>
<BODY>
<H1>Conditional Loops</H1><!-- entering slot 23 -->
<P>
Conditional loops are run when a true or false condition is met.  We will
now look at some instructions used for conditional loops:
<P>
<B>DO WHILE and DO UNTIL</B>: The DO WHILE and DO UNTIL instructions are
run while or until some condition is met.  A DO WHILE loop is:
<PRE>DO WHILE expression
   instruction1
   instruction2
   instruction3
END
</PRE>

<P>
The DO WHILE instruction tests for a true or false condition at the top
of the loop; that is,<I> before</I> processing the instructions that follow.
If the expression is true, the instructions are performed.  If the expression
is false, the loop ends and moves to the instruction following END.
<P>
The following diagram shows the DO WHILE instruction:<!-- Unable to decode bitmap format --><IMG SRC="023_L2_ConditionalLoops_1.gif" WIDTH=256 HEIGHT=192>
<P>
To see a procedure using a DO WHILE loop, select the Examples pushbutton.

<P>
<B>DO UNTIL</B>: A DO UNTIL instruction differs from the DO WHILE because
it processes the body of instructions first, then evaluates the expression.
 If the expression is false, the instructions are repeated (a loop).  If
the expression is true, the procedure ends or moves to the next step outside
the loop.
<P>
The DO UNTIL instruction tests at the bottom of the loop; therefore, the
instructions within the DO loop are run at least once.
<P>
An example of a DO UNTIL loop follows:
<PRE>DO UNTIL expression
   instruction1
   instruction2
   instruction3

END
</PRE>

<P>
The following diagram shows the DO UNTIL instruction:<!-- Unable to decode bitmap format --><IMG SRC="023_L2_ConditionalLoops_2.gif" WIDTH=256 HEIGHT=192>
<P>
To see a procedure that uses a DO UNTIL loop, select the Examples pushbutton.

<P>
<B>LEAVE</B>: You may want to end a loop before the ending conditions are
met. You can accomplish this with the LEAVE instruction.  This instruction
ends the loop and continues processing with the instruction following END.
The following procedure, LEAVE.CMD, causes the interpreter to end the loop.

<PRE>/* Using the LEAVE instruction in a loop */
SAY 'enter the amount of money available'
PULL salary
spent = 0        /* Sets spent to a value of 0 */
DO UNTIL spent &gt; salary
   SAY 'Type in cost of item or END to quit'
   PULL cost
      IF cost = 'END'
      THEN
      LEAVE
   spent = spent + cost
END
SAY 'Empty pockets.'
EXIT
</PRE>

<P>
<B>DO FOREVER</B>: There may be situations when you do not know how many
times to repeat a loop.  For example, you may want the user to type specific
numeric data (numbers to add together), and have the loop perform the calculation
until the user says to stop.  For such a procedure, you can use the DO FOREVER
instruction with the LEAVE instruction.
<P>
The following shows the simple use of a DO FOREVER ending when the user
stops.
<PRE>/* Using a DO FOREVER loop to add numbers */
sum = 0
DO FOREVER
   SAY 'Enter number or END to quit'
   PULL value
   IF value = 'END'
      THEN
      LEAVE  /* procedure quits when the user enters "end" */
   sum = sum + value
END
SAY 'The sum is ' sum
EXIT
</PRE>
 

<P><HR>

<A HREF="022_L2_RepetitiveLoops.html">[Back: Repetitive Loops]</A> <BR>
<A HREF="024_L2_GettingOutofLoops.html">[Next: Getting Out of Loops]</A> 
</BODY>
</HTML>
