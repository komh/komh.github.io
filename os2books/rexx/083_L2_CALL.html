<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>CALL</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>CALL</H1><!-- entering slot 83 -->
<P>

<PRE>
 ────CALL───┬───name────┬──────────────────────────┬─────;─

              │           │   ┌──────,───────┐       │
              │           │                 │       │
              │           └───┴──expression──┴───────┤
              │                                      │
              ├───OFF─────┬──ERROR──────┬────────────┤
              │           ├──FAILURE────┤            │
              │           ├──HALT───────┤            │
              │           └──NOTREADY───┘            │
              │                                      │
              └──ON──┬─ERROR────┬─┬───────────────┬──┘
                     ├─FAILURE──┤ └─NAME─trapname─┘
                     ├─HALT─────┤
                     └─NOTREADY─┘

</PRE>

<P>
CALL is used to invoke a routine (if you specify<I> name</I>) or to control
the trapping of certain conditions (if ON or OFF is specified)
<P>
To control trapping, specify OFF or ON and the condition you want to trap.
 OFF turns off the specified condition trap.  ON turns on the specified
condition trap.
<P>
To invoke a routine, specify<I> name</I>, which is a symbol or literal string
that is taken as a constant.  The<I> name</I> must be a valid symbol. The
routine invoked can be any of the following:<!-- lm: 0x2 3 -->
<UL>
<P>
o<!-- lm: 0x2 6 -->
<UL>An internal routine<!-- lm: 0x2 3 -->
</UL>o<!-- lm: 0x2 6 -->
<UL>An external routine<!-- lm: 0x2 3 -->
</UL>o<!-- lm: 0x2 6 -->
<UL>A built-in function.<!-- lm: 0x2 1 -->
</UL>
<P>
If a string is used for<I> name</I> (that is,<I> name</I> is specified in
quotation marks) the search for internal labels is bypassed, and only a
built-in function or an external routine is invoked.  Note that the names
of built-in functions (and generally the names of external routines too)
are in uppercase; therefore, the name in the literal string should be in
uppercase.
<P>
The routine can optionally return a result and is functionally identical
to the clause:
<P>

<PRE>─result=name(─┬────────────────────┬─)──;──                │ ┌──────,────────┐  │
                │                │  │
                └─┴┬────────────┬─┴──┘
                   └─expression─┘
</PRE>

<P>
The exception is that the variable<I> result</I> becomes uninitialized if
no result is returned by the routine invoked.
<P>
The<I> name</I> given in the CALL instruction must be a valid symbol.
<P>
The OS/2 interpreter supports the specification of up to 20 expressions,
separated by commas. The expressions are evaluated in order from left to
right, and form the argument strings during execution of the routine. Any
ARG or PARSE ARG instructions or ARG built-in function in the called routine
will access these strings rather than those previously active in the calling
program.  You can omit expressions, if appropriate, by including extra commas.

<P>
The CALL then causes a branch to the routine called<I> name</I> using the
same mechanism as function calls. The order in which these are searched
for is described in the section on functions.  A brief summary follows:
<!-- lm: 0x2 1 -->
<P>
<B>Internal routines</B>:<!-- lm: 0x2 21 -->
<UL> These are sequences of
instructions inside the same program, starting at the label that matches
<I>name</I> in the CALL instruction. If the routine name is specified in
quotation marks, then an internal routine is not considered for that search
order.<!-- lm: 0x2 1 -->
</UL><B> Built-in routines</B>:<!-- lm: 0x2 21 -->
<UL> These
are routines built in to the language processor for providing various functions.
 They always return a string containing the result of the function.<!-- lm: 0x2 1 -->
</UL><B> External
routines</B>:<!-- lm: 0x2 21 -->
<UL> Users can write or make use of routines
that are external to the language processor and the calling program. An
external routine can be written in any language, including REXX, that supports
the system-dependent interfaces.  If an external routine, written in REXX,
is invoked as a subroutine by the CALL instruction, you can retrieve any
argument strings with the ARG or PARSE ARG instructions or the ARG built-in
function.<!-- lm: 0x2 1 -->
</UL> 

<P><HR>

<A HREF="082_L2_ARG.html">[Back: ARG]</A> <BR>
<A HREF="084_L2_DO.html">[Next: DO]</A> 
</BODY>
</HTML>
