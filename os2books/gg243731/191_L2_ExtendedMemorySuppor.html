<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Extended Memory Support</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Extended Memory Support</H1><!-- entering slot 211 -->
<P>
The OS/2 Version 2.0 Multiple Virtual DOS Machines architecture provides
support for the LIMA Extended Memory Specification Version 2.0 specification,
in a similar manner to that provided for LIM EMS Version 4.0, using normal
system memory and emulating XMS functions.  The following discusses how
MVDM support for the extended memory specification has been implemented.

<P>
The extended memory specification manages three different kinds of memory:
<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->High Memory Area (HMA)<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Upper Memory Blocks (UMBs) in the Upper Memory Area
(UMA)<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Extended Memory Blocks (EMBs).<!-- lm: 0x2 0 -->
<BR>

<P>
Each of these areas is discussed as they relate to the implementation of
expanded memory support for VDMs in OS/2 Version 2.0. <A HREF="034_L2_MemoryMapofAreasSupp.html">Figure
"Memory Map of Areas Supported by Extended Memory"</A>below shows where
these memory areas or blocks reside in memory.
<P>
For more information regarding the Expanded Memory Specification, refer
to <A HREF="255_L1_DOSProtectedModeInte.html">DOS Protected Mode Interface</A>.

<P>
The OS/2 Version 2.0 LIMA XMS emulation provides the following functions:
<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Implements all LIMA XMS Version 2.0 functions.<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Provides each VDM with a separate XMS emulation.  Each
VDM has its own High Memory Area, Upper Memory Blocks and Extended Memory
Blocks; hence features such as interprocess communication work as if each
VDM was running on a different real 80386.  A VDM therefore cannot affect
the availability of extended memory objects in other VDMs or access memory
owned by other VDMs.<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Provides configurable limits for how much XMS memory
is available across all VDMs as well as a limit per-VDM.  The DOS Settings
feature can override the per-VDM limit, subject to the constraint given
by the overall limit, and can disable XMS altogether for a particular VDM
if its installation conflicts with the program being run in the VDM.<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->XMS can be removed and the operating system can run
without loading XMS in any VDM session.<!-- lm: 0x2 0 -->
<BR>

<P>
Applications which use extended memory may use the XMS support in the same
manner as in a native DOS environment.  In addition, portions of the DOS
operating system, device drivers and TSR programs may be loaded into extended
memory, thereby conserving memory within the DOS application address space
for application use.
<P>
Note that older applications which access extended memory directly, rather
than through an extended memory manager, may not be compatible with the
XMS support under MVDM.  For example, Microsoft Windows Version 2.x cannot
make use of extended memory in a VDM.

<P><HR>

<A HREF="190_L2_ExpandedMemoryEMSand.html">[Back: Expanded Memory (EMS) and Upper Memory (UMB)]</A> <BR>
<A HREF="192_L3_ExtendedMemoryManage.html">[Next: Extended Memory Manager]</A> 
</BODY>
</HTML>
