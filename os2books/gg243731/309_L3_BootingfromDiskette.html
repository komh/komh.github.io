<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Booting from Diskette</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Booting from Diskette</H1><!-- entering slot 358 -->
<P>
The user may load a specific version of DOS or an equivalent 8086 operating
system into a VMB session directly from  a bootable diskette, by specifying
<I>A:</I> at the value for<I> DOS_STARTUP_DRIVE</I> under DOS Settings.
 Note that this may affect the way in which applications in the VMB session
may access the diskette drives;  see <A HREF="307_L3_PreparingAUTOEXECBAT.html">Preparing
AUTOEXEC.BAT and CONFIG.SYS (Drive Letter Allocation and Access)</A> for
further discussion.
<P>
Here is an example using DOS 5:<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->From a system running DOS 5, format a diskette
with the<I> /s</I> option.<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Copy FSFILTER.SYS from the OS/2 V2.0 subdirectory
\OS2\MDOS onto the diskette.<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Create CONFIG.SYS and AUTOEXEC.BAT on the diskette.

<P>
A sample CONFIG.SYS to use is as follows (OS/2 V2.0 is installed in E: drive
in this example):
<PRE>REM Load FSFILTER driver
DEVICE=A:FSFILTER.SYS
REM load the stub XMS and EMS memory drivers from OS2.
DEVICE=E:\OS2\MDOS\HIMEM.SYS
DEVICE=E:\OS2\MDOS\EMM386.SYS
</PRE>

<P>
A sample AUTOEXEC.BAT to use is as follows:
<PRE>@ECHO OFF
PROMPT $P$G
REM set the path to where the DOS files were copied
SET PATH=C:\DOS
SET COMSPEC=C:\DOS\COMMAND.COM
REM load the stub mouse driver from OS/2 V2.0
LH E:\OS2\MDOS\MOUSE</PRE>
 <!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Create a DOS subdirectory on the hard disk and
copy the real DOS files there.<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Insert the DOS boot diskette in the A: drive.
<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Locate the<I> Command Prompts</I> folder. It
is usually a folder in the<I> OS/2 System</I> icon on the Workplace Shell.
<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Open the<I> Command Prompts</I>  folder.<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Locate the<I> DOS from drive A:</I> icon and
double click on it.
<P>
The<I> DOS_STARTUP_DRIVE</I> setting of this icon is pre-set to the value
<I>A:</I>.<!-- lm: 0x2 0 -->
<BR>

<P>
The user cannot specify "B:" or an external diskette drive as the startup
drive. There may be situations where it is desired to boot from a 5¼ inch
diskette; typically the B: drive on PS/2 systems.  One way to do this is
by creating an image of the diskette, then booting this image (See <A HREF="310_L3_BootingfromDisketteI.html">Booting
from Diskette Image</A>).
<P>
If a 5¼ inch diskette must be booted directly for some reason, this is possible
if drive remapping is supported by the system (such as a PS/2 Model 57,
90 or 95). Normally A: is Drive 0 (3½ inch), and B: is Drive 1 (5¼ inch,
if fitted).  To change this, run "Set Startup Sequence" from the reference
diskette, and ensure Drive 1 appears before Drive 0. Then the 5¼  inch drive
will become the A: drive.
<P>
Some 5¼ inch drives (such as the IBM External 1.2MB drive and associated
adapter) require a device driver, and are accessed as D: or higher. They
cannot be specified as a startup drive, nor can they be readdressed as A:,
but can be the source drive when creating a bootable image file.

<P><HR>

<A HREF="308_L3_MouseEMSandXMSSuppor.html">[Back: Mouse, EMS and XMS Support]</A> <BR>
<A HREF="310_L3_BootingfromDisketteI.html">[Next: Booting from Diskette Image]</A> 
</BODY>
</HTML>
