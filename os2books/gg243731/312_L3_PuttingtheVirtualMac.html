<HTML>
<HEAD>
<TITLE>Putting the Virtual Machine Boot Session in the Workplace Shell</TITLE>
</HEAD>
<BODY>
<H1>Putting the Virtual Machine Boot Session in the Workplace Shell</H1><!-- entering slot 362 -->
<P>
We are now ready to put the VMB session as an object on the OS/2 Version
2.0 Workplace Shell desktop.<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Locate the<I> Templates</I> folder. It is usually
an icon on the Workplace Shell.<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Open the<I> Templates</I> folder.<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Locate the<I> Program</I> icon template.<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Drag the<I> Program</I> icon template on to the
desktop. This will cause the<I> Program Settings</I> notebook to appear.
<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Enter an asterisk "*" in the<I> Path and file
name</I> field.
<P>
See the example as shown in <A HREF="060_L2_TheProgramPageoftheS.html">Figure
"The Program Page of the Settings Notebook for a VMB"</A>.<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Select the<I> Session</I> notebook tab.
<P>
The<I> Session</I> notebook allows the user to specify the session type
and DOS Settings  for the VMB session.<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Select either<I> DOS full screen</I> or<I> DOS
window</I> and then select the<I> DOS Settings...</I> button.<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Select the<I> DOS_STARTUP_DRIVE</I> list item.

<P>
The difference between a VMB session and a "normal" VDM is that the<I> DOS
Settings</I> value of<I> DOS_STARTUP_DRIVE</I> is set. This setting determines
the location of the DOS kernel to be booted.  By default, MVDM's DOS Emulation
is loaded.  However, the user may specify a location from which to load
DOS, in which case the version of DOS residing at that location is loaded.

<P>
<A HREF="061_L2_DOSSettingsDOS_START.html">Figure "DOS Settings - DOS_STARTUP_DRIVE"
</A>
<P>
Example values for<I> DOS startup drive</I> are:<U><I><!-- lm: 0x2 3 -->
<UL>
<P>
DOS Start up setting<!-- lm: 0x2 33 -->
<UL> Meaning</I></U><!-- lm: 0x2 3 -->
</UL><B>a:</B><!-- lm: 0x2 33 -->
<UL> Boot using the diskette in drive
A:<!-- lm: 0x2 3 -->
</UL><B>c:\bootimg\dos50.vmb</B><!-- lm: 0x2 33 -->
<UL> Boot using the
specified DOS image file<!-- lm: 0x2 3 -->
</UL><B>c:</B><!-- lm: 0x2 33 -->
<UL> Boot using the primary partition
of the C: drive<!-- lm: 0x2 4 -->
</UL> The following restrictions apply:
<!-- lm: 0x2 3 -->
</UL><!-- lm: 0x2 5 -->
<UL>A second diskette drive
(B:) or hard disk (D:)<I> cannot</I> be specified as the startup drive.
<!-- lm: 0x2 3 -->
</UL><!-- lm: 0x2 5 -->
<UL>To boot DOS from the C:
partition, Boot Manager must be installed, and OS/2 Version 2.0 must reside
in an extended partition on the first hard disk, or on another hard disk.
See <A HREF="311_L3_BootingfromaDOSParti.html">Booting from a DOS Partition</A>.
<!-- lm: 0x2 4 --><!-- lm: 0x2 0 -->
</UL> 9.<!-- lm: 0x2 4 -->
<UL>Select
the<I> Save</I> button to save the DOS settings and return.<!-- lm: 0x2 0 -->
</UL> 10.<!-- lm: 0x2 4 -->
<UL>Select
the<I> General</I> notebook tab.<!-- lm: 0x2 0 -->
</UL> 11.<!-- lm: 0x2 4 -->
<UL>Change
the<I> Title</I> field to your own name describing the new object.<!-- lm: 0x2 0 -->
</UL> 12.<!-- lm: 0x2 4 -->
<UL>Close
the<I> Settings</I> notebook by double clicking on the system menu in the
upper left corner of the window.<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Other DOS Settings</B>
<P>
DOS settings which control the VDM hardware environment are applicable to
the VMB session and operate in the same way as for a DOS Emulation windowed
or full-screen session. Those which modify the virtual DOS environment are
ignored; the equivalent settings are instead determined by the CONFIG.SYS
file of the booted DOS kernel. Ignored settings include:<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->DOS_BREAK<!-- lm: 0x2 0 --> <!-- lm: 0x2 2 -->
<UL>DOS_DEVICES
<!-- lm: 0x2 0 -->
</UL><!-- lm: 0x2 2 -->
<UL>DOS_UMB<!-- lm: 0x2 0 -->
</UL><!-- lm: 0x2 2 -->
<UL>DOS_SHELL<!-- lm: 0x2 0 -->
</UL><!-- lm: 0x2 2 -->
<UL>DOS_HIGH<!-- lm: 0x2 0 -->
</UL><!-- lm: 0x2 2 -->
<UL>DOS_LASTDRIVE<!-- lm: 0x2 0 -->
</UL><!-- lm: 0x2 2 -->
<UL>DOS_VERSION<!-- lm: 0x2 0 -->
</UL>
<P>
The FCB limit is the lesser of either the booted DOS, or OS/2 Version 2.0
CONFIG.SYS value.  The VMB session will by default have 640KB of real memory,
mou se support, 2MB Expanded (EMS) memory, 2MB DPMI, and 2MB XMS memory.

<P>
<B>Booting from an OS/2 V2.0 Program</B>
<P>
By using<I> DosStartSession</I> it is possible to start a VMB session from
an OS/2 V2.0 program. For more details see the following sample which shows
how to boot from the disk drive A:. Of course, by<!-- entering slot 363 --> changing
<I>startd.Environment</I>, this sample can also be used to start a VMB from
another hard disk partition or a boot image file from your hard disk.
<P>
<A HREF="062_L2_VMBfromanOS2V20Progr.html">Figure "VMB from an OS/2 2.0
Program"</A>

<P><HR>

<A HREF="311_L3_BootingfromaDOSParti.html">[Back: Booting from a DOS Partition]</A> <BR>
<A HREF="313_L2_ManagingtheVMBSessio.html">[Next: Managing the VMB Session]</A> 
</BODY>
</HTML>
