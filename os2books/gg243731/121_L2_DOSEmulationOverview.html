<HTML>
<HEAD>
<TITLE>DOS Emulation Overview</TITLE>
</HEAD>
<BODY>
<H1>DOS Emulation Overview</H1><!-- entering slot 128 -->
<P>
DOS Emulation is implemented by running a very small portion of the DOS
Emulation kernel in V86 mode and a much larger portion of this code in protected
mode outside the VDM. In OS/2 Version 2.0, physical device drivers are loaded
above 1MB and only the DOS Emulation kernel resides below 1MB. Any user-installed
OS/2 device drivers will not affect the amount of application space available
to a DOS application running in a virtual DOS machine. Similarly, adding
LAN drivers to the OS/2 configuration to support a network server or redirector
does not impact DOS application space, even though DOS applications may
make use of these OS/2 network devices. Virtual device drivers are also
loaded outside the VDM  address space, and therefore do not reduce the amount
of memory available to a DOS application.
<P>
In this way, the MVDM architecture makes the maximum amount of memory available
to DOS applications. In fact, up to 630KB are free for use by DOS applications;
this represents an increase of approximately 100KB over memory available
to the single DOS session that was available under OS/2 Version 1.3. Note
that this amount may be reduced if DOS device drivers and/or TSR programs
are loaded in a VDM. The following DOS features are implemented by the DOS
Emulation:<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->DOS console device driver<!-- lm: 0x2 0 -->
<BR>
<LI><!-- lm: 0x2 2 -->DOS device driver loading/support<!-- lm: 0x2 0 -->
<BR>
<LI><!-- lm: 0x2 2 -->DOS program loading and execution<!-- lm: 0x2 0 -->
<BR>
<LI><!-- lm: 0x2 2 -->DOS FCB I/O support<!-- lm: 0x2 0 -->
<BR>
<LI><!-- lm: 0x2 2 -->DOS memory manager<!-- lm: 0x2 0 -->
<BR>
<LI><!-- lm: 0x2 2 -->DOS NLS support<!-- lm: 0x2 0 -->
<BR>
<LI><!-- lm: 0x2 2 -->DOS PDB process support<!-- lm: 0x2 0 -->
<BR>
<LI><!-- lm: 0x2 2 -->VDM entering and exiting kernel mode support<!-- lm: 0x2 0 -->
<BR>
<LI><!-- lm: 0x2 2 -->Special DOS compatibility mechanisms.<!-- lm: 0x2 0 -->
<BR>

<P>
DOS Emulation supports all documented DOS interrupts and features. In addition,
some undocumented aspects of these functions (especially INT 21h) are supported.
This support is incorporated in the DOS Emulation  component because a large
number of popular DOS applications rely upon these interfaces.
<P>
The following list shows the<I> documented</I> DOS system interrupt services
which are implemented by DOS Emulation and which are available to DOS applications
running in VDMs:<!-- lm: 0x2 0 -->
<P>
<B>INT 20h</B><!-- lm: 0x2 22 -->
<UL> Program terminate interface<!-- lm: 0x2 0 -->
</UL><B> INT
21h</B><!-- lm: 0x2 22 -->
<UL> System call interface<!-- lm: 0x2 0 -->
</UL><B> INT
22h/INT 23h</B><!-- lm: 0x2 22 -->
<UL> Terminate and Ctrl-Break address
interfaces<!-- lm: 0x2 0 -->
</UL><B> INT 24h</B><!-- lm: 0x2 22 -->
<UL> Critical
error handler interface<!-- lm: 0x2 0 -->
</UL><B> INT 25h/INT 26h</B><!-- lm: 0x2 22 -->
<UL> Absolute
disk read/write interfaces<!-- lm: 0x2 0 -->
</UL><B> INT 27h</B><!-- lm: 0x2 22 -->
<UL> Terminate
and stay resident (TSR) interface<!-- lm: 0x2 0 -->
</UL><B> INT 28h</B><!-- lm: 0x2 22 -->
<UL> Idle
loop interface<!-- lm: 0x2 0 -->
</UL><B> INT 2Fh</B><!-- lm: 0x2 22 -->
<UL> Print
spool interface.<!-- lm: 0x2 0 -->
</UL>
<P>
Other DOS compatibility functions are implemented by the 8086 Emulation
component of MVDM, and by virtual device drivers. The functions provided
by these components are explained in <A HREF="112_L1_8086Emulation.html">8086
Emulation</A> and in <A HREF="143_L1_DeviceDrivers.html">Device Drivers</A>,
respectively.

<P><HR>

<A HREF="120_L1_MVDMDOSEmulation.html">[Back: MVDM DOS Emulation]</A> <BR>
<A HREF="122_L2_DOSEmulationImplemen.html">[Next: DOS Emulation Implementation]</A> 
</BODY>
</HTML>
