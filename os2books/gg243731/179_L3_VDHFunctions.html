<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>VDH Functions</TITLE>
</HEAD>
<BODY>
<H1>VDH Functions</H1><!-- entering slot 194 -->
<P>
The following list summarizes most of the VDH functions:<U><I><!-- lm: 0x2 0 -->
<P>
VDH API<!-- lm: 0x2 27 -->
<UL> Description</I></U><!-- lm: 0x2 0 -->
</UL><B>VDHAllocDosMem</B><!-- lm: 0x12 27 -->
<UL> Reserve memory for stub
DOS device driver<!-- lm: 0x2 0 -->
</UL><B>VDHAllocMem</B><!-- lm: 0x12 27 -->
<UL> Allocate small buffers
<!-- lm: 0x2 0 -->
</UL><B>VDHAllocPages</B><!-- lm: 0x12 27 -->
<UL> Allocate linear space
and commit backing storage<!-- lm: 0x2 0 -->
</UL><B>VDHArmReturnHook</B><!-- lm: 0x12 27 -->
<UL> Used to catch return
from a VDHPushFarCall<!-- lm: 0x2 0 -->
</UL><B>VDHArmSTIHook</B><!-- lm: 0x12 27 -->
<UL> Receive control when
current DOS session enables simulated interrupts<!-- lm: 0x2 0 -->
</UL><B>VDHClearVIRR</B><!-- lm: 0x12 27 -->
<UL> Clear interrupt request
flag<!-- lm: 0x2 0 -->
</UL><B>VDHClearSem</B><!-- lm: 0x12 27 -->
<UL> Used to protect global
structures<!-- lm: 0x2 0 -->
</UL><B>VDHCloseVDD</B><!-- lm: 0x12 27 -->
<UL> Terminate communication
between virtual device driver and physical device driver<!-- lm: 0x2 0 -->
</UL><B>VDHCopyMem</B><!-- lm: 0x12 27 -->
<UL> Used by the EMM copy service
and to copy device driver stub to VDM<!-- lm: 0x2 0 -->
</UL><B>VDHExchangeMem</B><!-- lm: 0x12 27 -->
<UL> Used by the EMM exchange
service<!-- lm: 0x2 0 -->
</UL><B>VDHFindFreePages</B><!-- lm: 0x12 27 -->
<UL> Find a region of free
linear space below 1MB + 64KB<!-- lm: 0x2 0 -->
</UL><B>VDHFreeMem</B><!-- lm: 0x12 27 -->
<UL> Deallocate small buffers
<!-- lm: 0x2 0 -->
</UL><B>VDHFreePages</B><!-- lm: 0x12 27 -->
<UL> Deallocate memory objects
<!-- lm: 0x2 0 -->
</UL><B>VDHGetDirtyPageInfo</B><!-- lm: 0x12 27 -->
<UL> Read and clear
dirty-page bits (Dirty bits indicate whether a page has been written to)
<!-- lm: 0x2 0 -->
</UL><B>VDHInstallFaultHook</B><!-- lm: 0x12 27 -->
<UL> Install hook for
page faults<!-- lm: 0x2 0 -->
</UL><B>VDHInstallIntHook</B><!-- lm: 0x12 27 -->
<UL> Used to hook INT
67h (EMS interrupt)<!-- lm: 0x2 0 -->
</UL><B>VDHInstallUserHook</B><!-- lm: 0x12 27 -->
<UL> Register to get
notification about VDM creation and termination<!-- lm: 0x2 0 -->
</UL><B>VDHLockMem</B><!-- lm: 0x12 27 -->
<UL> Verifies that a specified
memory region is available and locks it<!-- lm: 0x2 0 -->
</UL><B>VDHMapPages</B><!-- lm: 0x12 27 -->
<UL> Used to map EMS windows
to EMS objects or to unmap pages<!-- lm: 0x2 0 -->
</UL><B>VDHNotIdle</B><!-- lm: 0x12 27 -->
<UL> Resets VDHPostIdle<!-- lm: 0x2 0 -->
</UL><B>VDHOpenVDD</B><!-- lm: 0x12 27 -->
<UL> Establish communication
between virtual device driver and physical device driver<!-- lm: 0x2 0 -->
</UL><B>VDHOpenVIRQ</B><!-- lm: 0x12 27 -->
<UL> Returns an IRQ handle for
use with the other VPIC services<!-- lm: 0x2 0 -->
</UL><B>VDHPopInt</B><!-- lm: 0x12 27 -->
<UL> Remove ROM return address
from user's CS:IP<!-- lm: 0x2 0 -->
</UL><B>VDHPostIdle</B><!-- lm: 0x12 27 -->
<UL> Put VDM into sleeping state.
<!-- lm: 0x2 0 -->
</UL><B>VDHPushFarCall</B><!-- lm: 0x12 27 -->
<UL> Used by the EMM map
and call service<!-- lm: 0x2 0 -->
</UL><B>VDHPushInt</B><!-- lm: 0x12 27 -->
<UL> Change control to the V86-interrupt
handler<!-- lm: 0x2 0 -->
</UL><B>VDHQueryConfigString</B><!-- lm: 0x12 27 -->
<UL> Used to retrieve
configuration data strings<!-- lm: 0x2 0 -->
</UL><B>VDHQueryFreePages</B><!-- lm: 0x12 27 -->
<UL> Determine amount
of free virtual memory<!-- lm: 0x2 0 -->
</UL><B>VDHQuerySysValues</B><!-- lm: 0x12 27 -->
<UL> Determine VDM conventional
memory size<!-- lm: 0x2 0 -->
</UL><B>VDHReallocPage</B><!-- lm: 0x12 27 -->
<UL> Change previous page
allocation<!-- lm: 0x2 0 -->
</UL><B>VDHRequestSem</B><!-- lm: 0x12 27 -->
<UL> Used to protect global
data<!-- lm: 0x2 0 -->
</UL><B>VDHRequestVDD</B><!-- lm: 0x12 27 -->
<UL> Requests the operation
of a VDD<!-- lm: 0x2 0 -->
</UL><B>VDHReservePage</B><!-- lm: 0x12 27 -->
<UL> Reserve region of linear
space below 1MB + 64KB<!-- lm: 0x2 0 -->
</UL><B>VDHSetDOSDevic</B><!-- lm: 0x12 27 -->
<UL> Register DOS device
driver<!-- lm: 0x2 0 -->
</UL><B>VDHSetVIRR</B><!-- lm: 0x12 27 -->
<UL> Set interrupt request flag
<!-- lm: 0x2 0 -->
</UL><B>VDHUnreservePages</B><!-- lm: 0x12 27 -->
<UL> Unreserve region
of linear space below 1MB + 64KB<!-- lm: 0x2 0 -->
</UL><B>VDHWakeIdle</B><!-- lm: 0x12 27 -->
<UL> Awake VDM from sleeping
state<!-- lm: 0x2 0 -->
</UL><B>VDHYield</B><!-- lm: 0x12 27 -->
<UL> Yield the processor to any
other thread of equal or higher priority<!-- lm: 0x2 0 -->
</UL>
<P>
These functions are only valid when issued from within a module executing
at privilege level 0; they cannot be issued by normal protected mode application
processes.

<P><HR>

<A HREF="178_L3_OtherServices.html">[Back: Other Services]</A> <BR>
<A HREF="180_L2_VDMTermination.html">[Next: VDM Termination]</A> 
</BODY>
</HTML>
