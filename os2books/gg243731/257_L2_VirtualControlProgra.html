<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Virtual Control Program Interface</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Virtual Control Program Interface</H1><!-- entering slot 294 -->
<P>
The forerunner to DPMI was the<B> Virtual Control Program Interface</B> (<B>VCPI</B>),
developed by Phar Lap Software** and Quarterdeck Office Systems**.  VCPI
allowed 80386-based protected mode DOS extenders to coexist with 80386-specific
memory managers and expanded memory (EMS) emulators, such as QEMM-386 by
Quarterdeck.  Most current 80386-specific software products support, or
are capable of using, the VCPI interface.
<P>
In VCPI, the DOS extender acts as a<I> client</I> and the EMS emulator acts
as a<I> server.</I>  The client invokes the VCPI server to:<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Switch between real mode and protected mode<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Allocate memory<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Program the interrupt controller(s)<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Inspect or set the 80386 debug registers.<!-- lm: 0x2 0 -->
<BR>

<P>
If a DOS extender is loaded and a VCPI server is not present, the DOS extender
may assume total control of the system and perform hardware-dependent manipulations
directly. This can lead to system and data integrity problems.
<P>
<B>Note:  </B> Do not confuse VCPI (Virtual Control Program Interface) with
VPIC (Virtual Programmable Interrupt Controller).<!-- lm: 0x2 0 -->
<P>

<P>
While VCPI performs well for that which it was intended, it does not provide
a platform for multitasking DOS extender applications.  The deficiency lies
in VCPI allowing client programs to run in Ring 0, the highest privilege
level possible under the 80386 processor.
<P>
What was required was an interface capable of managing and controlling device
initialization and providing centralized virtual memory management. Most
important the interface had to shield one client from another.

<P><HR>

<A HREF="256_L2_DPMIIntroduction.html">[Back: DPMI Introduction]</A> <BR>
<A HREF="258_L2_TheDPMISpecification.html">[Next: The DPMI Specification]</A> 
</BODY>
</HTML>
