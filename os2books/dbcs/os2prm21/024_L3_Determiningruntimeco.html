<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Determining runtime code page and country code</TITLE>
</HEAD>
<BODY>
<H1>Determining runtime code page and country code</H1><!-- entering slot 27 -->
<P>
Selecting MRI of the appropriate language is one of the important points
of DBCS-enabling. In order to determine in which language MRI should be
used, you need to find the runtime code page and country code.
<PRE>┌──────────────────────────────────────────────────────────────────────┐
│DosQueryCp is to find the runtime code page. DosQueryCtryInfo (changed│
│from DosGetCtryInfo) and PrfQueryProfileInt are to find the runtime   │
│country code.                                                         │
└──────────────────────────────────────────────────────────────────────┘
</PRE>

<P>
<B>DosQueryCp</B> (changed from DosGetCp) is used for finding the runtime
code page.<B> PrfQueryProfileInt</B> is used for a PM program to find the
runtime country code. You can also use<B> DosQueryCtryInfo</B>  (changed
from DosGetCtryInfo) for obtaining the county code in a non-PM application.

<P>
The following shows the syntax for the APIs.<!-- lm: 0x2 5 -->
<UL>
<P>
<LI><LI><LI><LI><LI><LI><LI><LI><LI><LI> Function Syntax
<PRE>APIRET DosQueryCp ( ULONG ulLength, PULONG pCodePageList, PULONG pDataLength );

APIRET DosQueryCtryInfo ( ULONG ulLength, PCOUNTRYCODE pCountry, PCOUNTRYINFO pMemBuff,
                          PULONG pDataLength );

LONG PrfQueryProfileInt ( HINI hini, psz pszApp, psz pszKey, LONG lDefault );
</PRE>

<P>
---------- End of  Function Syntax<!-- lm: 0x2 1 -->
</UL> In general, a
code page or a country code is used to select a proper MRI for the runtime
environment, and to perform character data conversion when the data is exchanged
among processes or systems. See -- Reference NLSFUNC not found -- for a
programming example of the APIs.  Also for a programming example of the
APIs.  Also refer to <A HREF="038_L3_Determininganational.html">Determining
a national language for MRI</A> for the runtime MRI switching and refer
to <A HREF="045_L2_ExchangingdatawithHo.html">Exchanging data with Host
software</A> for the code conversion.<!-- lm: 0x2 5 -->
<UL>
<P>
<LI><LI><LI><LI><LI><LI><LI><LI><LI><LI> Hints and Tips
<P>
Read "OS/2 Technical Library Programming Guide Volume 1, chapter 16 National
Language Support" right now if you haven't read it.  It tells you the basic
NLS guidance on OS/2 PM programming.
<P>
---------- End of  Hints and Tips<!-- lm: 0x2 1 -->

<P><HR>

<A HREF="023_L3_DeterminingDBCSEnvir.html">[Back: Determining DBCS Environment Vector]</A> <BR>
<A HREF="025_L2_PreparingforDBCSinpu.html">[Next: Preparing for DBCS input]</A> 
</BODY>
</HTML>
