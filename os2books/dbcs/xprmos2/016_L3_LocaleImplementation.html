<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Locale Implementation of IBM Visual Age C++ for OS/2</TITLE>
</HEAD>
<BODY>
<H1>Locale Implementation of IBM Visual Age C++ for OS/2</H1><!-- entering slot 17 -->
<PRE>┌──────────────────────────────────────────────────────────────────────┐
│IBM Visual Age C++ for OS/2 provides locale databases and a switching │
│mechanism as well as programming interfaces.                          │
└──────────────────────────────────────────────────────────────────────┘
</PRE>

<P>
It would be an ideal implementation of the locale if IBM OS/2 Warp provides
the locale files and the mechanism.  Otherwise, a software provider needs
to ship locale databases with the product.  Unfortunately, the current version
of IBM OS/2 Warp does not support XPG4.  Instead, the IBM Visual Age C++
for OS/2 provides the following internationalization facilities:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->externally stored cultural data -<B> locale database
</B><!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->a set of programming tools to create a database.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->a set of programming interfaces to access the databases.
<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->a set of programming methods to write programs that
modify their behavior according to the user's cultural environment.<!-- lm: 0x2 1 -->
</UL>
<P>
The locale of the IBM Visual Age C++ for OS/2 has the following naming convention:

<PRE>    &lt;language&gt;_&lt;territory&gt;.&lt;codeset&gt;</PRE>

<P>
where -<!-- lm: 0x2 1 -->
<P>
language:<!-- lm: 0x2 11 -->
<UL> two-letter abbreviation for the name of
the language.  The abbreviations come from ISO 639 standard.  e.g.<I>ko
</I>stands for Korean.<!-- lm: 0x2 1 -->
</UL>territory:<!-- lm: 0x2 11 -->
<UL> two-letter abbreviation for the
territory name.  The abbreviations come from ISO 3166 standard.  e.g.<I>kr
</I>stands for Korea.<!-- lm: 0x2 1 -->
</UL>codeset<!-- lm: 0x2 11 -->
<UL> the name which identifies a specific
code set.  The codeset part is optional.  The default is IBM-nnn, where
nnn is the current code page.<!-- lm: 0x2 1 -->
</UL>
<PRE>┌──────────────────────────────────────────────────────────────────────┐│The user default locale can be set via environment variables.         │
└──────────────────────────────────────────────────────────────────────┘
</PRE>

<P>
The<B><I> LANG</B></I> environment variable specifies the locale name for
all the locale categories in the absence of the LC_ALL and other LC_* (LC_COLLATE,
LC_CTYPE, LC_MESSAGES, LC_MONETARY, LC_NUMERIC and LC_TIME) environment
variables. The LC_ALL environment variable also specifies the locale name
for all categories. The environment variables has precedence over any of
the other environment variables starting with LC_. Other LC_* environment
variables specify the locale name for the respective locale category.
<P>
The following is an example of setting the environment variables.
<PRE>    SET LANG=en_us
    SET LC_TIME=de_de
</PRE>
All locale categories are set to en_us (English-US) except for LC_TIME,
which is set to de_de (Germany-German).
<PRE>┌──────────────────────────────────────────────────────────────────────┐
│The <I>LOCPATH</I>environment variable determines directories where the      │
│locale files exist.                                                   │
└──────────────────────────────────────────────────────────────────────┘
</PRE>

<P>
The file name of the locale database is determined by the code set name.
At run time, IBM Visual Age C++ for OS/2 searches the locale file in the
current directory. If it doesn't exist, it searches the file depending on
the LOCPATH environment variable, environment variables which specify the
user default locale such as LANG, and the locale name. For instance, if
the current code page is 949, LANG environment variable is set to ko_kr,
and LOCPATH is set to x:\ibmcpp\locale, it searches x:\ibmcpp\locale\ko_kr\ibm-949.LCL
file as the locale database.
<P>
This primer does not intend to describe the detailed mechanism and utilities
of locale.  For the further details of the locale definition and implementation,
refer to the following books:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 --><I>IBM Visual Age C++ for OS/2 Programming Guide (S25H-6958)
</I>Part 3, "Making Your Program International"<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>X/Open CAE Specification System Interface Definitions,
Issue 4</I>  Chapter 5, "Locale"<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="015_L3_WhatIsLocale.html">[Back: What Is Locale?]</A> <BR>
<A HREF="017_L3_WhatDoesanApplicatio.html">[Next: What Does an Application Have to Do?]</A> 
</BODY>
</HTML>
