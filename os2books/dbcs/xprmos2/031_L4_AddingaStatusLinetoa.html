<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Adding a Status Line to a Window</TITLE>
</HEAD>
<BODY>
<H1>Adding a Status Line to a Window</H1><!-- entering slot 33 -->
<PRE>┌──────────────────────────────────────────────────────────────────────┐
│Add an <B>FCF_DBE_APPSTAT</B> flag to an application window to create a      │
│DBCS-unique status bar for inputting DBCS and to show a keyboard shift│
│status to users.                                                      │
└──────────────────────────────────────────────────────────────────────┘
</PRE>

<P>
On many operating systems supporting DBCS languages, user inputs DBCS via
IME (Input Method Editor).  For example, a Japanese user inputs phonetic
sound of Kanji with alphabet keys and converts it to Kanji characters. To
show the intermediate result of the conversion, OS/2 needs to create a special
information area.
<P>
<B>FCF_DBE_APPSTAT</B> is a PM frame creation flag to add a DBCS-unique
status line.  Because DBCS OS/2 has a variety of keyboard statuses, every
window asking a user to enter characters from a keyboard should have this
frame control so that the user does not get lost with the keyboard-shift
status.
<P>
<B>Note: </B><!-- lm: 0x2 2 -->
<UL>
<P>
 <LI><LI><!-- lm: 0x2 6 --><B><LI>define INCL_NLS</B> is required before
including<B> os.h</B> file.<!-- lm: 0x2 2 -->
<P>
 <LI><LI><!-- lm: 0x2 6 -->On SBCS OS/2, FCF_DBE_APPSTAT is ignored and
does not cause any trouble.<!-- lm: 0x2 2 -->
<P>
 <LI><LI><!-- lm: 0x2 6 -->The flag is applicable to dialog windows as well.
<!-- lm: 0x2 2 -->
<P>
 <LI><LI><!-- lm: 0x2 6 -->This flag is not related to the actual change
of the keyboard status. That is, even if the flag is not set, the keyboard
status could be changed and the user easily gets lost.<!-- lm: 0x2 1 -->
</UL>
<PRE>┌──────────────────────────────────────────────────────────────────────┐│The area showing the intermediate results can be located either       │
│<I>on-the-spot</I> or <I>fixed-position</I>                                         │
└──────────────────────────────────────────────────────────────────────┘
</PRE>
If the area is created at the current cursor position, this is called an
<B>on-the-spot conversion</B>.  If the area is created next to the keyboard
status area, which is located at the bottom of a client window, it is called
a<B> fixed-position conversion</B>. The on-the-spot conversion is preferred
to the fixed-line conversion, because the user does not need to move his/her
eyes to the bottom of a client window.
<P>
On-The-Spot conversion (Intermediate result) shows how the on-the-spot conversion
is performed in a PM window.  A user inputs a word using its pronunciation
into a small window opened at the current cursor position, window whose
back ground color is black.  An intermediate result of Kana-to-Kanji conversion
is displayed at the small window each time the user presses the conversion
key.
<BR>
On-The-Spot conversion (Intermediate result)
<BR>
<!-- Unable to decode bitmap format --><IMG SRC="031_L4_AddingaStatusLinetoa_1.gif" WIDTH=434 HEIGHT=241 ALIGN=center>
<P>
Fixed-Position conversion (Intermediate result) shows the fixed-position
conversion.  Notice the intermediate result is shown at the bottom of the
window, which we called the status line.
<BR>
Fixed-Position conversion (Intermediate result)
<BR>
<!-- Unable to decode bitmap format --><IMG SRC="031_L4_AddingaStatusLinetoa_2.gif" WIDTH=434 HEIGHT=241 ALIGN=center>
<P>
In either case, DBCS characters are put into the application window after
the user pushes the enter key (Conversion result).
<BR>
Conversion result
<BR>
<!-- Unable to decode bitmap format --><IMG SRC="031_L4_AddingaStatusLinetoa_3.gif" WIDTH=434 HEIGHT=241 ALIGN=center>

<P><HR>

<A HREF="030_L3_PreparingDBCSInput.html">[Back: Preparing DBCS Input]</A> <BR>
<A HREF="032_L4_AllowingaUsertoPerfo.html">[Next: Allowing a User to Perform On-the-spot Conversion]</A> 
</BODY>
</HTML>
