<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>What Does an Application Have to Do?</TITLE>
</HEAD>
<BODY>
<H1>What Does an Application Have to Do?</H1><!-- entering slot 18 -->
<PRE>┌──────────────────────────────────────────────────────────────────────┐
│Call the setlocale() function in the beginning of your program.       │
└──────────────────────────────────────────────────────────────────────┘
</PRE>

<P>
So, what do we have to do to get<I> locale</I> working?  It's quite simple
- call the<B> setlocale()</B> function at the beginning of the program.

<BR>
Setting the program locale (XPRMMAIN.C)
<BR>

<PRE>
 ...
#include &lt;locale.h&gt;              /* header file to use setlocale() */

void main()
{
   if( setlocale( LC_ALL,"" ) == NULL )
   {
       /* show warning message saying the locale is not valid */
       setlocale( LC_ALL, "C" );              /* use C locale */
   }
    ...
}
</PRE>

<P>
<B>setlocale()</B> sets a<I> category</I> specified by the first argument
to the<I> locale</I> specified by the second argument. It returns a string
that specifies the locale for the<I> category</I>. Specifying a null string
("") for<I> locale</I> makes the call to set the category to the default
user locale which is specified by the environment variable.
<P>
If no user locale is set, the function uses "C", which is the default locale
for a C compiler.  If the<I> category</I> is not valid, or specified locale
is not valid (i.e. the corresponding locale database is not found), the
function returns NULL and does not alter the process locale (it means "C"
locale is applied).
<P>
<B>To hard-code any locale name in the argument means to force a specific
locale to end users.  Such a rigid programming should be avoided unless
the application has a specific language or cultural dependency.</B>

<P><HR>

<A HREF="016_L3_LocaleImplementation.html">[Back: Locale Implementation of IBM Visual Age C++ for OS/2]</A> <BR>
<A HREF="018_L3_TheExceptionLC_MONET.html">[Next: The Exception - LC_MONETARY]</A> 
</BODY>
</HTML>
