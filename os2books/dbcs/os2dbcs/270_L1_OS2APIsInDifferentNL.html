<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>OS/2 APIs In Different NLVs</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>OS/2 APIs In Different NLVs</H1><!-- entering slot 277 -->
<P>
This appendix lists the differences in OS/2 APIs among DBCS NLVs.<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->API's that have code-page parameter(s)
<P>
Supported code pages are different.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><B>KbdCharIn</B> and<B> KbdPeek</B> - CP<!-- lm: 0x2 8 -->
<UL>
<P>
<LI><!-- lm: 0x2 11 -->ASCII Character Code (in the character data structure)

<P>
When the shift report bit is on,<B> asciicharcode</B> byte conveys NLS shift
down information as follows:<B><!-- lm: 0x2 16 -->
<UL>
<P>
Bit<!-- lm: 0x2 26 -->
<UL> Description</B><!-- lm: 0x2 11 -->
</UL>7<!-- lm: 0x2 26 -->
<UL> Alphanumeric key down<!-- lm: 0x2 11 -->
</UL>6<!-- lm: 0x2 26 -->
<UL> Katakana key down (Japanese)<!-- lm: 0x2 11 -->
</UL><!-- lm: 0x2 26 -->
<UL>Jamo key down (Korean)<!-- lm: 0x2 11 -->
</UL><!-- lm: 0x2 26 -->
<UL>Reserved (T-Chinese)<!-- lm: 0x2 11 -->
</UL>5<!-- lm: 0x2 26 -->
<UL> Hiragana key down (Japanese)<!-- lm: 0x2 11 -->
</UL><!-- lm: 0x2 26 -->
<UL>Hangeul key down (Korean)<!-- lm: 0x2 11 -->
</UL><!-- lm: 0x2 26 -->
<UL>TsangJye key down (T-Chinese)<!-- lm: 0x2 11 -->
</UL>4<!-- lm: 0x2 26 -->
<UL> Kanji key down (Japanese)<!-- lm: 0x2 11 -->
</UL><!-- lm: 0x2 26 -->
<UL>Hanja_25 key down (Korean)<!-- lm: 0x2 11 -->
</UL><!-- lm: 0x2 26 -->
<UL>Phonetic key down (T-Chinese)<!-- lm: 0x2 11 -->
</UL>3<!-- lm: 0x2 26 -->
<UL> SBCS key down<!-- lm: 0x2 11 -->
</UL>2<!-- lm: 0x2 26 -->
<UL> Reserved, set to zero.  (Japanese and T-Chinese)
<!-- lm: 0x2 11 -->
</UL><!-- lm: 0x2 26 -->
<UL>Hanja_CSR [This is supported only for full-screen
applications. ] key down (Korean)<!-- lm: 0x2 11 -->
</UL>1-0<!-- lm: 0x2 26 -->
<UL> Reserved, set to zero.<!-- lm: 0x2 11 --><!-- lm: 0x2 8 -->
</UL> -<!-- lm: 0x2 11 -->
<UL>NLS
Shift Status (in the character data structure)
<P>
(Reserved in SBCS OS/2)<B><!-- lm: 0x2 16 -->
<UL>
<P>
Bit<!-- lm: 0x2 26 -->
<UL> Description</B><!-- lm: 0x2 11 -->
</UL>7<!-- lm: 0x2 26 -->
<UL> Kana-To-Kanji Conversion Mode (Japanese)
<!-- lm: 0x2 11 -->
</UL><!-- lm: 0x2 26 -->
<UL>Hanja_25: Hangeul-to-Hanja Conversion Mode
(Korean)<!-- lm: 0x2 11 -->
</UL><!-- lm: 0x2 26 -->
<UL>Reserved (T-Chinese)<!-- lm: 0x2 11 -->
</UL>6<!-- lm: 0x2 26 -->
<UL> Romaji Mode (Japanese)<!-- lm: 0x2 11 -->
</UL><!-- lm: 0x2 26 -->
<UL>Hanja_CSR:  Hangeul-to-Hanja Conversion Mode
(Korean)<!-- lm: 0x2 11 -->
</UL><!-- lm: 0x2 26 -->
<UL>Reserved (T-Chinese)<!-- lm: 0x2 11 -->
</UL>5<!-- lm: 0x2 26 -->
<UL> Reserved<!-- lm: 0x2 11 -->
</UL>4-3<!-- lm: 0x2 26 -->
<UL><!-- lm: 0x2 26 --> 00<!-- lm: 0x2 41 -->
<UL> Shift
Indicator Row always visible<!-- lm: 0x2 26 -->
</UL>01<!-- lm: 0x2 41 -->
<UL> Shift Indicator Row always invisible<!-- lm: 0x2 26 -->
</UL>10<!-- lm: 0x2 41 -->
<UL> Shift Indicator Row visible only when a
shift key is pressed.  And it becomes invisible, depress another key.<!-- lm: 0x2 26 -->
</UL>11<!-- lm: 0x2 41 -->
<UL> Reserved<!-- lm: 0x2 26 --><!-- lm: 0x2 11 -->
</UL>2-1<!-- lm: 0x2 26 -->
<UL><!-- lm: 0x2 26 --> 00<!-- lm: 0x2 41 -->
<UL> Alphanumeric
Mode<!-- lm: 0x2 26 -->
</UL>01<!-- lm: 0x2 41 -->
<UL> Katakana Mode (Japanese)<!-- lm: 0x2 26 -->
</UL><!-- lm: 0x2 41 -->
<UL>Jamo Mode (Korean)<!-- lm: 0x2 26 -->
</UL><!-- lm: 0x2 41 -->
<UL>Phonetic Input Mode (T-Chinese)<!-- lm: 0x2 26 -->
</UL>10<!-- lm: 0x2 41 -->
<UL> Hiragana Mode (Japanese)<!-- lm: 0x2 26 -->
</UL><!-- lm: 0x2 41 -->
<UL>Hangeul Mode (Korean)<!-- lm: 0x2 26 -->
</UL><!-- lm: 0x2 41 -->
<UL>TsangJye Input Mode (T-Chinese)<!-- lm: 0x2 26 -->
</UL>11<!-- lm: 0x2 41 -->
<UL> Reserved<!-- lm: 0x2 26 --><!-- lm: 0x2 11 -->
</UL>0<!-- lm: 0x2 26 -->
<UL> DBCS Mode<!-- lm: 0x2 11 --><!-- lm: 0x2 8 -->
</UL> -<!-- lm: 0x2 11 -->
<UL>Shift
Key Status (in the character data structure)
<P>
<B>shiftkeystat</B> is the same among Japanese, Korean and T-Chinese. (But
bit 11 and 10 are reserved and different from SBCS OS/2. Check bit 3 or
2 instead.)<!-- lm: 0x2 6 --><!-- lm: 0x2 3 -->
</UL> <!-- lm: 0x2 6 -->
<UL><B>KbdGetStatus
</B>and<B> KbdSetStatus</B> [For a Vio-windowed application,<B> KbdSetStatus
</B>is:<!-- lm: 0x2 8 -->
<UL>
<P>
<LI><!-- lm: 0x2 11 -->ignored in SBCS OS/2,<!-- lm: 0x2 8 -->
<P>
<LI><!-- lm: 0x2 11 -->effective but just for the NLS shift status in Japanese
OS/2 1.21,<!-- lm: 0x2 8 -->
<P>
<LI><!-- lm: 0x2 11 -->ignored in Japanese OS/2 1.20, Korean OS/2 1.2 or
T-Chinese OS/2 1.2.<!-- lm: 0x2 6 --> ] - CP<!-- lm: 0x2 8 -->
<P>
<LI><!-- lm: 0x2 11 -->NLS Shift Status (in the keyboard status structure)

<P>
See the above.<!-- lm: 0x2 8 -->
<P>
<LI><!-- lm: 0x2 11 -->Shift Key Status (in the keyboard status structure)

<P>
See the above.<!-- lm: 0x2 6 --><!-- lm: 0x2 3 -->
</UL> <!-- lm: 0x2 6 -->
<UL><B>WinDBCSModeControl
</B>- PM
<P>
This is a DBCS OS/2 unique call and used to query or set the NLS shift status.
The syntax is:
<PRE>WinDBCSModeControl (hab,hwndFrame,type,arg,pparm)</PRE>
<!-- lm: 0x2 6 -->
<P>
hab<!-- lm: 0x2 23 -->
<UL><I> (HAB)</I> Anchor-block handle.<!-- lm: 0x2 6 -->
</UL>hwndFrame<!-- lm: 0x2 23 -->
<UL><I> (HWND)</I> Frame-window handle.
<!-- lm: 0x2 6 -->
</UL>type<!-- lm: 0x2 23 -->
<UL><I> (USHORT)</I> Request type. comact tsize=32
compact.<!-- lm: 0x2 23 --> DBE_MCTL_QUERY<!-- lm: 0x2 38 -->
<UL><!-- lm: 0x2 23 -->
</UL> DBE_MCTL_SET
<!-- lm: 0x2 38 -->
<UL><!-- lm: 0x2 23 --><!-- lm: 0x2 6 -->
</UL>arg<!-- lm: 0x2 23 -->
<UL><I> (USHORT)</I> Argument. comact tsize=32
compact.<!-- lm: 0x2 23 --> DBE_MCTL_INPUTMODEREQUEST<!-- lm: 0x2 38 -->
<UL><!-- lm: 0x2 23 --><!-- lm: 0x2 6 -->
</UL>pparm<!-- lm: 0x2 23 -->
<UL><I> (PUSHORT)</I> NLS shift status. comact
tsize=34 compact break=fit.<!-- lm: 0x2 23 --> DBE_MCTL_ALPHANUMERIC<!-- lm: 0x2 38 -->
<UL><!-- lm: 0x2 23 -->
</UL> DBE_MCTL_SBCSCHAR
<!-- lm: 0x2 38 -->
<UL><!-- lm: 0x2 23 -->
</UL>DBE_MCTL_DBCSCHAR<!-- lm: 0x2 38 -->
<UL><!-- lm: 0x2 23 -->
</UL> DBE_MCTL_KATAKANA
<!-- lm: 0x2 38 -->
<UL>(Japanese)<!-- lm: 0x2 23 -->
</UL> DBE_MCTL_HIRAGANA
<!-- lm: 0x2 38 -->
<UL>(Japanese)<!-- lm: 0x2 23 -->
</UL> DBE_MCTL_ROMAN
<!-- lm: 0x2 38 -->
<UL>(Japanese)<!-- lm: 0x2 23 -->
</UL> DBE_MCTL_NOROMAN
<!-- lm: 0x2 38 -->
<UL>(Japanese)<!-- lm: 0x2 23 -->
</UL> DBE_MCTL_JAMO
<!-- lm: 0x2 38 -->
<UL>(Korean)<!-- lm: 0x2 23 -->
</UL> DBE_MCTL_HANGEUL
<!-- lm: 0x2 38 -->
<UL>(Korean)<!-- lm: 0x2 23 -->
</UL> DBE_MCTL_TSANGJYE
<!-- lm: 0x2 38 -->
<UL>(T-Chinese)<!-- lm: 0x2 23 -->
</UL> DBE_MCTL_PHONETIC
<!-- lm: 0x2 38 -->
<UL>(T-Chinese)<!-- lm: 0x2 23 -->
</UL> DBE_MCTL_INHERIT_PFRAME
<!-- lm: 0x2 38 -->
<UL>See <A HREF="068_L5_MDIMultipleDocumentI.html">MDI
(Multiple-Document Interface)</A>.<!-- lm: 0x2 23 --><!-- lm: 0x2 6 -->
</UL>Return Code<!-- lm: 0x2 23 -->
<UL><I> (BOOL)</I> comact tsize=32 compact
break=fit.<!-- lm: 0x2 23 --> TRUE<!-- lm: 0x2 38 -->
<UL><!-- lm: 0x2 23 -->
</UL> FALSE
<!-- lm: 0x2 38 -->
<UL><!-- lm: 0x2 23 --><!-- lm: 0x2 6 --><!-- lm: 0x2 3 -->
</UL><!-- lm: 0x2 6 -->
<UL><B>WinDBCSIMEControl
</B>- PM
<P>
This is also a DBCS OS/2 unique call and used to query or set the status
(enabled, disabled, on or off) of the DBCS input method.  The syntax is:

<PRE>WinDBCSIMEControl (hab,hwndFrame,type,pIMEMode)
</PRE>
<!-- lm: 0x2 6 -->
<P>
hab<!-- lm: 0x2 23 -->
<UL><I> (HAB)</I> Anchor-block handle.<!-- lm: 0x2 6 -->
</UL>hwndFrame<!-- lm: 0x2 23 -->
<UL><I> (HWND)</I> Frame-window handle.
<!-- lm: 0x2 6 -->
</UL>type<!-- lm: 0x2 23 -->
<UL><I> (USHORT)</I> Request type. comact tsize=32
compact.<!-- lm: 0x2 23 --> DBE_IMCTL_QUERY<!-- lm: 0x2 38 -->
<UL><!-- lm: 0x2 23 -->
</UL> DBE_IMCTL_SET
<!-- lm: 0x2 38 -->
<UL><!-- lm: 0x2 23 --><!-- lm: 0x2 6 -->
</UL>pIMEMode<!-- lm: 0x2 23 -->
<UL><I> (PIMEMODE)</I> Pointer to<B> IMEMode
</B>structure.
<PRE>typedef struct _IMEMODE {        USHORT    lenIMEMode;
        USHORT    fIMEMode;
        USHORT    hIME;
        USHORT    hModIME;
        }  IMEMODE, FAR *PIMEMODE;
</PRE>
comact tsize=14 compact.<!-- lm: 0x2 23 -->
<BR>
lenIMEMode<!-- lm: 0x2 38 -->
<UL> Length of this structure.<!-- lm: 0x2 23 -->
</UL> fIMEMode
<!-- lm: 0x2 38 -->
<UL>comact tsize=4 break=all compact.<!-- lm: 0x2 38 -->
<P>
DBE_IMCTL_IMEENABLE<!-- lm: 0x2 53 -->
<UL><!-- lm: 0x2 38 -->
</UL> DBE_IMCTL_IMEDISABLE
<!-- lm: 0x2 53 -->
<UL><!-- lm: 0x2 38 -->
</UL>DBE_IMCTL_IMEMODE<!-- lm: 0x2 53 -->
<UL> (Japanese,
Korean; ineffective for T-Chinese)<!-- lm: 0x2 38 -->
</UL> DBE_IMCTL_NOTIMEMODE
<!-- lm: 0x2 53 -->
<UL>(Japanese, Korean; ineffective for T-Chinese)<!-- lm: 0x2 38 -->
</UL> DBE_IMCTL_INHERIT_PFRAME
<!-- lm: 0x2 53 -->
<UL><!-- lm: 0x2 38 --><!-- lm: 0x2 23 -->
</UL>hIME
<A HREF="277_L0_.html">(**)</A><!-- lm: 0x2 38 -->
<UL> Handle of the Input
Method Editor (IME) that is associated<!-- entering slot 278 --> with the
frame window. (Ignored in a set request.)<!-- lm: 0x2 23 -->
</UL> hModIMEM
<A HREF="277_L0_.html">(**)</A><!-- lm: 0x2 38 -->
<UL> Module handle of
the IME that is associated with the frame window. (Ignored in a set request.)
<!-- lm: 0x2 23 --><!-- lm: 0x2 6 -->
</UL>Return Code<!-- lm: 0x2 23 -->
<UL><I> (BOOL)</I> comact tsize=32 compact
break=fit.<!-- lm: 0x2 23 --> TRUE<!-- lm: 0x2 38 -->
<UL><!-- lm: 0x2 23 -->
</UL> FALSE
<!-- lm: 0x2 38 -->
<UL><!-- lm: 0x2 23 --><!-- lm: 0x2 6 --><!-- lm: 0x2 3 -->
</UL><!-- lm: 0x2 6 -->
<UL><B>WM_CHAR
</B>- PM
<P>
DBCS OS/2 additionally defines the following virtual key values. comact
tsize=32 compact.<!-- lm: 0x2 6 -->
<P>
VK_DBE_ALPHANUMERIC<!-- lm: 0x2 21 -->
<UL><!-- lm: 0x2 6 -->
</UL> VK_DBE_SBCSCHAR
<!-- lm: 0x2 21 -->
<UL><!-- lm: 0x2 6 -->
</UL>VK_DBE_DBCSCHAR<!-- lm: 0x2 21 -->
<UL><!-- lm: 0x2 6 -->
</UL> VK_DBE_SBCSDBCSCHAR
<!-- lm: 0x2 21 -->
<UL><!-- lm: 0x2 6 -->
</UL>VK_DBE_KATAKANA<!-- lm: 0x2 21 -->
<UL> (Japanese)
<!-- lm: 0x2 6 -->
</UL>VK_DBE_HIRAGANA<!-- lm: 0x2 21 -->
<UL> (Japanese)
<!-- lm: 0x2 6 -->
</UL>VK_DBE_ROMAN<!-- lm: 0x2 21 -->
<UL> (Japanese)
<!-- lm: 0x2 6 -->
</UL>VK_DBE_HANJA<!-- lm: 0x2 21 -->
<UL> (Korean)<!-- lm: 0x2 6 -->
</UL> VK_DBE_HANGEUL
<!-- lm: 0x2 21 -->
<UL>(Korean)<!-- lm: 0x2 6 -->
</UL> VK_DBE_JAMO<!-- lm: 0x2 21 -->
<UL> (Korean)
<!-- lm: 0x2 6 -->
</UL>VK_DBE_TSANGJYE<!-- lm: 0x2 21 -->
<UL> (T-Chinese)
<!-- lm: 0x2 6 -->
</UL>VK_DBE_PHONETIC<!-- lm: 0x2 21 -->
<UL> (T-Chinese)
<!-- lm: 0x2 6 --><!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="269_L3_KeyboardandInputMeth.html">[Back: Keyboard and Input Methods in S-Chinese]</A> <BR>
<A HREF="271_L1_EHLLAPIInDifferentNL.html">[Next: EHLLAPI In Different NLVs]</A> 
</BODY>
</HTML>
