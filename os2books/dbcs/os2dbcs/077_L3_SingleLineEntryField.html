<HTML>
<HEAD>
<TITLE>Single Line Entry Field Control</TITLE>
</HEAD>
<BODY>
<H1>Single Line Entry Field Control</H1><!-- entering slot 82 -->
<P>
All the notification messages and control messages for the single line entry
field control can be used even in the DBCS PM.  For example, you can obtain
the string in an entry field, which may contain DBCS, with the<B> WinQueryWindowText
</B>call or<B> WM_QUERYWINDOWPARAMS</B> message.
<P>
However, you need to give the considerations for mixed string manipulation
explained in <A HREF="043_L1_StringManipulation.html">String Manipulation</A>.
For example, do not specify the offset of the second byte of a DBCS character
in<B> EM_SETSEL</B>; avoid bisection of a DBCS character in truncating of
a mixed string.
<P>
<B>Note: </B> The error handling of the single line entry field control
is different from that of the multi-line entry field control.  See <A HREF="082_L3_MultilineEntryFieldC.html">Multi-line
Entry Field Control</A> for more information.
<P>
The entry field control is enhanced for DBCS.  The following styles are
added to filter user input and<B> ES_MIXED</B> is added to cope with the
code scheme difference between ASCII and EBCDIC mixed strings.  These styles
are also explained in section<I> Entry Field Control Styles</I> of OS/2
Version 2.0<I>  Programming Guide: Volume 2(SC18-2515-00)</I>.<B><!-- lm: 0x2 1 -->
<UL>
<P>
Style<!-- lm: 0x2 16 -->
<UL> Accepted String Type</B><!-- lm: 0x2 1 -->
</UL> ES_SBCS
<!-- lm: 0x12 16 -->
<UL>SBCS string<!-- lm: 0x2 1 -->
</UL> ES_DBCS<!-- lm: 0x12 16 -->
<UL> DBCS
string<!-- lm: 0x2 1 -->
</UL> ES_ANY<!-- lm: 0x12 16 -->
<UL> Mixed string

<P>
This is the default value.<!-- lm: 0x2 1 -->
</UL> ES_MIXED<!-- lm: 0x12 16 -->
<UL> Mixed
string that may subsequently be converted from a PC code page to a host
code page
<P>
The number of bytes allowed to be inputted will be reduced by two bytes
from the text length limit (set by<B> EM_SETTEXTLIMIT</B> or 32 bytes as
its defaults) each time a transition from SBCS to DBCS occurs.  The number
of reduced bytes corresponds to the number of SO/SI control characters,
which would be added by a subsequent ASCII to EBCDIC conversion.  The byte
length of the conversion result will not exceed the original text length
limit.<!-- lm: 0x2 1 -->
</UL>
<P>
Since SBCS OS/2 neglects these styles, your program will work for SBCS environment
as well.
<P>
The following describes how each message is processed by each style.  (As
for the processes common to all the styles, see the manuals of SBCS OS/2.)


<P><HR>

<A HREF="076_L3_DialogBox.html">[Back: Dialog Box]</A> <BR>
<A HREF="078_L4_ES_SBCS.html">[Next: ES_SBCS]</A> 
</BODY>
</HTML>
