<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Code Translation</TITLE>
</HEAD>
<BODY>
<H1>Code Translation</H1><!-- entering slot 156 -->
<P>
Code translation is required in exchanging data between host and PC. Required
considerations are:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->SO/SI considerations
<P>
As described before, each DBCS portion is bracketed by SO (Shift Out) and
SI (Shift In) control codes in order to distinguish DBCS characters from
SBCS characters in mixed strings of host code.  These SO/SI control codes
are one-byte data in the host data stream while there is no SO/SI in PC
data stream.  So, in code translation of SBCS/DBCS mixed strings, the data
length may decrease in down-loading and may increase in up-loading.  See
<A HREF="080_L4_ES_MIXED.html">ES_MIXED</A> for relevant information.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->Perform code conversion on PC side to use system services
such as<B> TrnsDt</B> and<B> WinCpTranslateString</B>.  (See <A HREF="153_L2_TrnsDt.html">TrnsDt
</A>and <A HREF="127_L2_CodeTranslation.html">Code Translation</A>.)  Otherwise,
you have to provide a conversion function by yourself.  It would be easy
for SBCS to develop and maintain the function but not for DBCS since:<!-- lm: 0x2 8 -->
<UL>
<P>
<LI><!-- lm: 0x2 11 -->there are so many DBCS characters,<!-- lm: 0x2 8 -->
<P>
<LI><!-- lm: 0x2 11 -->DBCS is virtually open-ended and DBCS characters
will be<!-- lm: 0x2 6 --><!-- lm: 0x2 1 -->
</UL>
<P>
If you provide a conversion function by yourself, consider the following:
<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->SBCS part
<P>
An SBCS code translation table for US English cannot be shared by the other
country because of differences among each countries character set and code
page.  So, you must prepare your translation table by referring each countries'
host code table and PC code table.
<P>
Your translation table should be customizable since code points for PC code
and host code may not have a one to one correspondence and how to cope with
this depends on the user's application.  (Code translations between the
extended code pages of the same country does not have this problem because
of the common character set.)<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->DBCS part
<P>
The DBCS system allows a customer to define his/her own characters (called
<I>user defined characters</I>, UDC) and assign them to code points in a
certain code range.  Relationship between host UDC and PC UDC depends on
the customer's code point assignments.  So, the code translation table for
UDC should be customizable.<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="149_L2_DataExchangewithHost.html">[Back: Data Exchange with Host]</A> <BR>
<A HREF="151_L3_DataType.html">[Next: Data Type]</A> 
</BODY>
</HTML>
