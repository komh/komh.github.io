<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>ImGetConversionString</TITLE>
</HEAD>
<BODY>
<H1>ImGetConversionString</H1><!-- entering slot 27 -->
<P>
ImGetConversionString
<P>
Applications can get some information about conversion string.<!-- lm: 0x2 6 -->
<UL>
<P>
<B>Format:</B>
<PRE>APIRET APIENTRY ImGetConversionString(HIMI hIMI, ULONG ulIndex, PVOID pBuf, PULONG pulBufLen)
</PRE>
<!-- lm: 0x2 6 -->
<P>
<B>Parameters:</B><!-- lm: 0x2 6 -->
<P>
hIMI(input)<!-- lm: 0x2 31 -->
<UL> - a handle of a IM Instance associated
with a conversion string<!-- lm: 0x2 6 -->
</UL> ulIndex(input)<!-- lm: 0x2 31 -->
<UL> -
index of information to query
<PRE>┌──────────────────────────────┬──────────────────────────────────────────────────┐
│Type                          │Description                                       │
├──────────────────────────────┼──────────────────────────────────────────────────┤
│IMR_CONV_CONVERSIONATTR       │Gets an attribute of  the coversion string.       │
├──────────────────────────────┼──────────────────────────────────────────────────┤
│IMR_CONV_CONVERSIONCLAUSE     │Gets clause informaiton of the conversion string. │
├──────────────────────────────┼──────────────────────────────────────────────────┤
│IMR_CONV_READINGATTR          │Gets an attribute of a reading string of the      │
│                              │conversion string.                                │
├──────────────────────────────┼──────────────────────────────────────────────────┤
│IMR_CONV_READINGCLAUSE        │Gets clause information of a reading string of the│
│                              │conversion string.                                │
├──────────────────────────────┼──────────────────────────────────────────────────┤
│IMR_CONV_READINGSTRING        │Gets a reading string of the conversion string.   │
│                              │Output is a 0-terminated string.                  │
├──────────────────────────────┼──────────────────────────────────────────────────┤
│IMR_CONV_CONVERSIONSTRING     │Gets the conversion string. Output is a           │
│                              │0-terminated string.                              │
├──────────────────────────────┼──────────────────────────────────────────────────┤
│IMR_CONV_CURSORPOS            │Gets a cursor position in the conversion string.  │
│                              │Output is ULONG value.                            │
├──────────────────────────────┼──────────────────────────────────────────────────┤
│IMR_CONV_CURSORATTR           │Gets a cursor attribute in the conversion string. │
│                              │Output is ULONG value.                            │
├──────────────────────────────┼──────────────────────────────────────────────────┤
│IMR_CONV_CHANGESTART          │Gets a starting position of any changes in the    │
│                              │conversion string. Output is ULONG value.         │
└──────────────────────────────┴──────────────────────────────────────────────────┘
</PRE>

<P>
 The attribute of the string
<PRE>┌──────────────────────────────┬──────────────────────────────────────────────────┐
│Attribute                     │Description                                       │
├──────────────────────────────┼──────────────────────────────────────────────────┤
│CP_ATTR_INPUT                 │The characters are now on input, not yet          │
│                              │converted.                                        │
├──────────────────────────────┼──────────────────────────────────────────────────┤
│CP_ATTR_TARGET_CONVERTED      │The characters have been converted and are        │
│                              │selected now.                                     │
├──────────────────────────────┼──────────────────────────────────────────────────┤
│CP_ATTR_CONVERTED             │The characters have been converted.               │
├──────────────────────────────┼──────────────────────────────────────────────────┤
│CP_ATTR_TARGET_NOTCONVERTED   │The characters are selected and not yet converted.│
├──────────────────────────────┼──────────────────────────────────────────────────┤
│CP_ATTR_INPUT_ERROR           │The characters are invalid. IME can't convert     │
│                              │them.                                             │
└──────────────────────────────┴──────────────────────────────────────────────────┘
</PRE>

<P>
 Cursor attributes are,
<PRE>┌──────────────────────────────┬──────────────────────────────────────────────────┐
│Attribute                     │Description                                       │
├──────────────────────────────┼──────────────────────────────────────────────────┤
│CP_CURSORATTR_INSERT          │The double-sized cursor                           │
├──────────────────────────────┼──────────────────────────────────────────────────┤
│CP_CURSORATTR_INVISIBLE       │Cursor is invisible.                              │
└──────────────────────────────┴──────────────────────────────────────────────────┘
</PRE>

<P>
The clause information is an array of ULONG values. The value means offset
from the top of the conversion string (in bytes) for the each clause. And
the last value contains length of the conversion string. The first clause
always starts from off set 0, so the first value of the clause information
must be 0.<!-- lm: 0x2 6 -->
</UL> pBuf(output)<!-- lm: 0x2 31 -->
<UL> -
a buffer to be copied the information into<!-- lm: 0x2 6 -->
</UL> pulBufLen(input/output)
<!-- lm: 0x2 31 -->
<UL>- (input)size, in bytes, of the buffer<!-- lm: 0x2 6 -->
</UL>
   (output)<!-- lm: 0x2 31 -->
<UL> - actual size of data copied to the
buffer. If 0 is input in ulBufLen, this gets size of  buffer to get full
information.<!-- lm: 0x2 6 --><!-- lm: 0x2 6 -->
</UL><B> Return:</B>
<P>
 Zero is successful. Others are errors.<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="021_L3_ImEscape.html">[Back: ImEscape]</A> <BR>
<A HREF="023_L3_ImGetInstance.html">[Next: ImGetInstance]</A> 
</BODY>
</HTML>
