<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>PSD_IRQ_MASK</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>PSD_IRQ_MASK</H1><!-- entering slot 32 --><!-- lm: 0x2 1 -->
<UL>
<P>
<B>PSD_IRQ_MASK keywords</B><!-- lm: 0x11 6 -->
<UL> Optional, Default,
Can't Block
<P>
<!-- lm: 0x2 1 -->
</UL><B>Description</B><!-- lm: 0x11 6 -->
<UL> Mask/Unmask
IRQ levels
<P>
This function allows masking (disabling), or un-masking (enabling) of IRQ
levels. When this function is invoked it should save the state of the interrupt
flag, and disable interrupts before performing the mask operation. It should
then restore the state of the interrupt flag.
<P>
<!-- lm: 0x2 1 -->
</UL><B>Mode</B><!-- lm: 0x11 6 -->
<UL> Called in Kernel,
and Interrupt Mode.
<P>
<!-- lm: 0x2 1 -->
</UL><B>Entry</B><!-- lm: 0x11 6 -->
<UL> Pointer to
PSD_IRQ structure.
<P>
<!-- lm: 0x2 1 -->
</UL><B>Exit</B><!-- lm: 0x11 6 -->
<UL><!-- lm: 0x2 6 -->
<P>
NO_ERROR<!-- lm: 0x2 24 -->
<UL> operation completed successfully.<!-- lm: 0x2 6 -->
</UL>-1<!-- lm: 0x2 24 -->
<UL> operation failed.<!-- lm: 0x2 6 -->
</UL><!-- lm: 0x2 1 -->
</UL><B> Structures
</B><!-- lm: 0x11 6 -->
<UL>
<PRE>typedef struct psd_irq_s{
   ulong_t flags;    (Input)
   ulong_t data;     (Input/Output)
   ulong_t procnum;  (Input)
} PSD_IRQ;
</PRE>
<!-- lm: 0x2 6 -->
<P>
data<!-- lm: 0x2 21 -->
<UL> is the logical IRQ levels to mask, or un-mask.
<!-- lm: 0x2 6 -->
</UL>flags<!-- lm: 0x2 21 -->
<UL> indicate which type
of operation is to be performed.<!-- lm: 0x2 21 -->
<P>
IRQ_MASK<!-- lm: 0x2 43 -->
<UL> mask (disable) IRQ levels<!-- lm: 0x2 21 -->
</UL>IRQ_UNMASK<!-- lm: 0x2 43 -->
<UL> unmask (enable) IRQ levels<!-- lm: 0x2 21 -->
</UL>IRQ_GETMASK<!-- lm: 0x2 43 -->
<UL> retrieves the masks for all IRQ
levels<!-- lm: 0x2 21 -->
</UL>IRQ_NEWMASK<!-- lm: 0x2 43 -->
<UL> indicates that all the IRQ levels
should reflect the state of the specified mask.<!-- lm: 0x2 21 -->
</UL><!-- lm: 0x2 6 -->
</UL> procnum
<!-- lm: 0x2 21 -->
<UL>is the processor number of where the operation should
take place.<!-- lm: 0x2 6 -->
</UL><!-- lm: 0x2 1 -->
</UL><B> Notes</B><!-- lm: 0x11 6 -->
<UL> If
this function is omitted, OS/2 will perform all mask operations for an 8259
Master/Slave based PIC system. The requests will be sent to CPU0 depending
on the state of the INIT_GLOBAL_IRQ_ACCESS flag.<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="028_L3_PSD_PORT_IO.html">[Back: PSD_PORT_IO]</A> <BR>
<A HREF="030_L3_PSD_IRQ_REG.html">[Next: PSD_IRQ_REG]</A> 
</BODY>
</HTML>
