<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>PSD_PORT_IO</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>PSD_PORT_IO</H1><!-- entering slot 31 --><!-- lm: 0x2 1 -->
<UL>
<P>
<B>PSD_PORT_IO keywords</B><!-- lm: 0x11 6 -->
<UL> Optional, Default, Can't
Block
<P>
<!-- lm: 0x2 1 -->
</UL><B>Description</B><!-- lm: 0x11 6 -->
<UL> Perform
local port I/O.
<P>
Some platforms have some non MP specific system ports localized on a per-processor
basis. If a local I/O operation may block before completion, I/O can be
routed to a specific CPU for processing. This should be done, because an
operation which started on one processor is not guaranteed to complete on
that processor if execution is blocked. This function gets invoked as the
result of a device driver calling DevHelp_Port_IO.
<P>
<!-- lm: 0x2 1 -->
</UL><B>Mode</B><!-- lm: 0x11 6 -->
<UL> Called in Kernel,
and Interrupt Mode.
<P>
<!-- lm: 0x2 1 -->
</UL><B>Entry</B><!-- lm: 0x11 6 -->
<UL> Pointer to
a PORT_IO structure.
<P>
<!-- lm: 0x2 1 -->
</UL><B>Exit</B><!-- lm: 0x11 6 -->
<UL><!-- lm: 0x2 6 -->
<P>
NO_ERROR<!-- lm: 0x2 24 -->
<UL> if the I/O was successful.<!-- lm: 0x2 6 -->
</UL>-1<!-- lm: 0x2 24 -->
<UL> if the I/O wasn't successful.<!-- lm: 0x2 6 -->
</UL><!-- lm: 0x2 1 -->
</UL><B> Structures
</B><!-- lm: 0x11 6 -->
<UL>
<PRE>typedef struct port_io_s{
   ulong_t port;   (Input)
   ulong_t data;   (Input/Output)
   ulong_t flags;  (Input)
} PORT_IO;
</PRE>
<!-- lm: 0x2 6 -->
<P>
port<!-- lm: 0x2 21 -->
<UL> indicates which port to read to, or write from.
<!-- lm: 0x2 6 -->
</UL>data<!-- lm: 0x2 21 -->
<UL> contains the data read
from a read request, or the data to write if a write request. If the request
uses less the 4 bytes the least significant portion of the data variable
is used.<!-- lm: 0x2 6 -->
</UL> flags<!-- lm: 0x2 21 -->
<UL> indicate
what operation to perform.<!-- lm: 0x2 21 -->
<P>
IO_READ_BYTE<!-- lm: 0x2 48 -->
<UL> Read a byte from the port<!-- lm: 0x2 21 -->
</UL>IO_READ_WORD<!-- lm: 0x2 48 -->
<UL> Read a word from the port<!-- lm: 0x2 21 -->
</UL>IO_READ_DWORD<!-- lm: 0x2 48 -->
<UL> Read a dword from the port<!-- lm: 0x2 21 -->
</UL>IO_WRITE_BYTE<!-- lm: 0x2 48 -->
<UL> Write a byte to the port<!-- lm: 0x2 21 -->
</UL>IO_WRITE_WORD<!-- lm: 0x2 48 -->
<UL> Write a word to the port<!-- lm: 0x2 21 -->
</UL>IO_WRITE_DWORD<!-- lm: 0x2 48 -->
<UL> Write a dword to the port<!-- lm: 0x2 21 --><!-- lm: 0x2 6 -->
</UL><!-- lm: 0x2 1 -->
</UL><B> Notes
</B><!-- lm: 0x11 6 -->
<UL>If the I/O performed is to a non-local port,
the I/O should be handled as a regular I/O request.
<P>
If device drivers or applications access the local ports directly, instead
of using the documented interfaces problems may occur.<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="027_L3_PSD_END_IPI.html">[Back: PSD_END_IPI]</A> <BR>
<A HREF="029_L3_PSD_IRQ_MASK.html">[Next: PSD_IRQ_MASK]</A> 
</BODY>
</HTML>
