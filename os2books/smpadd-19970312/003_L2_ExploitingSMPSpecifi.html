<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Exploiting SMP-Specific Features</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Exploiting SMP-Specific Features</H1><!-- entering slot 5 -->
<P>
If your program or device driver will be using SMP-specific features of
OS/2, such as the new <A HREF="110_L2_DosListIO.html">DosListIO</A> and
<A HREF="197_L2_DosPerfSysCall.html">DosPerfSysCall</A> functions, you will
need to dual-path your code so that your program can run on versions of
OS/2 that do not support the new functions. It is the intent of IBM to provide
these functions in non-SMP versions of OS/2 in the future.
<P>
The recommended way to determine from your program if you are running on
an version of OS/2 that supports the new <A HREF="110_L2_DosListIO.html">DosListIO
</A>and <A HREF="197_L2_DosPerfSysCall.html">DosPerfSysCall</A><!-- lm: 0x2 1 -->
<UL>
<P>
From a program:<!-- lm: 0x11 21 -->
<UL> Query the exported entry point
for the function using DosQueryProcAddr.<!-- lm: 0x2 1 -->
</UL> From a
device driver:<!-- lm: 0x11 21 -->
<UL> Use the GetDOSVar device helper
specifying first an ordinal value of 18, SMP_ACTIVE.  If SMP is indicated,
ordinal value 17, _cProcessors can be used to determine the number of processors
available.
<P>
In addition, ordinal 19, PSDInfo.psd_flags, returns usual informational
about a PSD.  Refer to PSDInfo in PSD.H for details.<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="002_L2_WhatsNewSinceOS2forS.html">[Back: What's New Since OS/2 for SMP 2.11]</A> <BR>
<A HREF="004_L2_NotationConventions.html">[Next: Notation Conventions]</A> 
</BODY>
</HTML>
