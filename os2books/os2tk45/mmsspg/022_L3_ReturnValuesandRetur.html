<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Return Values and Return Types</TITLE>
</HEAD>
<BODY>
<H1>Return Values and Return Types</H1><!-- entering slot 23 -->
<P>
MCDs should attempt to use the MCIERR return codes wherever possible.  These
return codes are provided in the C header file MEERROR.H. Error codes from
SPI, MMIO or the operating system should be mapped into MCIERR return codes
when it makes sense.  If the driver has unique return codes for certain
conditions, it can use error numbers MCIERR_CUSTOM_DRIVER_BASE through MEBASE-1.
 If custom driver return codes are used, a custom driver error table should
be created.
<P>
MCDs should use the following return types in the high-order word of the
return code when the media message has a return field.<!-- lm: 0x2 1 -->
<UL>
<P>
<B>Return Type</B><!-- lm: 0x2 49 -->
<UL><B> Meaning</B><!-- lm: 0x2 1 -->
</UL> MCI_INTEGER_RETURNED
<!-- lm: 0x2 49 -->
<UL>Convert the given binary integer to its unsigned
ASCII string representation.<!-- lm: 0x2 1 -->
</UL> MCI_COLONIZED2_RETURN
<!-- lm: 0x2 49 -->
<UL>Convert the binary integer to the following form:

<PRE>byte0:byte2
</PRE>
<!-- lm: 0x2 1 -->
</UL>MCI_COLONIZED3_RETURN<!-- lm: 0x2 49 -->
<UL> Convert
the binary integer to the following form:
<PRE>byte0:byte1:byte2
</PRE>
<!-- lm: 0x2 1 -->
</UL>MCI_COLONIZED4_RETURN<!-- lm: 0x2 49 -->
<UL> Convert
the binary integer to the following form:
<PRE>byte0:byte1:byte2:byte4
</PRE>
<!-- lm: 0x2 1 -->
</UL>MCI_TRUE_FALSE_RETURN<!-- lm: 0x2 49 -->
<UL> Convert
the TRUE/FALSE value to the string representation.<!-- lm: 0x2 1 -->
</UL> MCI_ON_OFF_RETURN
<!-- lm: 0x2 49 -->
<UL>Convert the ON/OFF value to the string representation.
<!-- lm: 0x2 1 -->
</UL>MCI_DEVICENAME_RETURN<!-- lm: 0x2 49 -->
<UL> Convert
the device type integer to its device name string.<!-- lm: 0x2 1 -->
</UL> MCI_TIME_FORMAT_RETURN
<!-- lm: 0x2 49 -->
<UL>Convert the time format integer to its appropriate
string.<!-- lm: 0x2 1 -->
</UL> MCI_SPEED_FORMAT_RETURN<!-- lm: 0x2 49 -->
<UL> Convert
the speed format integer to its appropriate string.<!-- lm: 0x2 1 -->
</UL> MCI_MEDIA_TYPE_RETURN
<!-- lm: 0x2 49 -->
<UL>Convert the disc type integer for a videodisc to
"CLV," "CAV," "OTHER".<!-- lm: 0x2 1 -->
</UL> MCI_TRACK_TYPE_RETURN<!-- lm: 0x2 49 -->
<UL> Convert
the track type integer to "AUDIO," "DATA," "OTHER".<!-- lm: 0x2 1 -->
</UL> MCI_CONNECTOR_TYPE_RETURN
<!-- lm: 0x2 49 -->
<UL>Convert the connector type integer to its appropriate
string.<!-- lm: 0x2 1 -->
</UL> MCI_CDXA_CHANNEL_ DESTINATION_RETURN<!-- lm: 0x2 49 -->
<UL> Convert
the CDXA channel destination type integer to its appropriate string.<!-- lm: 0x2 1 -->
</UL> MCI_PREROLL_TYPE_RETURN
<!-- lm: 0x2 49 -->
<UL>Convert the preroll type integer to its appropriate
string.<!-- lm: 0x2 1 -->
</UL> MCI_FORMAT_TAG_RETURN<!-- lm: 0x2 49 -->
<UL> Convert
the format tag type integer to its appropriate string.<!-- lm: 0x2 1 -->
</UL> MCI_SIGNED_INTEGER_RETURN
<!-- lm: 0x2 49 -->
<UL>Convert the given binary integer to its signed ASCII
string representation.<!-- lm: 0x2 1 -->
</UL>
<P>
The return types described in the previous list allow the string parser
to convert binary return values into strings.  This conversion takes place
only when the application calls mciSendString and only if no error occurs
on the call.  For example: "capability cdaudio has video" returns FALSE
in the return string field of mciSendString.  The media driver for the CD
audio MCD puts a zero in the<I> ulReturn</I> field of the MCI_GETDEVCAPS_PARMS
structure and MCI_TRUE_FALSE_RETURN in the high-order word of the return
code.

<P><HR>

<A HREF="021_L3_ErrorReturnCodes.html">[Back: Error Return Codes]</A> <BR>
<A HREF="023_L2_AddingNewCommandMess.html">[Next: Adding New Command Messages]</A> 
</BODY>
</HTML>
