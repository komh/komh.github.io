<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Updating the SPI.INI File</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Updating the SPI.INI File</H1><!-- entering slot 184 -->
<P>
The resource DLL that was built by the makefile must now be used with the
master control file, the file list control file, and the SpiInstall structure
to update the SPI.INI profile.  (See <A HREF="128_L2_MasterControlFile.html">Master
Control File</A> and <A HREF="131_L2_FileListControlFile.html">File List
Control File</A> for information about the master control file and the file
list control file.)  Following are examples of the files needed to update
the SPI.INI file:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->INI change control file<!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 -->CONTROL.SCR entry<!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 -->FILELIST.TLK entry<!-- lm: 0x2 1 -->
</UL>
<P>
These files must be placed on a diskette with the TESTRES.DLL file that
was created.
<P>
The following example shows how to write an INI change control file named
TEST.SCR to install the DLL file (TESTRES.DLL).
<PRE>SpiInstall =    (
    SpiDllName = "$(DEST)TESTRES.DLL"
    )
</PRE>

<P>
The following example shows how to specify the TEST.SCR INI change control
file in the CONTROL.SCR file.
<PRE>package   ="SPI.INI Update"
codepage  =437
filelist  ="TEST.MMI"
groupcount=2
munitcount=1
medianame ="SPI.INI Update Disk 1"
sourcedir = "\\"                  = 0
destindir = "\\MMOS2\\DLL\\"      = 2
destindir = "\\MMOS2\\INSTALL\\"  = 4

ssgroup   =0
ssname    ="Base"
ssversion ="1.0.0"
sssize    =10

ssgroup   =1
ssname    ="SPI.INI Update"
ssversion ="1.0.0"
sssize    =10
ssinich   ="TEST.SCR"
</PRE>

<P>
The following is an example of how to specify the TEST.SCR INI change control
file in the FILELIST.TLK file.
<PRE>/* Total number of entries is 3                     */

     3

/* Disk# Group# Dest#    Path             FileName  */

    0      1     2       0               "TESTRES.DLL"
    0      1     4       0               "TEST.SCR"
    0      0     4       0               "TEST.SCR"
</PRE>


<P><HR>

<A HREF="143_L3_BuildingtheDLLContai.html">[Back: Building the DLL Containing the Resource]</A> <BR>
<A HREF="145_L3_InstallingStreamProt.html">[Next: Installing Stream Protocol]</A> 
</BODY>
</HTML>
