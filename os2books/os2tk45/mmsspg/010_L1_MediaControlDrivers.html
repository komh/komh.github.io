<HTML>
<HEAD>
<TITLE>Media Control Drivers</TITLE>
</HEAD>
<BODY>
<H1>Media Control Drivers</H1><!-- entering slot 10 -->
<P>
This section shows you how to write a media control driver (MCD) by illustrating
the programming interfaces used by streaming and nonstreaming MCDs.  The
following discussion focuses on the MCDs depicted in the Duet Player sample
programs (see the<I> OS/2 Multimedia Application Programming Guide</I> for
details.) The waveform audio MCD uses SPI data streaming services to handle
the creation and management of source and target stream handlers.  However,
the CD audio MCD typically has no data flow associated with it as most CD
audio devices process data internally (internal to the device without any
help from the main CPU).
<P>
Source code is provided for the following media control driver samples located
in the \TOOLKIT\SAMPLES\MM subdirectory:<!-- lm: 0x2 1 -->
<UL>
<P>
Media Control Driver Template (MCDTEMP)<!-- lm: 0x11 11 -->
<UL> Provides
a basic template to write an MCD.  Refer to the ADMCT and CDMCIDRV subdirectories
for specific streaming or MMIO samples.<!-- lm: 0x2 1 -->
</UL> Waveform
Audio Media Control Driver (ADMCT)<!-- lm: 0x11 11 -->
<UL> Provides an
example of how to control a<I> streaming</I> device. <I> Streaming</I> devices
use the services of the Sync/Stream Manager (SSM) of OS/2 multimedia to
control the data stream from a source location to a target location.  For
example, the audio adapter used in Duet Player I is a streaming device which
plays back waveform audio files stored on the user's hard disk.  The PM
application sends a request to the Media Device Manager (MDM) to play the
file.  In turn, the MDM calls the waveform audio MCD, which uses stream
handlers to buffer data from the waveform file on disk (source) to the audio
adapter (target).<!-- lm: 0x2 1 -->
</UL> CD Media Control Driver (CDMCIDRV)
<!-- lm: 0x11 11 -->
<UL>Provides an example of how to control a<I> nonstreaming
</I>device. <I> Nonstreaming</I> devices stream data within the device.
 A device that streams data internally does not need to use buffered I/O
because the source and destination of the data is within the device.  Therefore,
a nonstreaming device does not require the use of the SSM subsystem of OS/2
multimedia.  For example, the CD-ROM device used in Duet Player II is a
nonstreaming device.  When the CD audio MCD receives a PLAY, PAUSE, or STOP
command from the program, it issues the appropriate IOCtls to the CD-ROM
device to perform the function.  The hardware does all the work, relaying
the digital information off the disc, translating it into an audio signal,
and piping it to a port such as a headphone jack.<!-- lm: 0x2 1 -->
</UL>
<P>


<P><HR>

<A HREF="009_L2_StreamHandlers.html">[Back: Stream Handlers]</A> <BR>
<A HREF="011_L2_MediaControlDriverAr.html">[Next: Media Control Driver Architecture]</A> 
</BODY>
</HTML>
