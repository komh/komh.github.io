<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Submitting a Print Job Directly to the Spooler</TITLE>
</HEAD>
<BODY>
<H1>Submitting a Print Job Directly to the Spooler</H1><!-- entering slot 273 -->
<P>
The spooler provides functions that enable applications to submit print
data directly to a spool queue. Normally, these functions are used by printer
drivers to add a print job to a spool queue. However, this is not a recommended
method unless the application is special-purpose.
<P>
The advantage of submitting print data directly to a spool queue is to bypass
the GPI presentation layer. This can be useful, particularly, for sending
print jobs to a network printer that is on a server that does not run the
OS/2 operating system. However, there are certain requirements for direct
spooling:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->Because the data bypasses the printer presentation
driver, it must be in a format the printer can understand. Therefore, the
application must be aware of and send the printer-specific commands.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->If the spooler is not active, the print jobs never
will be printed.<!-- lm: 0x2 1 -->
</UL>
<P>
The following steps are required to create a print job using the spooler
directly:<!-- lm: 0x2 2 -->
<UL>
<P>
 <LI><LI><!-- lm: 0x2 6 -->Use SplQmOpen to open the PM. (Functionally,
this is similar to using DevOpenDC, which is detailed in <A HREF="245_L5_OpeningaQueuedDevice.html">Opening
a Queued Device Context</A>.) You must specify a<I> queue name</I> of PMQOPENDATA
for the logical address element,<B> pszLogAddress</B>. PMQOPENDATA is a
data structure, identical to<A><!-- external link: 1D 71 C4 FC --> DEVOPENSTRUC</A>,
to be used with the SplQmxxx functions.<!-- lm: 0x2 2 -->
<P>
 <LI><LI><!-- lm: 0x2 6 -->Use SplQmStartDoc to signal the start of your
document. (This is same as using DevEscape with DEVESC_STARTDOC as used
in PM printing.)<!-- lm: 0x2 2 -->
<P>
 <LI><LI><!-- lm: 0x2 6 -->Use SplQmWrite to write data to the spool file.
<!-- lm: 0x2 2 -->
<P>
 <LI><LI><!-- lm: 0x2 6 -->Use SplQmEndDoc to signal the end of your document.
(This is the same as DevEscape with DEVESC_ENDDOC as used in PM printing.)
<!-- lm: 0x2 2 -->
<P>
 <LI><LI><!-- lm: 0x2 6 -->Use SplQmClose to close the PM. (Functionally,
this is similar to DevCloseDC.)<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="259_L3_SubmittingaDirectPre.html">[Back: Submitting a Direct Presentation Manager Print Job]</A> <BR>
<A HREF="261_L3_SpoolerManagementand.html">[Next: Spooler Management and Configuration]</A> 
</BODY>
</HTML>
