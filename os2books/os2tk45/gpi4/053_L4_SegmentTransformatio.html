<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Segment Transformations</TITLE>
</HEAD>
<BODY>
<H1>Segment Transformations</H1><!-- entering slot 54 -->
<P>
The segment transformation provides a way of defining the model transformation
drawing attribute at the start of a retained segment. The attribute can
subsequently be updated by the model transform orders within the segment.
A segment transformation can be applied only to a retained segment.
<P>
Segment transformations alter retained-drawing output. Unlike a model transformation,
which can be set and reset within a segment bracket, a segment transformation
must be set outside of a segment bracket.
<P>
An application can determine the values for the current segment transformation
by calling<A><!-- external link: 1D 0A C4 FC --> GpiQuerySegmentTransformMatrix</A>,
which returns the model transformation's scaling, rotation, and translation
values in a one-dimensional array representing elements in the<A><!-- external link: 1D 8B C4 36 --> MATRIXLF
</A>structure.
<P>
To apply a segment transformation, applications use<A><!-- external link: 1D 57 C4 FC --> GpiSetSegmentTransformMatrix</A>.
<A><!-- external link: 1D 57 C4 31 -->GpiSetSegmentTransformMatrix</A> can
be used to apply any sort of transformation to a segment. For example, it
can be used to translate a dynamic segment from one screen position to another,
when movement is requested by the user. The application could perform the
following steps, for example, on receipt of a WM_MOUSEMOVE message:<!-- lm: 0x2 2 -->
<UL>
<P>
 <LI><LI><!-- lm: 0x2 6 -->Use the new mouse position to calculate the required
displacement from the current position.<!-- lm: 0x2 2 -->
<BR>
 <LI><LI><!-- lm: 0x2 6 -->Call<A><!-- external link: 1D 15 C4 30 --> GpiRemoveDynamics
</A>to remove the dynamic segment from its current position.<!-- lm: 0x2 2 -->
<BR>
 <LI><LI><!-- lm: 0x2 6 -->Call<A><!-- external link: 1D 57 C4 31 --> GpiSetSegmentTransformMatrix
</A>to translate the segment coordinates by the required amount.<!-- lm: 0x2 2 -->
<BR>
 <LI><LI><!-- lm: 0x2 6 -->Call<A><!-- external link: 1D 86 C3 2E --> GpiDrawDynamics
</A>to redraw the segment in its new position.<!-- lm: 0x2 1 -->
</UL>
<P>


<P><HR>

<A HREF="052_L4_ModelTransformations.html">[Back: Model Transformations]</A> <BR>
<A HREF="054_L4_InstanceTransformati.html">[Next: Instance Transformations]</A> 
</BODY>
</HTML>
