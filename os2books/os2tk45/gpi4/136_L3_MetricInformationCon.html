<HTML>
<HEAD>
<TITLE>Metric Information Contained in Fonts</TITLE>
</HEAD>
<BODY>
<H1>Metric Information Contained in Fonts</H1><!-- entering slot 141 -->
<P>
This section gives an explanation of how to set the fields of the FOCAMETRICS
structure when developing:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->A bit map or outline font for general use by PM graphics
applications<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->A description of a bit map or outline device font
that is built in to a device or can be downloaded to a device.<!-- lm: 0x2 1 -->
</UL>
<P>
The following structure contains the physical font metrics used when creating
fonts. It is defined in the file \INCLUDE\PMFONT.H.
<PRE>typedef struct _FOCAMETRICS {        ULONG   ulIdentity;
        ULONG   ulSize;
        CHAR    szFamilyname[32];
        CHAR    szFacename[32];
        SHORT   usRegistryId;
        SHORT   usCodePage;
        SHORT   yEmHeight;
        SHORT   yXHeight;
        SHORT   yMaxAscender;
        SHORT   yMaxDescender;
        SHORT   yLowerCaseAscent;
        SHORT   yLowerCaseDescent;
        SHORT   yInternalLeading;
        SHORT   yExternalLeading;
        SHORT   xAveCharWidth;
        SHORT   xMaxCharInc;
        SHORT   xEmInc;
        SHORT   yMaxBaselineExt;
        SHORT   sCharSlope;
        SHORT   sInlineDir;
        SHORT   sCharRot;
        USHORT  usWeightClass;
        USHORT  usWidthClass;
        SHORT   xDeviceRes;
        SHORT   yDeviceRes;
        SHORT   usFirstChar;
        SHORT   usLastChar;
        SHORT   usDefaultChar;
        SHORT   usBreakChar;
        SHORT   usNominalPointSize;
        SHORT   usMinimumPointSize;
        SHORT   usMaximumPointSize;
        SHORT   fsTypeFlags;
        SHORT   fsDefn;
        SHORT   fsSelectionFlags;
        SHORT   fsCapabilities;
        SHORT   ySubscriptXSize;
        SHORT   ySubscriptYSize;
        SHORT   ySubscriptXOffset;
        SHORT   ySubscriptYOffset;
        SHORT   ySuperscriptXSize;
        SHORT   ySuperscriptYSize;
        SHORT   ySuperscriptXOffset;
        SHORT   ySuperscriptYOffset;
        SHORT   yUnderscoreSize;
        SHORT   yUnderscorePosition;
        SHORT   yStrikeoutSize;
        SHORT   yStrikeoutPosition;
        SHORT   usKerningPairs;
        SHORT   sFamilyClass;
        PSZ     pszDeviceNameOffset;
} FOCAMETRICS;
</PRE>

<P>
<B>Note: </B> FOCAMETRICS is a parallel structure with<A><!-- external link: 1D 7B C4 38 --> FONTMETRICS
</A>as returned to applications in the<A><!-- external link: 1D E4 C3 45 --> GpiQueryFonts
</A>and<A><!-- external link: 1D E3 C3 44 --> GpiQueryFontMetrics</A> function
calls.<!-- lm: 0x2 1 -->
<P>
The<A><!-- external link: 1D 7B C4 38 --> FONTMETRICS</A> fields are derived
from FOCAMETRICS by the Presentation Manager graphics engine. Most values
are passed though unchanged. The exceptions are:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->The<I> Identity</I> field. This must be 1. This field
is not a part of the<A><!-- external link: 1D 7B C4 38 --> FONTMETRICS</A> structure.
<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->The<I> Size</I> field. This must be set to the size
of the<A><!-- external link: 1D 7A C4 35 --> FOCAMETRICS</A> structure.
This field is not a part of the<A><!-- external link: 1D 7B C4 38 --> FONTMETRICS
</A>structure.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->The<I> Codepage</I> field. Ignore the description
in<A><!-- external link: 1D 7B C4 FC --> FONTMETRICS</A>, and use the following:
<!-- lm: 0x2 11 -->
<UL>
<P>
Place 850 in this field if the font is intended to support any PM supported
code page.<!-- lm: 0x2 11 -->
<P>
Place 65400 in this field if the font has special glyphs, for example if
it is a Symbol font.<!-- lm: 0x2 11 -->
<P>
Place other valid code pages in this field if the font is specific to this
code page.<!-- lm: 0x2 11 -->
<P>
Do not place other values in this field.<!-- lm: 0x2 6 --><!-- lm: 0x2 3 -->
</UL> <!-- lm: 0x2 6 -->
<UL><A><!-- external link: 1D 7B C4 FC -->FONTMETRICS
</A>fields which contain values in world coordinates. The corresponding
field in<A><!-- external link: 1D 7A C4 35 --> FOCAMETRICS</A> should contain
pel values for bit-map fonts, and notional units for outline fonts.<!-- lm: 0x2 1 -->
</UL>
<P>
See<A><!-- external link: 1D 7B C4 38 --> FONTMETRICS</A> for a detailed
explanation of the fields.

<P><HR>

<A HREF="135_L2_FontFileFormat.html">[Back: Font-File Format]</A> <BR>
<A HREF="137_L3_FontCharacterDefinit.html">[Next: Font Character Definitions]</A> 
</BODY>
</HTML>
