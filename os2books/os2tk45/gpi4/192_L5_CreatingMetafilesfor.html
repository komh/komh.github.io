<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Creating Metafiles for Interchange</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Creating Metafiles for Interchange</H1><!-- entering slot 201 -->
<P>
The following restrictions apply if the metafile is to be played when the
current drawing-mode parameter is DM_DRAWANDRETAIN or DM_RETAIN, or if the
metafile is to conform to SAA guidelines:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->Before you issue the first drawing instruction to
a graphics presentation space that has been associated with a metafile device
context, you must establish (or default) the following:<!-- lm: 0x2 8 -->
<UL>
<P>
<LI><!-- lm: 0x2 11 -->The graphics field (use<A><!-- external link: 1D 3E C4 FC --> GpiSetGraphicsField</A>)
<!-- lm: 0x2 8 -->
<P>
<LI><!-- lm: 0x2 11 -->The color table (use<A><!-- external link: 1D 74 C3 FC --> GpiCreateLogColorTable</A>)
<!-- lm: 0x2 8 -->
<P>
<LI><!-- lm: 0x2 11 -->The code page for the default character set (use
<A><!-- external link: 1D 32 C4 FC -->GpiSetCp</A>)<!-- lm: 0x2 8 -->
<P>
<LI><!-- lm: 0x2 11 -->The default viewing transformation (use<A><!-- external link: 1D 36 C4 FC --> GpiSetDefaultViewMatrix</A>)
<!-- lm: 0x2 8 -->
<P>
<LI><!-- lm: 0x2 11 -->The settings of the drawing controls (use<A><!-- external link: 1D 39 C4 FC --> GpiSetDrawControl</A>;
DCTL_DISPLAY must be set on)<!-- lm: 0x2 8 -->
<P>
<LI><!-- lm: 0x2 11 -->The default values of attributes (use<A><!-- external link: 1D 35 C4 FC --> GpiSetDefAttrs</A>)
<!-- lm: 0x2 8 -->
<P>
<LI><!-- lm: 0x2 11 -->The default viewing limits (use<A><!-- external link: 1D 38 C4 FC --> GpiSetDefViewingLimits</A>)
<!-- lm: 0x2 8 -->
<P>
<LI><!-- lm: 0x2 11 -->The primitive tag (use<A><!-- external link: 1D 37 C4 FC --> GpiSetDefTag</A>)
<!-- lm: 0x2 8 -->
<P>
<LI><!-- lm: 0x2 11 -->The default arc parameters (use<A><!-- external link: 1D 34 C4 FC --> GpiSetDefArcParams</A>)
<!-- lm: 0x2 6 -->
</UL>You must not specify a graphics field if the metafile
is to conform to SAA guidelines. If a graphics field is specified, you can
play the metafile in DM_RETAIN or DM_DRAWANDRETAIN mode, but the graphics
field must be specified before the first drawing instruction is issued to
the metafile. The effect of the graphics field in the target presentation
space when playing the metafile is controlled by the PMF_LOADTYPE option
of<A><!-- external link: 1D A9 C3 FC --> GpiPlayMetaFile</A>.<!-- lm: 0x2 3 -->
</UL> <!-- lm: 0x2 6 -->
<UL>You
can define logical fonts and identify bit maps to be used as area-fill patterns
at any time. You must not, however, issue<A><!-- external link: 1D 81 C3 46 --> GpiDeleteSetId
</A>against these resources after they have been established. Once assigned,
therefore,<I> lcid</I>s cannot be reused.<!-- lm: 0x2 3 -->
</UL> <!-- lm: 0x2 6 -->
<UL>The
size of the logical-color-table data must not exceed 31KB.<!-- lm: 0x2 3 -->
</UL> <!-- lm: 0x2 6 -->
<UL>You
must not use clipping regions. Therefore, none of the following functions
are supported:<!-- lm: 0x2 8 -->
<UL>
<P>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D 30 C4 FC -->GpiSetClipRegion
</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D 90 C3 FC -->GpiExcludeClipRectangle
</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D 97 C3 FC -->GpiIntersectClipRectangle
</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D A1 C3 FC -->GpiOffsetClipRegion
</A><!-- lm: 0x2 6 -->
</UL><!-- lm: 0x2 3 -->
</UL><!-- lm: 0x2 6 -->
<UL>You
must not reassociate the metafile device context.<!-- lm: 0x2 3 -->
</UL> <!-- lm: 0x2 6 -->
<UL>When
you use a bit map as the source of a<A><!-- external link: 1D 61 C4 59 --> GpiWCBitBlt
</A>operation or as an area-fill pattern, it must not be modified.<!-- lm: 0x2 3 -->
</UL> <!-- lm: 0x2 6 -->
<UL>Only
the following foreground mixes can be used:<!-- lm: 0x2 8 -->
<UL>
<P>
<LI><!-- lm: 0x2 11 -->FM_DEFAULT<!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 -->FM_OR<!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 -->FM_OVERPAINT<!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 -->FM_LEAVEALONE<!-- lm: 0x2 6 -->
</UL><!-- lm: 0x2 3 -->
</UL> <!-- lm: 0x2 6 -->
<UL>Only
the following background mixes can be used:<!-- lm: 0x2 8 -->
<UL>
<P>
<LI><!-- lm: 0x2 11 -->BM_DEFAULT<!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 -->BM_OVERPAINT<!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 -->BM_LEAVEALONE<!-- lm: 0x2 6 -->
</UL><!-- lm: 0x2 3 -->
</UL> <!-- lm: 0x2 6 -->
<UL>The
following functions are not supported:<!-- lm: 0x2 8 -->
<UL>
<P>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D 62 C3 FC -->GpiBitBlt</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D 50 C4 FC -->GpiSetPel</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D 53 C4 FC -->GpiSetPS</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D 17 C4 FC -->GpiResetPS
</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D 8E C3 FC -->GpiErase</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D A6 C3 FC -->GpiPaintRegion
</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 -->DevEscape<!-- lm: 0x2 6 --><!-- lm: 0x2 1 -->
</UL>
<P>


<P><HR>

<A HREF="191_L5_DrawModeRestrictions.html">[Back: Draw-Mode Restrictions]</A> <BR>
<A HREF="193_L5_MicroPresentationSpa.html">[Next: Micro Presentation Space Restrictions]</A> 
</BODY>
</HTML>
