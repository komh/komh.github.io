<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Draw-Mode Restrictions</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Draw-Mode Restrictions</H1><!-- entering slot 200 -->
<P>
The following restrictions apply if the metafile is to be played when the
current drawing mode parameter is DM_DRAW:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->If the DCTL_DISPLAY flag of<A><!-- external link: 1D 39 C4 44 --> GpiSetDrawControl
</A>is OFF when you are sending graphics to a metafile, the graphics will
not be visible when the metafile is played.  Their effects on the current
position and on current attribute settings are recorded.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->Region functions are not recorded in a metafile. The
effects of the following functions, however, are recorded:<!-- lm: 0x2 8 -->
<UL>
<P>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D 30 C4 FC -->GpiSetClipRegion
</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D 97 C3 FC -->GpiIntersectClipRectangle
</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D 90 C3 FC -->GpiExcludeClipRectangle
</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D A1 C3 FC -->GpiOffsetClipRegion
</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D A6 C3 FC -->GpiPaintRegion
</A><!-- lm: 0x2 6 -->
</UL>When the metafile is played into a presentation
space, temporary regions are created. Upon completion of<A><!-- external link: 1D A9 C3 FC --> GpiPlayMetaFile</A>,
these temporary regions are automatically deleted, and the clipping region
that was current before the metafile was played is restored.<!-- lm: 0x2 3 -->
</UL> <!-- lm: 0x2 6 -->
<UL>In
general, escape functions identified by reserved escape codes (that is,
escape codes in the range of 0 through 32767) are recorded in a metafile.
However, the DevEscape functions DEVESC_QUERYESCSUPPORT (escape code 0)
and DEVESC_GETSCALINGFACTOR (escape code 1) are not stored in the metafile.
<!-- lm: 0x2 3 -->
</UL><!-- lm: 0x2 6 -->
<UL>The effect of<A><!-- external link: 1D 8E C3 FC --> GpiErase</A>,
including close-segment processing, is recorded in a metafile.<!-- lm: 0x2 3 -->
</UL> <!-- lm: 0x2 6 -->
<UL>The
following functions can produce unexpected effects if the metafile contents
are displayed on a different device from the one they were created for:
<!-- lm: 0x2 8 -->
<UL>
<P>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D 62 C3 FC -->GpiBitBlt</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D 50 C4 FC -->GpiSetPel</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D 30 C4 FC -->GpiSetClipRegion
</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D A1 C3 FC -->GpiOffsetClipRegion
</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D A6 C3 FC -->GpiPaintRegion
</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D 97 C3 FC -->GpiIntersectClipRectangle
</A><!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 --><A><!-- external link: 1D 90 C3 FC -->GpiExcludeClipRectangle
</A><!-- lm: 0x2 6 -->
</UL>The reason for the unexpected effects is because
the pel resolutions of the devices might differ. Raster operations (for
example,<A><!-- external link: 1D 62 C3 FC --> GpiBitBlt</A>) do not work
on plotters.<!-- lm: 0x2 3 -->
</UL> <!-- lm: 0x2 6 -->
<UL>You can associate
the metafile device context with a different presentation space while creating
the metafile, but the new presentation space must have the same format as
the original.<!-- lm: 0x2 1 -->
</UL>
<P>


<P><HR>

<A HREF="190_L4_MetafileContentRestr.html">[Back: Metafile Content Restrictions]</A> <BR>
<A HREF="192_L5_CreatingMetafilesfor.html">[Next: Creating Metafiles for Interchange]</A> 
</BODY>
</HTML>
