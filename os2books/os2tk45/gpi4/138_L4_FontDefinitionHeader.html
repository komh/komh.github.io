<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Font Definition Header</TITLE>
</HEAD>
<BODY>
<H1>Font Definition Header</H1><!-- entering slot 143 -->
<P>
This structure defines the format or the character definition records that
follow it:
<PRE>typedef struct_FONTDEFINITIONHEADER {
        ULONG        ulIdentity;
        ULONG        ulSize;
        SHORT        fsFontdef;
        SHORT        fsChardef;
        SHORT        usCellSize;
        SHORT        xCellWidth;
        SHORT        yCellHeight;
        SHORT        xCellIncrement;
        SHORT        xCellA;
        SHORT        xCellB;
        SHORT        xCellC;
        SHORT        pCellBaseOffset;
} FONTDEFINITIONHEADER;
typedef FONTDEFINITIONHEADER FAR *PFONTDEFINITIONHEADER;
</PRE>

<P>
Where:<!-- lm: 0x2 1 -->
<UL>
<P>
ulIdentity<!-- lm: 0x11 4 -->
<UL> 4 bytes.
<P>
Must be equal to 2.<!-- lm: 0x2 1 -->
</UL> ulSize<!-- lm: 0x11 4 -->
<UL> 4
bytes.
<P>
Size of this structure in bytes.<!-- lm: 0x2 1 -->
</UL> fsFontdef<!-- lm: 0x11 4 -->
<UL> 2
bytes of flags.
<P>
Indicates which fields are present in the font definition data in the header.

<P>
<B>Type 1</B><!-- lm: 0x2 4 -->
<P>
Bit 0<!-- lm: 0x2 18 -->
<UL> 1 = width defined in header<!-- lm: 0x2 4 -->
</UL>Bit 1<!-- lm: 0x2 18 -->
<UL> 1 = height defined in header<!-- lm: 0x2 4 -->
</UL>Bit 2<!-- lm: 0x2 18 -->
<UL> 1 = char increment same as width, so
that it is defined for the whole font<!-- lm: 0x2 4 -->
</UL>Bit 3<!-- lm: 0x2 18 -->
<UL> 0 = a-space not defined<!-- lm: 0x2 4 -->
</UL>Bit 4<!-- lm: 0x2 18 -->
<UL> 0 = b-space not defined<!-- lm: 0x2 4 -->
</UL>Bit 5<!-- lm: 0x2 18 -->
<UL> 0 = c-space not defined<!-- lm: 0x2 4 -->
</UL>Bit 6<!-- lm: 0x2 18 -->
<UL> 1 = base offset same for all characters.
<!-- lm: 0x2 4 -->
</UL><B>Type 2</B><!-- lm: 0x2 4 -->
<P>
Bit 0<!-- lm: 0x2 18 -->
<UL> 0 = width for each character unique<!-- lm: 0x2 4 -->
</UL>Bit 1<!-- lm: 0x2 18 -->
<UL> 1 = height defined in header<!-- lm: 0x2 4 -->
</UL>Bit 2<!-- lm: 0x2 18 -->
<UL> 0 = char increment same as width, so
that it is unique for each character<!-- lm: 0x2 4 -->
</UL>Bit 3<!-- lm: 0x2 18 -->
<UL> 0 = a-space not defined<!-- lm: 0x2 4 -->
</UL>Bit 4<!-- lm: 0x2 18 -->
<UL> 0 = b-space not defined<!-- lm: 0x2 4 -->
</UL>Bit 5<!-- lm: 0x2 18 -->
<UL> 0 = c-space not defined<!-- lm: 0x2 4 -->
</UL>Bit 6<!-- lm: 0x2 18 -->
<UL> 1 = base offset same for all characters.
<!-- lm: 0x2 4 -->
</UL><B>Type 3</B><!-- lm: 0x2 4 -->
<P>
Bit 0<!-- lm: 0x2 18 -->
<UL> 0 = width for each character unique<!-- lm: 0x2 4 -->
</UL>Bit 1<!-- lm: 0x2 18 -->
<UL> 1 = height defined in header<!-- lm: 0x2 4 -->
</UL>Bit 2<!-- lm: 0x2 18 -->
<UL> 0 = char increment same as width, so
that it is unique<!-- lm: 0x2 4 -->
</UL>Bit 3<!-- lm: 0x2 18 -->
<UL> 0 = a-space not defined<!-- lm: 0x2 4 -->
</UL>Bit 4<!-- lm: 0x2 18 -->
<UL> 0 = b-space not defined<!-- lm: 0x2 4 -->
</UL>Bit 5<!-- lm: 0x2 18 -->
<UL> 0 = c-space not defined<!-- lm: 0x2 4 -->
</UL>Bit 6<!-- lm: 0x2 18 -->
<UL> 1 = base offset same for all characters.
<!-- lm: 0x2 4 -->
</UL><!-- lm: 0x2 1 -->
</UL>FsChardef<!-- lm: 0x11 4 -->
<UL> 2
bytes of flags.
<P>
Indicates which fields are present on a per character basis.
<P>
<B>Type 1</B><!-- lm: 0x2 4 -->
<P>
Bit 0<!-- lm: 0x2 18 -->
<UL> 1 = width defined for each character (performance
op)<!-- lm: 0x2 4 -->
</UL>Bit 1<!-- lm: 0x2 18 -->
<UL> 0 = height is in header<!-- lm: 0x2 4 -->
</UL>Bit 2<!-- lm: 0x2 18 -->
<UL> 0 = char increment is in header<!-- lm: 0x2 4 -->
</UL>Bit 3<!-- lm: 0x2 18 -->
<UL> 0 = a-space not defined<!-- lm: 0x2 4 -->
</UL>Bit 4<!-- lm: 0x2 18 -->
<UL> 0 = b-space not defined<!-- lm: 0x2 4 -->
</UL>Bit 5<!-- lm: 0x2 18 -->
<UL> 0 = c-space not defined<!-- lm: 0x2 4 -->
</UL>Bit 6<!-- lm: 0x2 18 -->
<UL> 0 = base offset defined in header<!-- lm: 0x2 4 -->
</UL>Bit 7<!-- lm: 0x2 18 -->
<UL> 1 = offset to glyph defined.<!-- lm: 0x2 4 -->
</UL><B> Type
2</B><!-- lm: 0x2 4 -->
<P>
Bit 0<!-- lm: 0x2 18 -->
<UL> 1 = width defined for each character<!-- lm: 0x2 4 -->
</UL>Bit 1<!-- lm: 0x2 18 -->
<UL> 0 = height is in header<!-- lm: 0x2 4 -->
</UL>Bit 2<!-- lm: 0x2 18 -->
<UL> 0 = char increment same as width<!-- lm: 0x2 4 -->
</UL>Bit 3<!-- lm: 0x2 18 -->
<UL> 0 = a-space not defined<!-- lm: 0x2 4 -->
</UL>Bit 4<!-- lm: 0x2 18 -->
<UL> 0 = b-space not defined<!-- lm: 0x2 4 -->
</UL>Bit 5<!-- lm: 0x2 18 -->
<UL> 0 = c-space not defined<!-- lm: 0x2 4 -->
</UL>Bit 6<!-- lm: 0x2 18 -->
<UL> 0 = base offset defined in header<!-- lm: 0x2 4 -->
</UL>Bit 7<!-- lm: 0x2 18 -->
<UL> 1 = offset to glyph defined.<!-- lm: 0x2 4 -->
</UL><B> Type
3</B><!-- lm: 0x2 4 -->
<P>
Bit 0<!-- lm: 0x2 18 -->
<UL> 1 = width not defined, use a, b, c<!-- lm: 0x2 4 -->
</UL>Bit 1<!-- lm: 0x2 18 -->
<UL> 0 = height is in header<!-- lm: 0x2 4 -->
</UL>Bit 2<!-- lm: 0x2 18 -->
<UL> 0 = char increment same as width<!-- lm: 0x2 4 -->
</UL>Bit 3<!-- lm: 0x2 18 -->
<UL> 1 = a-space defined<!-- lm: 0x2 4 -->
</UL>Bit 4<!-- lm: 0x2 18 -->
<UL> 1 = b-space defined<!-- lm: 0x2 4 -->
</UL>Bit 5<!-- lm: 0x2 18 -->
<UL> 1 = c-space defined<!-- lm: 0x2 4 -->
</UL>Bit 6<!-- lm: 0x2 18 -->
<UL> 0 = base offset defined in header<!-- lm: 0x2 4 -->
</UL>Bit 7<!-- lm: 0x2 18 -->
<UL> 1 = offset to glyph defined.<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL> usCellSize
<!-- lm: 0x11 4 -->
<UL>2-byte integer.
<P>
Indicates the length in bytes of each character definition record (the per
character data).<!-- lm: 0x2 4 -->
<P>
Type 1<!-- lm: 0x2 18 -->
<UL> 6 bytes<!-- lm: 0x2 4 -->
</UL>Type 2<!-- lm: 0x2 18 -->
<UL> 6 bytes<!-- lm: 0x2 4 -->
</UL>Type 3<!-- lm: 0x2 18 -->
<UL> 10 bytes.<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL> xCellWidth
<!-- lm: 0x11 4 -->
<UL>2-byte integer
<P>
The width of the characters, in pels for image fonts, and relative units
for outline fonts.<!-- lm: 0x2 4 -->
<P>
Type 1<!-- lm: 0x2 18 -->
<UL> Width of the characters<!-- lm: 0x2 4 -->
</UL>Type 2<!-- lm: 0x2 18 -->
<UL> Zero<!-- lm: 0x2 4 -->
</UL>Type 3<!-- lm: 0x2 18 -->
<UL> Zero.<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL> yCellHeight
<!-- lm: 0x11 4 -->
<UL>2-byte integer.
<P>
The height of the characters, in pels for image fonts, and relative units
for outline fonts.<!-- lm: 0x2 4 -->
<P>
Type 1<!-- lm: 0x2 18 -->
<UL> Height of the characters<!-- lm: 0x2 4 -->
</UL>Type 2<!-- lm: 0x2 18 -->
<UL> Height of the characters<!-- lm: 0x2 4 -->
</UL>Type 3<!-- lm: 0x2 18 -->
<UL> Height of the characters.<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL> xCellIncrement
<!-- lm: 0x11 4 -->
<UL>2-byte integer.
<P>
The distance along the character baseline required to step from one character
to the next (when forming a character string).<!-- lm: 0x2 4 -->
<P>
Type 1<!-- lm: 0x2 18 -->
<UL> Width of the characters<!-- lm: 0x2 4 -->
</UL>Type 2<!-- lm: 0x2 18 -->
<UL> Zero<!-- lm: 0x2 4 -->
</UL>Type 3<!-- lm: 0x2 18 -->
<UL> Zero.<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL> xCellA
<!-- lm: 0x11 4 -->
<UL>2-byte signed integer.
<P>
The width of the space before a character in the inline direction (the a-space).
<!-- lm: 0x2 4 -->
<P>
Type 1<!-- lm: 0x2 18 -->
<UL> Zero<!-- lm: 0x2 4 -->
</UL>Type 2<!-- lm: 0x2 18 -->
<UL> Zero<!-- lm: 0x2 4 -->
</UL>Type 3<!-- lm: 0x2 18 -->
<UL> a-space for all characters.<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL> xCellB
<!-- lm: 0x11 4 -->
<UL>2-byte integer.
<P>
The width of a character (inline direction). The b-space.<!-- lm: 0x2 4 -->
<P>
Type 1<!-- lm: 0x2 18 -->
<UL> Zero<!-- lm: 0x2 4 -->
</UL>Type 2<!-- lm: 0x2 18 -->
<UL> Zero<!-- lm: 0x2 4 -->
</UL>Type 3<!-- lm: 0x2 18 -->
<UL> b-space for all characters.<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL> xCellC
<!-- lm: 0x11 4 -->
<UL>2-byte signed integer.
<P>
The width of the space after a character in the inline direction (the c-space).
<!-- lm: 0x2 4 -->
<P>
Type 1<!-- lm: 0x2 18 -->
<UL> Zero<!-- lm: 0x2 4 -->
</UL>Type 2<!-- lm: 0x2 18 -->
<UL> Zero<!-- lm: 0x2 4 -->
</UL>Type 3<!-- lm: 0x2 18 -->
<UL> c-space for all characters.<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL> pCellBaseOffset
<!-- lm: 0x11 4 -->
<UL>2-byte signed integer.
<P>
The position of the top of a character definition relative to the baseline
in the direction perpendicular to the baseline.<!-- lm: 0x2 4 -->
<P>
Type 1<!-- lm: 0x2 18 -->
<UL> Baseline offset for all characters<!-- lm: 0x2 4 -->
</UL>Type 2<!-- lm: 0x2 18 -->
<UL> Baseline offset for all characters<!-- lm: 0x2 4 -->
</UL>Type 3<!-- lm: 0x2 18 -->
<UL> Baseline offset for all characters.
<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL>Character Definition Record<!-- lm: 0x11 4 -->
<UL> xCellSize
bytes per record.
<P>
The following fields may or may not be present, according to the font character
definition fields flags. If a field is present, it is present for<I> each
</I>character and the value applies to that character only.
<P>
There are usLastChar+2 such records for raster fonts. The final one is for
the null character.<!-- lm: 0x2 6 -->
<UL>
<P>
<LI><!-- lm: 0x2 9 -->Character Definition Offset: 4-byte integer.
<P>
The offset into the Font File at which the character definition begins.

<P>
Data for a single character raster or vector should not span two segments;
that is, if a character is too big to fit into a segment it should be put
in the next segment.
<P>
This field should be set to zero if the character being defined is a blank
character.<!-- lm: 0x2 6 -->
<P>
<LI><!-- lm: 0x2 9 -->Character Cell Width: 2-byte integer.
<P>
The width of the character definition in pels.<!-- lm: 0x2 6 -->
<P>
<LI><!-- lm: 0x2 9 -->Character Cell Height: 2-byte integer.
<P>
The height of the character definition in pels.<!-- lm: 0x2 6 -->
<P>
<LI><!-- lm: 0x2 9 -->Character Increment: 2-byte integer.
<P>
The length along the character baseline required to step from this character
to the next (when forming a character string).<!-- lm: 0x2 6 -->
<P>
<LI><!-- lm: 0x2 9 -->Character a-space: 2-byte signed integer.
<P>
The width of the space before the character in the inline direction.<!-- lm: 0x2 6 -->
<P>
<LI><!-- lm: 0x2 9 -->Character b-space: 2-byte integer.
<P>
The width of the character shape (inline direction).<!-- lm: 0x2 6 -->
<P>
<LI><!-- lm: 0x2 9 -->Character c-space: 2-byte signed integer.
<P>
The width of the space after the character in the inline direction.<!-- lm: 0x2 6 -->
<P>
<LI><!-- lm: 0x2 9 -->Character Baseline Offset: 2-byte signed integer.

<P>
The position of the top of a character definition relative to the baseline
in the direction perpendicular to the baseline.<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL>
<P>
<B>Note: </B> Type 1 fonts have offset/width pairs (like type 2); however,
the usCellSize and xCellIncrement are nonzero. In the fsType field of the
font metrics, the proportional-space flag, bit 0, is set.<!-- lm: 0x2 1 -->
<P>


<P><HR>

<A HREF="137_L3_FontCharacterDefinit.html">[Back: Font Character Definitions]</A> <BR>
<A HREF="139_L4_ImageDataFormat.html">[Next: Image Data Format]</A> 
</BODY>
</HTML>
