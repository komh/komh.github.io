<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Copying a Metafile to Disk</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Copying a Metafile to Disk</H1><!-- entering slot 227 -->
<P>
You can copy a metafile to disk using<A><!-- external link: 1D 1A C4 FC --> GpiSaveMetaFile</A>,
and you can load the file back into your application using<A><!-- external link: 1D 9C C3 FC --> GpiLoadMetaFile</A>.
The following figure shows an example of how to copy a metafile to a file
named META.MET, then load the same file back into the application and play
it.
<P>

<PRE>#define INCL_GPIMETAFILES
#include &lt;os2.h&gt;
void fncMETA03(void){
    HMF hmf;
    HAB hab;
    HPS hps;
    LONG alOpt[10];

    GpiSaveMetaFile(hmf, "meta.met");           /* Saves metafile on disk  */

    hmf = GpiLoadMetaFile(hab, "meta.met");     /* Loads metafile          */

    alOpt[PMF_SEGBASE]  = 0;                    /* Reserved                */
    alOpt[PMF_LOADTYPE] = LT_DEFAULT;           /* Default transformations */
    alOpt[PMF_RESOLVE]  = 0;                    /* Reserved                */
    alOpt[PMF_LCIDS]    = LC_DEFAULT;           /* Uses default lcids      */
    alOpt[PMF_RESET]    = RES_DEFAULT;          /* Uses default            */
    alOpt[PMF_SUPPRESS] = SUP_DEFAULT;          /* Uses default            */
    alOpt[PMF_COLORTABLES]     = CTAB_DEFAULT;  /* Uses default            */
    alOpt[PMF_COLORREALIZABLE] = CREA_DEFAULT;  /* Uses default            */

    GpiPlayMetaFile(hps, hmf, 8, alOpt, (PLONG) NULL, 0L, (PSZ) NULL);
} /* fncMETA03 */

</PRE>


<P><HR>

<A HREF="216_L3_DrawingintoaMetafile.html">[Back: Drawing into a Metafile in Retain Mode]</A> <BR>
<A HREF="218_L3_PlayingaMetafile.html">[Next: Playing a Metafile]</A> 
</BODY>
</HTML>
