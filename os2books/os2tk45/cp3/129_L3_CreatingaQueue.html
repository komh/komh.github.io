<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Creating a Queue</TITLE>
</HEAD>
<BODY>
<H1>Creating a Queue</H1><!-- entering slot 135 -->
<P>
A thread creates a queue by using<A><!-- external link: 1D 73 C3 37 --> DosCreateQueue
</A>and specifying a queue name and the queue type as arguments. The queue
name must be unique and have the following form:
<PRE>    \QUEUES\QueName
</PRE>

<P>
The "\QUEUES\" is required, though it need not be uppercase.  It is not
a subdirectory.
<P>
The<I> QueName</I> parameter must conform to the rules for OS/2 file names,
although no actual file is created for the queue.
<P>
The process that creates the queue is known as the<I> server process</I> of
the queue. The other processes that access the queue are known as<I> client
processes</I>.
<P>

<P>
The following code fragment creates a FIFO queue named \queues\sample.que:

<PRE>    #define INCL_DOSQUEUES   /* Queue values */
    #include &lt;os2.h&gt;

    HQUEUE hq;

    DosCreateQueue(&amp;hq, QUE_FIFO |
                   QUE_CONVERT_ADDRESS,
                   "\\queues\\sample.que");

</PRE>

<P>
When the server process creates the queue, it determines whether the ordering
of queue elements is based on arrival (FIFO or LIFO) or priority. If the
ordering is based on priority, then priority values must be assigned whenever
data is added to the queue.
<P>
The server must also specify whether OS/2 is to convert 16-bit addresses
of elements placed in the queue by 16-bit processes to 32-bit addresses.

<P>
After a process has created a queue, any thread in that process can access
the queue with equal authority.

<P><HR>

<A HREF="128_L2_UsingQueues.html">[Back: Using Queues]</A> <BR>
<A HREF="130_L3_AllocatingMemoryforQ.html">[Next: Allocating Memory for Queue Data]</A> 
</BODY>
</HTML>
