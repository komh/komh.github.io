<HTML>
<HEAD>
<TITLE>Writing Messages</TITLE>
</HEAD>
<BODY>
<H1>Writing Messages</H1><!-- entering slot 37 -->
<P>
<A><!-- external link: 1D B7 C3 28 -->DosPutMessage</A> is used to write
the message to the screen or to a file on a disk.
<P>

<P>
The following code fragment writes the message string contained in<I> MessageBuffer
</I>to the file specified by<I> FileHandle</I>. The message string has already
been placed in<I> MessageBuffer</I> using either<A><!-- external link: 1D 94 C3 25 --> DosGetMessage
</A>or<A><!-- external link: 1D 99 C3 FC --> DosInsertMessage</A>.<I> MsgLength
</I>was set to the length of the message string by the same call that put
the message into<I> MessageBuffer</I>.
<PRE>    #define INCL_DOSMISC   /* Miscellaneous values */
    #include &lt;os2.h&gt;
    #include &lt;stdio.h&gt;


    HFILE   hfFileHandle;           /* Handle of output file or device */
    ULONG   ulMsgLength;            /* Length of message buffer        */
    UCHAR   ucMessageBuffer[80];    /* Message buffer                  */
    APIRET  ulrc;                   /* Return code                     */

    ulrc = DosPutMessage(hfFileHandle,
                         ulMsgLength,
                         ucMessageBuffer);

    if (ulrc != 0) {
        printf("DosPutMessage error: return code = %ld",
               ulrc);
        return;
    }

</PRE>

<P>
To write a message to the screen, use the standard output file handle.

<P><HR>

<A HREF="036_L3_TextStringSubstituti.html">[Back: Text String Substitution in Memory]</A> <BR>
<A HREF="038_L3_CodePageInformationA.html">[Next: Code Page Information Associated with Message Files]</A> 
</BODY>
</HTML>
