<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Code Page Information Associated with Message Files</TITLE>
</HEAD>
<BODY>
<H1>Code Page Information Associated with Message Files</H1><!-- entering slot 38 -->
<P>
<A><!-- external link: 1D C7 C3 30 -->DosQueryMessageCP</A> obtains a list
of code page identifiers and language identifiers that are associated with
a specified message file.
<P>
In the following code fragment code page and language identifiers associated
with the message file "D:\MESSAGE\AUTOMSG.MSG" are retrieved.
<PRE>    #define INCL_DOSMISC   /* Miscellaneous values */
    #include &lt;os2.h&gt;
    #include &lt;stdio.h&gt;

    UCHAR    ucBufferArea[20];  /* Buffer for the returned list  */
    ULONG    ulBufferLength;    /* Length of the buffer area     */
    UCHAR    ucFileName[40];    /* Message file path-name string */
    ULONG    ulDataLength;      /* Length of the returned data   */
    APIRET   ulrc;              /* Return code                   */

    strcpy(ucFileName,
           "D:\\MESSAGE\\AUTOMSG.MSG");
           /* Path name of message file */

    ulBufferLength = 20;                           /* Length of buffer area     */

    ulrc = DosQueryMessageCp(ucBufferArea,
                             ulBufferLength,
                             ucFileName,
                             &amp;ulDataLength);

    if (ulrc != 0) {
        printf("DosQueryMessageCp error: return code = %ld",
               ulrc);
        return;
    }

</PRE>

<P>
On successful return, the<I> BufferArea</I> buffer contains a set of information
concerning the code page identifiers and language identifiers that are associated
with the message file.

<P><HR>

<A HREF="037_L3_WritingMessages.html">[Back: Writing Messages]</A> <BR>
<A HREF="039_L1_NationalLanguageSupp.html">[Next: National Language Support]</A> 
</BODY>
</HTML>
