<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Purging a Queue</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Purging a Queue</H1><!-- entering slot 145 -->
<P>
The server process or any of its threads can empty a queue of all its elements
by calling<A><!-- external link: 1D B6 C3 FC --> DosPurgeQueue</A>. This
function is not available to client processes.
<P>

<P>
<B>Warning:</B> This is an unconditional purge of all elements in the queue.

<P>

<P>
The following code fragment shows how the owner of a queue can empty the
queue of all data elements. Assume that the owner of the queue has saved
the queue's handle (obtained in a previous call to<A><!-- external link: 1D 73 C3 FC --> DosCreateQueue</A>)
in<I> QueueHandle</I>.
<PRE>    #define INCL_DOSQUEUES    /* Queue values */
    #include &lt;os2.h&gt;
    #include &lt;stdio.h&gt;

    HQUEUE   hqQueueHandle;     /* Queue handle */
    APIRET   ulrc;              /* Return code  */

    ulrc = DosPurgeQueue(hqQueueHandle);

    if (ulrc != 0) {
        printf("DosPurgeQueue error: return code = %ld",
               ulrc);
        return;
    }

</PRE>


<P><HR>

<A HREF="136_L3_PeekingataQueue.html">[Back: Peeking at a Queue]</A> <BR>
<A HREF="138_L3_ClosingaQueue.html">[Next: Closing a Queue]</A> 
</BODY>
</HTML>
