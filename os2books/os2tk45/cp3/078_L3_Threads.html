<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Threads</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Threads</H1><!-- entering slot 82 -->
<P>
Applications always have at least one thread of execution-thread 1. Using
multiple threads of execution, an application can do several things at the
same time.
<P>
For example, a simple Presentation Manager application consists of a single
process with two threads:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->A user interface thread that listens and responds
to user requests, and that queues work for the second thread<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->A processing thread that handles lengthy processing
<!-- lm: 0x2 1 -->
</UL>
<P>
OS/2 creates the first thread of execution for a process when it starts
the executable file. To create another thread of execution, a thread calls
<A><!-- external link: 1D 74 C3 FC -->DosCreateThread</A>, specifying the
address within the program module where the thread begins asynchronous execution.
Although a thread can execute any part of the application, including a part
being executed by another thread, threads typically are used to execute
separate sections of the application. By using several threads, the system
can distribute the available CPU time and enable an application to carry
out several tasks simultaneously. For example, an application can load a
file and prompt the user for input at the same time.
<P>
Each thread in a process has a unique stack and register context. Threads
shares the resources of the process with the other threads in the process.
For example, threads in the same process have access to the memory spaces
of other threads within the process. However, threads of one process do
not have access to the data spaces of other processes.
<P>
Each thread has a priority, that determines the amount of CPU time the thread
is allocated. Threads inherit the priority of the thread that creates them.
The priority of a thread can be changed by the application; see <A HREF="108_L3_ChangingthePriorityo.html">Changing
the Priority of a Thread</A> for details.
<P>
An application can use<A><!-- external link: 1D 04 C4 39 --> DosSuspendThread
</A>and<A><!-- external link: 1D DE C3 38 --> DosResumeThread</A> to suspend
and resume the execution of a given thread. When an application suspends
a thread, the thread remains suspended until the application calls<A><!-- external link: 1D DE C3 FC --> DosResumeThread</A>.

<P>
When an application has more than one thread, it might be necessary to ensure
that one thread is finished executing before another thread uses a shared
resource, such as a disk file.<A><!-- external link: 1D 0E C4 3A --> DosWaitThread
</A>causes the application to wait until a specific thread has finished.
<A><!-- external link: 1D 0E C4 3A -->DosWaitThread</A> can also be used
to determine the state of a thread; the function can return immediately
with an error value if the identified thread is still running.
<P>
A thread ends when it calls<A><!-- external link: 1D 84 C3 FC --> DosExit</A>.


<P><HR>

<A HREF="077_L2_AboutProgramExecutio.html">[Back: About Program Execution Control-Thread, Processes, and Sessions]</A> <BR>
<A HREF="079_L3_Processes.html">[Next: Processes]</A> 
</BODY>
</HTML>
