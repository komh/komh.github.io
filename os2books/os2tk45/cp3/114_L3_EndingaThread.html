<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Ending a Thread</TITLE>
</HEAD>
<BODY>
<H1>Ending a Thread</H1><!-- entering slot 119 -->
<P>
<A><!-- external link: 1D 9B C3 27 -->DosKillThread</A> ends a thread in
the current process.<A><!-- external link: 1D 9B C3 27 --> DosKillThread
</A>enables a thread in a process to end any other thread in the process.

<P>
<A><!-- external link: 1D 9B C3 27 -->DosKillThread</A> is used to force
a thread within the current process to end without causing the entire process
to be ended.
<PRE>    #define INCL_DOSPROCESS       /* Process and thread values */
    #include &lt;os2.h&gt;

    TID tidThread;    /* ThreadID of the thread to be ended */

    DosCreateThread(&amp;tidThread,
                    ThreadFunction,
                    0,
                    0,
                    4096);
    .
    .
    .
    DosKillThread(tidThread);

</PRE>

<P>
<A><!-- external link: 1D 9B C3 27 -->DosKillThread</A> returns to the requestor
without waiting for the target thread to complete its termination processing.

<P>
It is an invalid operation to use<A><!-- external link: 1D 9B C3 27 --> DosKillThread
</A>to kill the current thread.
<P>
Terminating thread 1 will cause the entire process to end similar to executing
<A><!-- external link: 1D 84 C3 26 -->DosExit</A> on thread 1.<A><!-- external link: 1D 9B C3 27 --> DosKillThread
</A>will not end a thread that is suspended. Instead the suspended thread
will be ended when it resumes execution. For this reason, you should not
kill the main thread of an application if there are any secondary threads
that are suspended.
<P>
If the target thread is executing 16-bit code or was created by a 16-bit
requester, ERROR_BUSY is returned.

<P><HR>

<A HREF="113_L3_EndingtheCurrentThre.html">[Back: Ending the Current Thread]</A> <BR>
<A HREF="115_L2_UsingSessions.html">[Next: Using Sessions]</A> 
</BODY>
</HTML>
