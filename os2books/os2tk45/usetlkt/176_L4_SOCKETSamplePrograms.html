<HTML GROUP=1>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 00 04 01 00 --><TITLE>SOCKET Sample Programs</TITLE>
</HEAD>
<BODY>
<H1>SOCKET Sample Programs</H1><!-- entering slot 179 -->
<P>
SOCKET consists of three client/server samples and SELECTS.C located in
\TOOLKIT\SAMPLES\TCPIPTK\SOCKET.
<P>
SELECTS.C is a simple TCP and UDP server that uses the BSD select() call.
MSGC.C/MSGS.C, TCPC.C/TCPS.C, and UDPC.C/UDPS.C are sample C socket client/server
programs demonstrating network programming with OS/2 sockets.
<P>
The following explains how to build and run the SOCKET samples.<!-- lm: 0x2 2 -->
<UL>
<P>
 <LI><LI><!-- lm: 0x2 6 -->To compile and link the sample programs, type:

<PRE>nmake -f vacpp.mak  (to build using the VisualAge C/C++ compiler)
</PRE>
<!-- lm: 0x2 2 -->
<P>
 <LI><LI><!-- lm: 0x2 6 -->Running udps.exe and udpc.exe:<!-- lm: 0x2 7 -->
<UL>
<P>
 a.<!-- lm: 0x2 11 -->
<UL>To start the udps server, type:
<PRE>start udps
</PRE>

<P>
An additional session is created and the following message is displayed:
<!-- lm: 0x2 16 -->
<UL>
<P>
Port assigned is 1028<!-- lm: 0x2 11 --><!-- lm: 0x2 7 -->
</UL>  b.<!-- lm: 0x2 11 -->
<UL>To
run the udpc client, type:
<PRE>udpc 9.67.60.10 1028
</PRE>

<P>
where:<!-- lm: 0x2 11 -->
<P>
<LI><LI>67.60.10<!-- lm: 0x2 28 -->
<UL> Is the IP address of the machine
where the udps server is running<!-- lm: 0x2 11 -->
</UL> 1028<!-- lm: 0x2 28 -->
<UL> Is
the port assigned by the udps server<!-- lm: 0x2 11 -->
</UL> After running
the udpc client, you will see the following output on the server session:

<PRE>Received message Hello ................
</PRE>
<!-- lm: 0x2 6 --><!-- lm: 0x2 2 -->
</UL> 3.<!-- lm: 0x2 6 -->
<UL>Running
tcps.exe and tcpc.exe<!-- lm: 0x2 7 -->
<UL>
<P>
 a.<!-- lm: 0x2 11 -->
<UL>To start the tcps server, type:
<PRE>start tcps 2000
</PRE>

<P>
where 2000 is the port number assigned to the tcps server.<!-- lm: 0x2 7 -->
</UL>
b.<!-- lm: 0x2 11 -->
<UL>To run the tcpc client, type:
<PRE>tcpc charm 2000
</PRE>

<P>
where:<!-- lm: 0x2 11 -->
<P>
charm<!-- lm: 0x2 26 -->
<UL> Is the hostname of the machine where the tcps
server is running<!-- lm: 0x2 11 -->
</UL> 2000<!-- lm: 0x2 26 -->
<UL> Is
the port assigned to the tcps server<!-- lm: 0x2 11 --><!-- lm: 0x2 6 --><!-- lm: 0x2 2 -->
</UL>
4.<!-- lm: 0x2 6 -->
<UL>Running selects.exe
<P>
The selects server has the same function as the tcps and udps servers.<!-- lm: 0x2 7 -->
<UL>
<P>
 a.<!-- lm: 0x2 11 -->
<UL>To start the selects server, type:
<PRE>start selects 2000
</PRE>

<P>
where 2000 is the port number assigned to the selects server.<!-- lm: 0x2 7 -->
</UL>
b.<!-- lm: 0x2 11 -->
<UL>To run the tcpc client, type:
<PRE>tcpc charm 2000
</PRE>

<P>
where:<!-- lm: 0x2 11 -->
<P>
charm<!-- lm: 0x2 26 -->
<UL> Is the hostname of the machine where the selects
server is running<!-- lm: 0x2 11 -->
</UL> 2000<!-- lm: 0x2 26 -->
<UL> Is
the port assigned to the selects server<!-- lm: 0x2 11 --><!-- lm: 0x2 7 -->
</UL>
c.<!-- lm: 0x2 11 -->
<UL>To run the udpc client, type:
<PRE>udpc 9.67.60.10 2000
</PRE>

<P>
where:<!-- lm: 0x2 11 -->
<P>
<LI><LI>67.60.10<!-- lm: 0x2 28 -->
<UL> Is the IP address of the machine
where the selects server is running<!-- lm: 0x2 11 -->
</UL> 2000<!-- lm: 0x2 28 -->
<UL> Is
the port assigned by the selects server<!-- lm: 0x2 11 --><!-- lm: 0x2 6 -->
</UL> After
running the udpc client, you will see the following output on the server
session:
<PRE>Received message Hello ................
</PRE>
<!-- lm: 0x2 2 -->
</UL> 5.<!-- lm: 0x2 6 -->
<UL>Running msgs.exe and msgc.exe

<P>
msgs.c and msgc.c are the same program as udps.c and udpc.c, except they
are written using recvmsg() and sendmsg() calls.<!-- lm: 0x2 7 -->
<UL>
<P>
 a.<!-- lm: 0x2 11 -->
<UL>To start the msgs server, type:
<PRE>start msgs
</PRE>

<P>
An additional session is created and the following message appears:
<PRE>Port assigned is 1028
</PRE>
<!-- lm: 0x2 7 -->
</UL> b.<!-- lm: 0x2 11 -->
<UL>To run the msgc client,
type:
<PRE>msgc 9.67.60.10 1028
</PRE>

<P>
where:<!-- lm: 0x2 11 -->
<P>
<LI><LI>67.60.10<!-- lm: 0x2 26 -->
<UL> Is the IP address of the machine
where the msgs server is running<!-- lm: 0x2 11 -->
</UL> 1028<!-- lm: 0x2 26 -->
<UL> Is
the port assigned by the msgs server<!-- lm: 0x2 11 --><!-- lm: 0x2 6 --><!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="175_L4_SENDFILESampleProgra.html">[Back: SENDFILE Sample Program]</A> <BR>
<A HREF="177_L4_SYSCTLSampleProgram.html">[Next: SYSCTL Sample Program]</A> 
</BODY>
</HTML>
