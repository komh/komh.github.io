<HTML>
<HEAD>
<TITLE>Setting Up for a System Dump</TITLE>
</HEAD>
<BODY>
<H1>Setting Up for a System Dump</H1><!-- entering slot 104 -->
<P>
You must prepare your system to store system dumps before the dump occurs.
 You add the TRAPDUMP statement described below to the CONFIG.SYS file on
your system.  The TRAPDUMP statement enables your system to store dump data.

<P>
The TRAPDUMP statement controls the system dump facility of OS/2.  It will
enable initiation of a system dump the instant a trap (error) occurs.  The
TRAPDUMP statement tells the system where to store the dump information:
either on formatted diskettes or on your system's disk storage.  Dumping
to diskette is the default. A dump is stored on disk storage if the second
parameter is used shown as<B> X:</B> in the TRAPDUMP statement example below.

<P>
The disk storage device on your system must have a file allocation table
(FAT) partition with the volume label of SADUMP.  TRAPDUMP accesses this
partition when the dump information is stored.  You specify the partition
with second parameter in the TRAPDUMP statement.
<P>
<B>Note: </B> Do not specify a partition that contains vital data.  When
a dump is written to the partition, it overwrites any data that is in the
partition.
<P>
To enable system dumps to be performed you need to add the following statement
to the CONFIG.SYS file on your system:<!-- lm: 0x2 1 -->
<UL>
<P>
TRAPDUMP= ç OFF | ON | R0 Ÿ ç , Ÿ X:<!-- lm: 0x2 1 -->
<P>
OFF<!-- lm: 0x11 11 -->
<UL> Specifies that the stand-alone dump process
will not initiate automatically when an unrecoverable trap occurs.  This
is the default option. It does not prohibit the use of the Ctrl-Alt-Numlock-Numlock
key sequence, Ctrl-Alt-F10-F10 key sequence, or the use of DosForceSystemDump
in your code to force a system dump to be performed.<!-- lm: 0x2 1 -->
</UL> ON
<!-- lm: 0x11 11 -->
<UL>Specifies that the stand-alone dump process will
be automatically initiated whenever an unrecoverable trap occurs.<!-- lm: 0x2 1 -->
</UL> R0
<!-- lm: 0x11 11 -->
<UL>Specifies that only ring zero traps will automatically
initiate the system dump process.<!-- lm: 0x2 1 -->
</UL> X:<!-- lm: 0x11 11 -->
<UL> specifies
the hard-disk FAT partition to which OS2DUMP will write a stand-alone dump.
 The partition letter must have the colon suffix.
<P>
<B>Note: </B><!-- lm: 0x2 12 -->
<UL>
<P>
 <LI><LI><!-- lm: 0x2 16 -->The partition may be specified with either ON
or OFF. When specified with OFF it will allow a stand-alone dump initiated
by Ctrl-Alt-Numlock-Numlock or Ctrl-Alt-F10-F10 to be written to the dump
partition.<!-- lm: 0x2 12 -->
<P>
 <LI><LI><!-- lm: 0x2 16 -->The only removable media you can use for dump
storage is diskettes.<!-- lm: 0x2 12 -->
<P>
 <LI><LI><!-- lm: 0x2 16 -->Only hard disk logical drives and primary partitions
may be specified.<!-- lm: 0x2 12 -->
<P>
 <LI><LI><!-- lm: 0x2 16 -->The system will erase all data on the dump media
(disk partition or diskettes) before writing the dump.  Do not specify a
disk partition or use diskettes that contain vital data.<!-- lm: 0x2 12 -->
<P>
 <LI><LI><!-- lm: 0x2 16 -->When dumping to disk storage, the system is
automatically re-booted on completion of the dump if there is a REIPL=ON
statement in the CONFIG.SYS file.  If the dump was stored on diskettes,
the system will not be re-booted automatically.<!-- lm: 0x2 11 --><!-- lm: 0x2 1 -->
</UL>
<P>
You can add the REIPL statement to CONFIG.SYS to allow the system to re-boot
(re-IPL) following an error.
<P>
The syntax of the statement is as follows:<!-- lm: 0x2 1 -->
<P>
REIPL=ON | OFF
<P>
The statement has the following parameters:<!-- lm: 0x2 1 -->
<P>
ON<!-- lm: 0x11 11 -->
<UL> This specifies the system it to be automatically
re-booted following an error.<!-- lm: 0x2 1 -->
</UL> OFF<!-- lm: 0x11 11 -->
<UL> This
specifies that the system is not to be automatically re-booted following
an error.  The system will remain hung until manually restarted.<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="097_L2_SystemDump.html">[Back: System Dump]</A> <BR>
<A HREF="099_L3_StartingaSystemDump.html">[Next: Starting a System Dump]</A> 
</BODY>
</HTML>
