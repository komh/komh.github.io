<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>LogChangeEventFilter - Example Code</TITLE>
</HEAD>
<BODY>
<H1>LogChangeEventFilter - Example Code</H1><!-- entering slot 198 -->
<P>
The following example changes the event-notification filter for an event
notification to a NULL filter (that is, any Error Log entry that is logged
will cause an event notification to be sent). The sample will also purge
any event notifications that might be pending at the time the LogChangeEventFilter
call is made.
<PRE>  #define INCL_LOGGING
  #include &lt;unidef.h&gt;
  #include &lt;os2.h&gt;
  #include &lt;stdio.h&gt;
  #include &lt;lfdef.h&gt;

  {
  APIRET rc;                                      /* return code */
  ULONG service;
  LCEFREQUEST change_event_filter_packet;
  HLOGNOTIFY log_notify;

  service =  ERROR_LOGGING_SERVICE;

  /* Construct the LogChangeEventFilter parameter packet */
  change_event_filter_packet.packet_size = sizeof(LCEFREQUEST);
  change_event_filter_packet.packet_revision_number = LF_UNI_API;
  change_event_filter_packet.purge_flags = PURGE_EVENT_NOTIFICATION;
  change_event_filter_packet.LogNotify = log_notify;
  change_event_filter_packet.pFilter = NULL;

  rc = LogChangeEventFilter(service,              /* service */
                 &amp;change_event_filter_packet) /* parameter packet*/
  if (rc |= 0)
     {
      printf("LogChangeEventFilter error: return code = %d",rc);
      return;
     }
</PRE>


<P><HR>

<A HREF="185_L3H_LogChangeEventFilter.html">[Back: LogChangeEventFilter - Related Functions]</A> <BR>
<A HREF="187_L3H_LogChangeEventFilter.html">[Next: LogChangeEventFilter - Topics]</A> 
</BODY>
</HTML>
