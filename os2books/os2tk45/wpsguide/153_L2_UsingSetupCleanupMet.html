<HTML>
<HEAD>
<TITLE>Using Setup/Cleanup Methods</TITLE>
</HEAD>
<BODY>
<H1>Using Setup/Cleanup Methods</H1><!-- entering slot 162 -->
<P>
This section describes how the setup and cleanup methods relate to one another
using sample code fragments.
<P>
<B>Note: </B> The sample code fragments in this section are part of a complete
program that provides a new object class, Stack, whose instances implement
standard programming push down stacks. The program is illustrated in <A HREF="160_L2_SampleCodeforSetupCl.html">Sample
Code for Setup/Cleanup Methods</A>.<!-- lm: 0x2 1 -->
<UL>
<P>
The stack is implemented as a linked list of entries with the head of the
list being the top of the stack. The following code fragments shows the
content of the stack elements and the stack instance data:
<PRE>typedef struct _STACKENTRY
{
  PSTACKENTRY pNext;
  BYTE        ReserveZeros[8];
  ULONG       cbEntry;
  BYTE        Entry[1];
} STACKENTRY *PSTACKENTRY;

BOOL        bInitialized;   // Initialization flag
PSTACKENTRY pStackTop;      // Head of stack linked list
HMTX        hmtxStack;      // Stack serialization semaphore

</PRE>


<P><HR>

<A HREF="152_L3_WorkplaceShellSetupS.html">[Back: Workplace Shell Setup Strings]</A> <BR>
<A HREF="154_L3_InitializingtheObjec.html">[Next: Initializing the Object's Instance Data]</A> 
</BODY>
</HTML>
