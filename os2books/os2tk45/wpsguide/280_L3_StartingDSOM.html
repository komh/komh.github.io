<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Starting DSOM</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Starting DSOM</H1><!-- entering slot 301 -->
<P>
The Workplace Shell, when started, will default to the wpdServer class and
load WPDSERV.DLL. If you create a new server class, you can tell the Workplace
Shell to use your server by setting WPDSERVERALIAS to YourServer in the
CONFIG.SYS file and use<I> regimpl</I> to change the server name from wpdServer
to YourServer.
<P>
There are a number of ways to start the DSOM daemon and Workplace Shell
DSOM server. To start both SOMDD and WPDS at the time the OS/2 operating
system is started, set WPDSERVERSTART to ON in the CONFIG.SYS file and reboot.
Both the daemon and the server are hidden to the user when started.
<P>
If during development you require to see the output of SOMDD, then set the
environment variable SOMDD.DISPLAY to ON in the CONFIG.SYS file and reboot.
When using the Workplace Shell DSOM server you should always allow the Workplace
Shell to start the DSOM daemon and never start the daemon from a command
line. In this way, the Workplace Shell is aware of its existence.
<P>
In the case, when a client DSOM application is run and only the DSOM daemon
is active, then the implementation repository, using the implementation
ID passed to it to locate the server definition, starts an executable, WPDSACTV.EXE,
which in-turn starts the Workplace Shell DSOM server. Once the server is
active, then the client program will continue to process as normal.
<P>
The OS/2 operating system supplies a utility called WPDSINIT.EXE which provides
the functions to start, stop and query the current status of the DSOM daemon
and the Workplace Shell DSOM server from the command line:<!-- lm: 0x2 1 -->
<UL>
<P>
<B>Function Name</B><!-- lm: 0x2 21 -->
<UL><B> Description</B><!-- lm: 0x2 1 -->
</UL> WPDSINIT
/S<!-- lm: 0x2 21 -->
<UL> To start both the daemon and the server.<!-- lm: 0x2 1 -->
</UL> WPDSINIT
/K<!-- lm: 0x2 21 -->
<UL> To stop both the server and the daemon.<!-- lm: 0x2 1 -->
</UL> WPDSINIT
/Q<!-- lm: 0x2 21 -->
<UL> To query the current status of both the daemon
and the server.<!-- lm: 0x2 1 -->
</UL>
<P>
The DSOM daemon or the Workplace Shell DSOM server can be manipulated independently
by specifying either<I> somdd</I> or<I> server</I> as the second parameter
to WPDSINIT.
<P>
The last method available for manipulating both the daemon and the server
is programmatically through four new functions:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->WinIsSOMDDReady<!-- lm: 0x2 3 --> <!-- lm: 0x2 6 -->
<UL>WinRestartSOMDD
<!-- lm: 0x2 3 -->
</UL><!-- lm: 0x2 6 -->
<UL>WinIsWPDServerReady<!-- lm: 0x2 3 -->
</UL><!-- lm: 0x2 6 -->
<UL>WinRestartWPDServer<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="279_L2_AboutWorkplaceShellD.html">[Back: About Workplace Shell Distributed SOM]</A> <BR>
<A HREF="281_L3_PerformanceUsingDSOM.html">[Next: Performance Using DSOM]</A> 
</BODY>
</HTML>
