<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>ENDM (End Current Macro Definition)</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>ENDM (End Current Macro Definition)</H1><!-- entering slot 697 -->
<P>
End each <A HREF="699_L3_MACROAssignaBodyofTe.html">MACRO</A>, <A HREF="703_L3_REPEATREPTIterativeM.html">REPEAT/REPT</A>,
<A HREF="696_L3_FORIRPIterativeMacro.html">FOR/IRP</A>, and <A HREF="697_L3_FORCIRPCIterativeMac.html">FORC/IRPC
</A>directive with the<B> ENDM</B> directive.<!-- lm: 0x2 1 -->
<UL>
<P>
<B>Syntax</B><!-- lm: 0x2 11 -->
<UL>
<P>

<PRE><B>ENDM</B>
</PRE>
<!-- lm: 0x2 1 -->
</UL><B>Remarks</B><!-- lm: 0x2 11 -->
<UL>
<P>
If the<B> ENDM</B> directive is not used with the <A HREF="699_L3_MACROAssignaBodyofTe.html">MACRO</A>,
<A HREF="703_L3_REPEATREPTIterativeM.html">REPEAT/REPT</A>, <A HREF="696_L3_FORIRPIterativeMacro.html">FOR/IRP</A>,
and <A HREF="697_L3_FORCIRPCIterativeMac.html">FORC/IRPC</A> directives,
an error occurs.  An unmatched<B> ENDM</B> also causes an error.
<P>
If the assembler produces an error message stating that it found the end-of-file
on the source and cannot find an <A HREF="721_L3_ENDDefineEndofModule.html">END
</A>statement when there was an <A HREF="721_L3_ENDDefineEndofModule.html">END</A>,
the likely cause is a missing<B> ENDM</B> or ENDIF statement.  Without<B> ENDM</B>,
the assembler treats the rest of the source as part of the <A HREF="699_L3_MACROAssignaBodyofTe.html">MACRO
</A>definition.
<P>
<B>Note: </B> The<I> name field</I> is not allowed.  Do not confuse the
<B>ENDM</B> directive with other ending directives that do require the name
of the block being ended, such as ENDP or ENDS.<!-- lm: 0x2 1 -->
</UL><B> Example
</B><!-- lm: 0x2 11 -->
<UL>
<P>

<PRE>addup   MACRO   ad1,ad2,ad3
        MOV     AX,ad1       ;;first parameter in AX
        ADD     AX,ad2       ;;add next two parameters
        ADD     AX,ad3       ;;leave sum in AX
        ENDM
</PRE>
<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="693_L2_MacroDirectives.html">[Back: Macro Directives]</A> <BR>
<A HREF="695_L3_EXITMEndCurrentMacro.html">[Next: EXITM (End Current Macro Expansion)]</A> 
</BODY>
</HTML>
