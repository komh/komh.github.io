<HTML XPOS=RIGHT YPOS=BOTTOM WIDTH=70% HEIGHT=60%HIDDEN>
<HEAD>
<!-- extra bytes: 0B 00 44 02 00 08 00 11 46 00 3C 00 38 27 --><TITLE>Description</TITLE>
</HEAD>
<BODY>
<H1>Description</H1><!-- entering slot 1764 -->
<P>
The ENTER instruction creates the stack frame required by most block-structured
high-level languages. The first operand specifies the number of bytes of
dynamic storage allocated on the stack for the routine being entered. The
second operand gives the lexical nesting level (0 to 31) of the routine
within the high-level language source code. It determines the number of
stack frame pointers copied into the new stack frame from the preceding
frame.
<P>
Both the operand-size attribute and the stack-size attribute are used to
determine whether BP or EBP is used for the current frame pointer and SP
or ESP is used for the stack pointer.
<P>
If the operand-size attribute is 16-bits, the processor uses the BP register
as the frame pointer and the SP register as the stack pointer, unless the
stack-size attribute is 32-bits in which case it uses EBP for the frame
pointer and ESP for the stack pointer. If the operand-size attribute is
32-bits, the processor uses the EBP register for the frame pointer and the
ESP register for the stack pointer, unless the stack-size attribute is 16-bits
in which case it uses BP for the frame pointer and SP for the stack pointer.

<P>
If the second operand is 0, the ENTER instruction pushes the frame pointer
(BP or EBP register) onto the stack; the ENTER instruction then subtracts
the first operand from the stack pointer and sets the frame pointer to the
current stack-pointer value.
<P>
For example, a procedure with 12 bytes of local variables would have an
ENTER 12,0 instruction at its entry point and a LEAVE instruction before
every RET instruction. The 12 local bytes would be addressed as negative
offsets from the frame pointer.

<P><HR>

<A HREF="1748_L3H_DetailsTable.html">[Back: Details Table]</A> <BR>
<A HREF="1750_L3H_Operation.html">[Next: Operation]</A> 
</BODY>
</HTML>
