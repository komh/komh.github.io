<HTML XPOS=RIGHT YPOS=BOTTOM WIDTH=70% HEIGHT=60%HIDDEN>
<HEAD>
<!-- extra bytes: 0B 00 44 02 00 08 00 11 46 00 3C 00 38 27 --><TITLE>Description</TITLE>
</HEAD>
<BODY>
<H1>Description</H1><!-- entering slot 2463 -->
<P>
The LOCK prefix causes the LOCK# signal of the processor to be asserted
during processing of the instruction that follows it. In a multiprocessor
environment, this signal can be used to ensure that the processor has exclusive
use of any shared memory while LOCK# is asserted. The read-modify-write
sequence typically used to implement test-and-set on the Pentium processor
is the BTS instruction.
<P>
The LOCK prefix functions only with the following instructions:
<PRE>
 BTS, BTR, BTC                        mem, reg/imm

 XCHG                                 reg, mem

 XCHG                                 mem, reg

 ADD, OR, ADC, SBB, AND, SUB, XOR     mem, reg/imm

 NOT, NEG, INC, DEC                   mem

 CMPXCHG, XADD

</PRE>

<P>
An undefined opcode trap will be generated if a LOCK prefix is used with
any instruction not listed above.
<P>
The XCHG instruction always asserts LOCK# regardless of the presence or
absence of the LOCK prefix.
<P>
The integrity of the LOCK prefix is not affected by the alignment of the
memory field. Memory locking is observed for arbitrarily misaligned fields.


<P><HR>

<A HREF="2447_L3H_DetailsTable.html">[Back: Details Table]</A> <BR>
<A HREF="2449_L3H_ProtectedModeExcepti.html">[Next: Protected Mode Exceptions]</A> 
</BODY>
</HTML>
