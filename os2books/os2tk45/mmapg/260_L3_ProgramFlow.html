<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Program Flow</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Program Flow</H1><!-- entering slot 276 -->
<P>
The following figure illustrates the interaction between the Movie Sample
program and the Media Device Manager (MDM). Source code for the Movie Sample
is located in the \TOOLKIT\SAMPLES\MM\MOVIE subdirectory.
<PRE>
             ┌─────────────────┐    ┌─────────────────┐
             │     Movie       ├───│    Initialize   │
             │     Sample      │(1) │      Open       │
             │                 │    │     Device      │
             └──┬───────────┬──┘    └─────────────────┘
  Application  (2)         (3) Default
    Window                   Window
             ┌─────────────────┐
             │     Media       │
             │     Device      │
             │    Manager      │
             └───────┬─────────┘
                    (4)
                     
             ┌─────────────────┐
             │     Digital     │
             │      Video      │
             │       MCD       │
             └─────────────────┘
</PRE>
<!-- lm: 0x2 1 -->
<UL>
<P>
<LI><LI><LI><!-- lm: 0x2 8 -->The Movie Sample creates a standard window
with a style of CS_MOVENOTIFY for the application window during initialization.
 The Movie Sample also initializes and loads a movie file into memory during
initialization time.<!-- lm: 0x2 1 -->
<P>
<LI><LI><LI><!-- lm: 0x2 8 -->If you choose to play the movie in an application
window, three string commands are generated and sent to the digital video
MCD. They are<B> window</B>,<B> load</B>, and<B> put</B>. The following
list describes these commands.<!-- lm: 0x2 8 -->
<UL>
<P>
<B>window</B><!-- lm: 0x2 25 -->
<UL> Specifies the characteristics of the
application-defined window.
<P>
<B>Note: </B> When a window handle is selected with the<B> window</B> command,
the digital video MCD queries the size and position of the window.  If the
window is visible, the digital video MCD alters the size and position of
the video accordingly.  However, if the window size and position is changed
while the window is hidden, the digital video MCD does not note the new
size and position.<!-- lm: 0x2 25 --><!-- lm: 0x2 8 -->
</UL><B> load</B><!-- lm: 0x2 25 -->
<UL> Loads
the digital video file.<!-- lm: 0x2 8 -->
</UL><B> put</B><!-- lm: 0x2 25 -->
<UL> Places
the movie in the application-defined window.<!-- lm: 0x2 8 -->
</UL> These
commands (<B>window</B>,<B> load</B>, and<B> put</B>) must be issued in
sequence to play the movie in the application-defined window.<!-- lm: 0x2 1 -->
</UL> (3)
<!-- lm: 0x2 8 -->
<UL>If you choose to play the movie in a default window,
the<B> load</B> command is generated and issued to the digital video MCD.
<!-- lm: 0x2 1 -->
</UL>(4)<!-- lm: 0x2 8 -->
<UL> When you select<B> Play</B>,
the Movie Sample program calls the digital video MCD, through the Media
Device Manager, to play the movie file.
<P>
If you select<B> Edit</B>, processing is passed to the EditTheMovie procedure
which loads the movie, and sets the data format to frames. It copies the
first 25 frames to the clipboard. The 25 frames are pasted four times to
the end of the movie file (duplicating the first 25 frames four times).
Next, the EditTheMovie procedure cuts the first 10 frames from the movie,
seeks to the end of the movie, and pastes the 10 frames to the end.  The
<B>cut</B> command deletes the specified number of frames from the position
the application specifies to start the cut. Once the movie is edited, selecting
<B>Play</B> causes the edited version of the movie to play.  To play the
original "unedited" movie file, exit the Movie Sample program, restart it,
and select<B> Play</B>.<!-- lm: 0x2 1 -->
</UL>
<P>


<P><HR>

<A HREF="259_L2_MOVIEMovieSample.html">[Back: MOVIE - Movie Sample]</A> <BR>
<A HREF="261_L2_RECORDERAudioRecorde.html">[Next: RECORDER - Audio Recorder Sample]</A> 
</BODY>
</HTML>
