<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>MMMULTITRACKWRITE Operations</TITLE>
</HEAD>
<BODY>
<H1>MMMULTITRACKWRITE Operations</H1><!-- entering slot 253 -->
<P>
The MMMULTITRACKWRITE structure contains the following parameters:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->Number of tracks (<I>ulNumTracks</I>)<!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 -->A pointer to a track map list (<I>pTrackMapList</I>)
<!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 -->Read flags (<I>ulFlags</I>)<!-- lm: 0x2 1 -->
</UL>
<P>
The track map list is a list of valid track numbers for the current file
and is used to map a track for a record table. Each track map list contains:
<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->A track ID (<I>ulTrackID</I>)<!-- lm: 0x2 3 --> <!-- lm: 0x2 6 -->
<UL>Number
of record entries (<I>ulNumEntries</I>)<!-- lm: 0x2 3 -->
</UL><!-- lm: 0x2 6 -->
<UL>A pointer to a record table (<I>pRecordTabList</I>)
<!-- lm: 0x2 1 -->
</UL>
<P>
Each element of the record table contains a pointer (<I>pRecord</I>) to
and the length (<I>ulLength</I>) of the corresponding data in the buffer.

<P>
For example, if the number of track entries is two, the track map list contains
two track map tables, one for each track. There is a corresponding write
record table for each track. The number of entries in the track map table
for each track is the number of entries in the write record table for a
particular track.
<P>

<P>
<B>Note: </B> A record is a contiguous buffer containing data of the same
media type.<!-- lm: 0x2 1 -->
<P>
The following figure illustrates the multitrack write data structure.
<PRE>   MMMULTITRACKWRITE

 ┌───────────────┐ ┌─────────────────────────────────────────┐
 │ ulNumtracks   ├─┘  TRACKMAP         RECORDTAB             │
 │ pTrackMapList │    TABLE                  AUDIO           │
 │ ulFlags       │  ┌───────────────┐  ┌────────────┐     ┌───────┐
 │ ulNumTracks   │  │ ulTrackID     │  │ pRecord  1 ├───── Audio  │
 │               ├── ulNumEntries  ├── ulLength   │     │ Data 1 │
 │               │  │ pRecordTabList│  │ ulParm1    │     └────────┘
 └───────────────┘  ├───────────────┤  │ ulParm2    │     ┌────────┐
                    │ ulTrackID     │  ├────────────┤     │ Audio  │
                    │ ulNumEntries  ├┐ │ .        2 ├───── Data 2 │
                    │ pRecordTabList││ │ .          │     └────────┘
                    ├───────────────┤│ │ .          │
                    │ .             ││ └────────────┘
                    │ .             ││
                    │ .             ││
                    └───────────────┘│ ┌────────────┐     ┌────────┐
                                     │ │ pRecord  1 │     │ Video  │
                                     └─ ulLength   ├───── Data 1 │
                                       │ ulParm1    │     └────────┘
                                       │ ulParm2    │     ┌────────┐
                                       ├────────────┤     │ Video  │
                                       │ .        2 ├───── Data 2 │
                                       │ .          │     └────────┘
                                       │ .          │
                                       └────────────┘

</PRE>


<P><HR>

<A HREF="236_L3_MultitrackReading.html">[Back: Multitrack Reading]</A> <BR>
<A HREF="238_L3_MultitrackWriting.html">[Next: Multitrack Writing]</A> 
</BODY>
</HTML>
