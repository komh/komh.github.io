<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Program Flow</TITLE>
</HEAD>
<BODY>
<H1>Program Flow</H1><!-- entering slot 262 -->
<P>
The following figure illustrates the interaction between OS/2 multimedia
system components and the Memory Playlist Sample. Source code is located
in the \TOOLKIT\SAMPLES\MM\CLOCK subdirectory. (Source code for the Waveform
Audio Media Driver is located in \TOOLKIT\SAMPLES\MM\ADMCT.)
<PRE>┌─────────────────┐      ┌────────┐
│ Memory Playlist │  (2) │ Audio  │
│ Sample Program  │───  │ File   │
└───────┬─────────┘      └────────┘
    (1) 
┌───────────────┐
│ Media Device  │
│    Manager    │
└───────┬───────┘
    (3) 
┌───────────────┐
│Waveform Audio │
│ Media Driver  │
└───────┬───────┘
    (3) 
┌───────────────┐
│    Memory     │
│   Playlist    │
└───────────────┘
</PRE>

<P>
<!-- lm: 0x2 1 -->
<UL>
<P>
<LI><LI><LI><!-- lm: 0x2 8 -->The Memory Playlist Sample queries the Media
Device Manager using the mciQuerySysValue function to determine whether
the captioning flag is set. If the flag is set, the bell in the primary
window will swing back and forth when a chime occurs.<!-- lm: 0x2 1 -->
<P>
<LI><LI><LI><!-- lm: 0x2 8 -->The Memory Playlist Sample program initializes
the playlist and loads the audio files into memory.<!-- lm: 0x2 1 -->
<P>
<LI><LI><LI><!-- lm: 0x2 8 -->When a chime occurs, the Memory Playlist Sample
program calls the Waveform Audio Media Driver through the MDM to interpret
instructions for the playing of three audio files in memory. The clock chimes
are stored in three files:  A, B, and C. Depending on the time a chime is
requested, the memory playlist consists of the following:<!-- lm: 0x2 10 -->
<UL>
<P>
<LI><!-- lm: 0x2 13 -->At 15 minutes past the hour, the chime plays A.<!-- lm: 0x2 10 -->
<BR>
<LI><!-- lm: 0x2 13 -->At 30 minutes past the hour, the chime plays A+B.
<!-- lm: 0x2 10 -->
<BR>
<LI><!-- lm: 0x2 13 -->At 45 minutes past the hour, the chime plays A+B+A.
<!-- lm: 0x2 10 -->
<BR>
<LI><!-- lm: 0x2 13 -->On the hour, the chime plays A+B+A+B+ (C x Hour).
<!-- lm: 0x2 8 --><!-- lm: 0x2 1 -->
</UL>
<P>


<P><HR>

<A HREF="245_L2_CLOCKMemoryPlaylistS.html">[Back: CLOCK - Memory Playlist Sample]</A> <BR>
<A HREF="247_L3_PlayingaChime.html">[Next: Playing a Chime]</A> 
</BODY>
</HTML>
