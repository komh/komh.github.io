<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Advancing a File I/O Buffer for Writing</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Advancing a File I/O Buffer for Writing</H1><!-- entering slot 215 -->
<P>
The following figure shows how the file I/O buffer is advanced as a file
is written to.<!-- Unable to decode bitmap format --><IMG SRC="199_L4_AdvancingaFileIOBuff_11.gif" WIDTH=602 HEIGHT=352><!-- lm: 0x2 1 -->
<UL>
<P>
<LI><LI><LI><!-- lm: 0x2 8 -->The application opens the file for buffered
I/O by calling mmioOpen.  The mmioOpen function sets<I> pchNext</I> to point
to the beginning of the file I/O buffer and<I> pchEndWrite</I> to point
to the end of the buffer.<!-- lm: 0x2 1 -->
<P>
<LI><LI><LI><!-- lm: 0x2 8 -->The application writes to the I/O buffer and
increments<I> pchNext</I>.<!-- lm: 0x2 1 -->
<P>
<LI><LI><LI><!-- lm: 0x2 8 -->Once the application fills the buffer, it
calls mmioAdvance to empty the contents of the buffer to disk.  The mmioAdvance
function resets<I> pchNext</I> to point to the beginning of the buffer.
<!-- lm: 0x2 1 -->
<P>
<LI><LI><LI><!-- lm: 0x2 8 -->The application continues to write to the
buffer and call mmioAdvance to empty the contents of the buffer when its
full.  At the end of the file, there is not enough information to fill the
buffer.  When the application calls mmioAdvance to empty the contents of
the buffer,<I> pchNext</I> points to the end of the valid data in the buffer.
<!-- lm: 0x2 1 -->
<BR>

<P>


<P><HR>

<A HREF="198_L4_AdvancingaFileIOBuff.html">[Back: Advancing a File I/O Buffer for Reading]</A> <BR>
<A HREF="200_L3_EndingDirectAccessof.html">[Next: Ending Direct Access of a File I/O Buffer]</A> 
</BODY>
</HTML>
