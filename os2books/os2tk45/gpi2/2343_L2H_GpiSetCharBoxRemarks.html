<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>GpiSetCharBox - Remarks</TITLE>
</HEAD>
<BODY>
<H1>GpiSetCharBox - Remarks</H1><!-- entering slot 2354 -->
<P>
The parameter<I> psizfxBox</I> specifies values for the width and height
of a character box in world coordinates.
<P>
Whether these values are used when character strings are drawn depends on
the type of font being used (raster or outline), and on the value of the
character mode attribute (see the <A HREF="2383_L2_GpiSetCharMode.html">GpiSetCharMode
</A>function).
<P>
For raster fonts, where the character box is used only for positioning in
character mode CM_MODE2, the character box width corresponds to the<I> lEmInc
</I>font metric (see<A><!-- external link: 1D 7B C4 FC --> FONTMETRICS</A>).
For proportionally-spaced raster fonts, the effective spacing for a given
character is the character box width, scaled by the ratio of that character's
width to<I> lEmInc</I>.
<P>
For outline fonts, characters are defined in font definition space. The
<I>sXDeviceRes</I> and<I> sYDeviceRes</I> fields (see<A><!-- external link: 1D 7B C4 FC --> FONTMETRICS</A>)
define a rectangle in font definition space that is mapped to the character
box rectangle (modified by the character angle and shear attributes) in
world coordinates.<I> sYDeviceRes</I> corresponds to the font point size
in font definition space, and therefore the character box height corresponds
to the font point size in world coordinates. This is typically less than
the<I> lMaxBaselineExt</I>.
<P>
The effective width of each character from an outline font is the character
box width, scaled by the ratio of the width of the character to<I> sXDeviceRes</I>.
The<I> lAveCharWidth</I> (for a proportionally-spaced font) will therefore
typically be smaller than the character box width.  Indeed, because of differences
in font design,<I> lAveCharWidth</I> and<I> lMaxBaselineExt</I> vary between
different fonts, even when the character box dimensions are the same.
<P>
<I>lEmInc</I> and<I> lEmHeight</I> are always equal to the character box
width and height, respectively.
<P>
To cause characters of a given point-size to be generated using an outline
font, establish a world coordinate space with specific metrics (for example,
specify PU_TWIPS on <A HREF="356_L2_GpiCreatePS.html">GpiCreatePS</A>),
and set the character box height to the required point size. Because<I> sXDeviceRes
</I>and<I> sYDeviceRes</I> are normally equal, the character box width should
also be set equal to the height, if characters are required with the same
aspect ratio as defined in the font (assuming that world coordinate space
is<I> isotropic</I>).
<P>
The initial default value of the character box is the device-coordinates
value returned by DevQueryCaps (CAPS_GRAPHICS_CHAR_WIDTH and CAPS_GRAPHICS_CHAR_HEIGHT)
for the currently associated device, converted to page coordinates.
<P>
<B>Note: </B> In general the initial default value is rectangular, and to
avoid character distortion, the character box should normally be set explicitly
to be square if an outline font might be used (assuming that world coordinate
space is isotropic).<!-- lm: 0x2 1 -->
<UL>
<P>
The default value can be changed with <A HREF="2489_L2_GpiSetDefAttrs.html">GpiSetDefAttrs</A>.

<P>
GpiSetCharBox must not be issued in an area bracket.
<P>
The attribute mode (see <A HREF="2227_L2_GpiSetAttrMode.html">GpiSetAttrMode</A>)
determines whether the current value of the character-box size attribute
is preserved.

<P><HR>

<A HREF="2342_L2H_GpiSetCharBoxParamet.html">[Back: GpiSetCharBox - Parameters]</A> <BR>
<A HREF="2344_L2H_GpiSetCharBoxErrors.html">[Next: GpiSetCharBox - Errors]</A> 
</BODY>
</HTML>
