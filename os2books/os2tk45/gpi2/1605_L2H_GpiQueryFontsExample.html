<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>GpiQueryFonts - Example Code</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>GpiQueryFonts - Example Code</H1><!-- entering slot 1616 -->
<P>
This example uses the GpiQueryFonts function to retrieve the font metrics
for all private fonts having the "Helv" typeface name. The function is called
twice, first to determine the number of fonts available, and then again
to retrieve the font metrics for all the fonts.
<PRE>#define INCL_GPILCIDS           /* Font functions               */
#define INCL_DOSMEMMGR          /* DOS Memory Manager Functions */
#include &lt;os2.h&gt;

HPS hps;                /* presentation space handle            */
LONG cFonts;            /* fonts not returned                   */
LONG lTemp = 0L;        /* font count                           */
PFONTMETRICS pfm;       /* metrics structure                    */

/* Determine the number of fonts. */

cFonts = GpiQueryFonts(hps, QF_PRIVATE, "Helv", &amp;lTemp,
    (LONG) sizeof(FONTMETRICS), NULL);

/* Allocate space for the font metrics. */

DosAllocMem((VOID *)pfm,(ULONG)(cFonts*sizeof(FONTMETRICS)),
            PAG_COMMIT | PAG_READ | PAG_WRITE);

/* Retrieve the font metrics. */

cFonts = GpiQueryFonts(hps, QF_PRIVATE, "Helv", &amp;cFonts,
    (LONG) sizeof(FONTMETRICS), pfm);
</PRE>


<P><HR>

<A HREF="1604_L2H_GpiQueryFontsErrors.html">[Back: GpiQueryFonts - Errors]</A> <BR>
<A HREF="1606_L2H_GpiQueryFontsTopics.html">[Next: GpiQueryFonts - Topics]</A> 
</BODY>
</HTML>
