<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>GpiQueryBitmapBits - Remarks</TITLE>
</HEAD>
<BODY>
<H1>GpiQueryBitmapBits - Remarks</H1><!-- entering slot 1182 -->
<P>
The presentation space must be currently associated with a memory device
context, which has a bit map currently selected.
<P>
The<I> pbmiInfoTable</I> must be initialized by the application with the
values of<I> cbFix</I>, and also<I> cPlanes</I> and<I> cBitCount</I>, set
to the format required. The standard bit-map formats are supported, plus
any known to be supported by the device (see <A HREF="1478_L2_GpiQueryDeviceBitmap.html">GpiQueryDeviceBitmapFormats</A>).
Each of the following fields must also be set by the application before
issuing the call (unless the<A><!-- external link: 1D 67 C4 1E --> BITMAPINFO2
</A>structure is truncated and the field is not present):<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 --><I>ulCompression</I><!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 --><I>usReserved</I><!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 --><I>usRecording</I><!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 --><I>usRendering</I><!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 --><I>ulColorEncoding</I><!-- lm: 0x2 1 -->
</UL>
<P>
This function returns the values of<I> cx</I>,<I> cy</I> (plus any other
information, apart from that set by the application, for which space is
available in the<A><!-- external link: 1D 67 C4 1E --> BITMAPINFO2</A> structure),
and the color table array filled in by the system.
<P>
The bit-map data is converted where necessary.
<P>
<I>pbBuffer</I> must point to a storage area large enough to contain data
for the requested number of scan lines. The amount of storage required for
one scan line can be determined by calling <A HREF="1207_L2_GpiQueryBitmapParame.html">GpiQueryBitmapParameters
</A>and using the returned values in the following formula:
<PRE>((bitcount*bitmapwidth + 31)/32)*planes*4 bytes

</PRE>

<P>
The storage required for the entire bit map is this value multiplied by
<I>cy</I>.

<P><HR>

<A HREF="1170_L2H_GpiQueryBitmapBitsPa.html">[Back: GpiQueryBitmapBits - Parameters]</A> <BR>
<A HREF="1172_L2H_GpiQueryBitmapBitsEr.html">[Next: GpiQueryBitmapBits - Errors]</A> 
</BODY>
</HTML>
