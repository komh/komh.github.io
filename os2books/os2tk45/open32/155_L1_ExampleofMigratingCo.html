<HTML>
<HEAD>
<TITLE>Example of Migrating Code</TITLE>
</HEAD>
<BODY>
<H1>Example of Migrating Code</H1><!-- entering slot 156 -->
<P>
The following is example of the steps you might follow to convert and compile
code that uses the sample code-hiworld.c:<!-- lm: 0x2 5 -->
<UL>
<P>
Sample<!-- lm: 0x2 6 -->
<UL>
<P>
 <LI><LI><!-- lm: 0x2 10 -->Convert the Windows 32-bit resource file hiworld.rc
to an OS/2 resource file using SMART.
<P>
<B>Note: </B> SMART will rename the Windows 32-bit resource file from hiworld.rc
to hiworld.rcx and creates an OS/2 resource file named hiworld.rc if you
click on the Overwrite Original radio button on the Resource Translation
dialog. Otherwise, SMART names the OS/2 resource file hiworld.rcx.<!-- lm: 0x2 6 -->
<P>
 <LI><LI><!-- lm: 0x2 10 -->Change hiworld.h to include hiworld.hhh, which
is the output from SMART. hiworld.hhh contains #defines for the resource
IDs. For your convenience, this change has been flagged with comments in
the Windows 32-bit hiworld.c source code. The comments are removed in the
OS/2 hiworld.c code.<!-- lm: 0x2 6 -->
<P>
 <LI><LI><!-- lm: 0x2 10 -->In any source module that includes &lt;windows.h&gt;,
change:
<PRE>#include &lt;windows.h&gt;
</PRE>

<P>
to:
<PRE>#include &lt;os2win.h&gt;
</PRE>

<P>
This change has been flagged with comments in the Windows 32-bit hiworld.c
code. The comments are removed in the OS/2 hiworld.c code.<!-- lm: 0x2 6 -->
<P>
 <LI><LI><!-- lm: 0x2 10 -->Change the code in hiworld.c that uses string
resource IDs to use MAKEINTRESOURCE with the numeric resource IDs in hiworld.hhh.
These have been flagged with comments in the Windows 32-bit hiworld.c source
code. The comments are removed in the OS/2 hiworld.c code.
<P>
<B>Note: </B> This is a temporary restriction.<!-- lm: 0x2 6 -->
<P>
 <LI><LI><!-- lm: 0x2 10 -->Create a DEF file and specify a stack size of
at least 128KB. Include a NAME statement which specifies an apptype of WINDOWAPI.
<!-- lm: 0x2 6 -->
<P>
 <LI><LI><!-- lm: 0x2 10 -->Link main.obj (found in the toolkit\c directory
under your Open32 directory) with hiworld.obj to form hiworld.exe. This
is done in the makefile provided with this sample.<!-- lm: 0x2 6 -->
<P>
 <LI><LI><!-- lm: 0x2 10 -->Run hiworld.exe as you would any other OS/2
executable file.<!-- lm: 0x2 5 -->
</UL><!-- lm: 0x2 1 -->

<P><HR>

<A HREF="154_L1_Testing.html">[Back: Testing]</A> <BR>
<A HREF="156_L1_Open32Functions.html">[Next: Open32 Functions]</A> 
</BODY>
</HTML>
