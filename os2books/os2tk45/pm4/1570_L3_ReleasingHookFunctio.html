<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Releasing Hook Functions</TITLE>
</HEAD>
<BODY>
<H1>Releasing Hook Functions</H1><!-- entering slot 1604 -->
<P>
You can release a hook function and remove its address from the hook list
by calling WinReleaseHook with the same arguments that you used when installing
the hook function, as shown in the following sample code:
<PRE>BOOL EXPENTRY MyInputHook(HAB, PQMSG, USHORT);
HAB  hab;
HMQ  hmq;

WinReleaseHook(hab,                  /* Anchor block handle            */
               hmq,                  /* Thread message queue           */
               HK_INPUT,             /* Called by the input hook       */
               (PFN) MyInputHook,    /* Address of input-hook function */
               (HMODULE)NULL);       /* Function is in appl. module    */

</PRE>

<P>
Release all hook functions before the application ends, even though the
system automatically releases them if the application does not. You also
need to free the memory associated with the hook.

<P><HR>

<A HREF="1569_L3_InstallingHookFuncti.html">[Back: Installing Hook Functions]</A> <BR>
<A HREF="1571_L4_FreeingMemory.html">[Next: Freeing Memory]</A> 
</BODY>
</HTML>
