<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>HK_CHECKMSGFILTER - Check Message Filter Hook</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>HK_CHECKMSGFILTER - Check Message Filter Hook</H1><!-- entering slot 1583 -->
<P>
The<I> check message filter hook</I> is called whenever WinGetMsg, WinWaitMsg,
or WinPeekMsg are used to filter message identities. This hook lets an application
apply very specific message filtering, for example, based on the values
of message parameters. This hook is called after window handle filtering
and before message filtering. The following code shows the syntax for a
check message filter hook function:
<PRE>BOOL EXPENTRY CheckMsgFilterHook ( HAB   hab,
                                   PQMSG pQmsg,
                                   ULONG usFirst,
                                   ULONG usLast,
                                   ULONG fOptions);
</PRE>

<P>

<P>
The<I> hab</I> parameter is the anchor block handle.
<P>
The<I> pQmsg</I> parameter is a pointer to a QMSG data structure that contains
information about the message.
<P>
The<I> usFirst</I> parameter is the first message identity specified on
a call to the WinGetMsg, WinPeekMsg, or WinWaitMsg function.
<P>
The<I> usLast</I> parameter is the last message identity specified on a
call to the WinGetMsg, WinPeekMsg, or WinWaitMsg function.
<P>
The<I> fOptions</I> parameter indicates whether or not the message is removed
from the queue:<!-- lm: 0x2 6 -->
<UL>
<P>
PM_NOREMOVE<!-- lm: 0x2 6 -->
<BR>
PM_REMOVE<!-- lm: 0x2 1 -->
</UL>
<P>
If the check message filter hook function returns TRUE, the message is accepted
by the filtering. Any further check message filter hooks in the chain are
ignored, any filtering specified by the WinGetMsg, WinPeekMsg, and WinWaitMsg
functions are ignored, and processing of the message continues.
<P>
A hook that always returns TRUE effectively switches off message filtering.

<P>
If the check message filter hook function returns FALSE, the message is
passed on to the next check message filter hook in the chain. If the end
of the chain has been reached, the filtering specified by the WinGetMsg,
WinPeekMsg, or WinWaitMsg functions is applied.

<P><HR>

<A HREF="1548_L3_HookTypes.html">[Back: Hook Types]</A> <BR>
<A HREF="1550_L4_HK_CODEPAGECHANGECod.html">[Next: HK_CODEPAGECHANGE - Code Page Changed Hook]</A> 
</BODY>
</HTML>
