<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Messages</TITLE>
</HEAD>
<BODY>
<H1>Messages</H1><!-- entering slot 1664 -->
<P>
A<I> message</I> is information, a request for information, or a request
for an action to be carried out by a window in an application.
<P>
The operating system, or an application, sends or posts a message to a window
so that the window can use the information or respond to the request.
<P>
There are three types of messages:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->User-initiated<!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 -->Application-initiated<!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 -->System-initiated<!-- lm: 0x2 1 -->
</UL>
<P>
A user-initiated message is the direct result of a user action, such as
selecting a menu item or pressing a key.  An application-initiated message
is generated by one window in the application to communicate with another
window.  System-initiated messages are generated by the interface as the
indirect result of a user action (for example, resizing a window) or as
the direct result of a system event (such as creating a window).
<P>
A message that requires an immediate response from a window is sent directly
to the window by passing the message data as arguments to the window procedure.
 The window procedure carries out the request or lets the operating system
carry out default processing for the message.
<P>
A message that does not require an immediate response from a window is<I> posted
</I>(the message data is copied) to the application's<I> message queue</I>.
 The message queue is a storage area that the application creates to receive
and hold its posted messages.  Then, the application can retrieve a message
at the appropriate time, sending it to the addressed window for processing.

<P>
Every message contains a<I> message identifier</I>, which is a 16-bit integer
that indicates the purpose of the message.  When a window processes a message,
it uses the message identifier to determine what to do.
<P>
Every message contains a<I> window handle</I>, which identifies the window
the message is for.  The window handle is important because most message
queues and window procedures serve more than one window.  The window handle
ensures that the application forwards the message to the proper window.

<P>
A message contains two<I> message parameters</I>-32-bit values that specify
data or the location of data that a window uses when processing the message.
 The meaning and value of a message parameter depend on the message.  A
message parameter can contain an integer, packed bit flags, a pointer to
a structure that contains additional data, and so forth.  Some messages
do not use message parameters and, typically, set the parameters to NULL.
 An application always checks the message identifier to determine how to
interpret the message parameters.
<P>
A<I> queue message</I> is a QMSG data structure that contains six data items,
representing the window handle, message identifier, two message parameters,
message time, and mouse-pointer position.  The time and position are included
because most queue messages are input messages, representing keyboard or
mouse input from the user.  The time and position also help the application
identify the context of the message.  The operating system posts a queue
message by filling the QMSG structure and copying it to a message queue.

<P>
A<I> window message</I> consists of the window handle, the message identifier,
and two message parameters.  A window message does not include the message
time and mouse-pointer position, because most window messages are requests
to perform a task that is not related to the current time or mouse-pointer
position.  The operating system sends a window message by passing these
values, as individual arguments, to a window procedure.

<P><HR>

<A HREF="1626_L2_AboutMessagesandMess.html">[Back: About Messages and Message Queues]</A> <BR>
<A HREF="1628_L3_MessageQueues.html">[Next: Message Queues]</A> 
</BODY>
</HTML>
