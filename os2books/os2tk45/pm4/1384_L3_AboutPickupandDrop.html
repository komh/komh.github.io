<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>About Pickup and Drop</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>About Pickup and Drop</H1><!-- entering slot 1410 -->
<P>
Pickup and Drop (also known as Lazy Drag) enables a drag operation to occur
without requiring that the drag button be pressed for the duration of the
operation (as in the standard direct manipulation operation). Pickup and
Drop is non-modal in nature, allowing the user to interrupt the drag operation
with other processes, and eliminating the requirement that both the source
and target objects be visible prior to initiation of the drag operation
(as in standard protocol). Pickup and Drop does not replace the standard,
modal direct manipulation operation; it offers a more flexible alternative
data transfer option.
<P>
Pickup and Drop is composed of one or more source object Pickup operations
followed by a single Drop operation on a target object. Pickup and Drop
is initiated by the first Pickup and is terminated by a Drop or Cancel Drag
operation. When Pickup and Drop is initiated, the mouse pointer is augmented
with the system Pickup pointer icon.
<P>
The drag images seen in a standard direct manipulation operation are not
displayed. As additional items are selected, they are added to the system
Pickup set, and pickup emphasis is displayed for each item. The Pickup set
is currently limited to a single source window or folder. While the operation
is in progress, all other operations are valid with the exception of a standard
direct manipulation operation.
<P>
Pickup and Drop is initiated by DrgLazyDrag in response to a WM_PICKUP message
generated when the user presses Alt+mouse button 2 on a source object. As
the pointer moves over a potential target, DM_DRAGOVER and DM_DRAGLEAVE
messages are sent when the user presses a key indicating the intention to
drop the object. The target emphasis is not displayed until the user attempts
to drop the object. Each time items are added to the Pickup set in response
to a WM_PICKUP message, DrgReallocDraginfo must be called to reallocate
the DRAGINFO data structure. The Pickup and Drop operation is then re-initiated
by another DrgLazyDrag call. DrgLazyDrag returns upon initialization for
the operation. The pointing device remains active during the operation and
may be used as if no drag operation were in effect. If the pointer is over
a valid target when a Drop is invoked, a DM_DROP message is sent to the
target, and a DM_DROPNOTIFY message posted to the source window.
<P>
DrgCancelLazyDrag is called to cancel the operation, and similarly posts
a DM_DROPNOTIFY message to the source window, but with a target window handle
of zero in the<I> mp2</I> parameter.
<P>
DrgLazyDrop can be used to programmatically invoke a drop operation; for
example, from a menu choice.
<P>
DrgQueryDraginfoPtrFromHwnd and DrgQueryDraginfoPtrFromDragitem are called
to query the DRAGINFO pointer at any time during the course of the operation.

<P>
DrgQueryDragStatus is called to determine whether a Pickup and Drop operation
is currently in progress.

<P><HR>

<A HREF="1383_L3_CancelingaDragOperat.html">[Back: Canceling a Drag Operation]</A> <BR>
<A HREF="1385_L4_DataStructureHandlin.html">[Next: Data Structure Handling]</A> 
</BODY>
</HTML>
