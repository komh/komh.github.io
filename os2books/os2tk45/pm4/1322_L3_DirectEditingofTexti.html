<HTML>
<HEAD>
<TITLE>Direct Editing of Text in a Container</TITLE>
</HEAD>
<BODY>
<H1>Direct Editing of Text in a Container</H1><!-- entering slot 1344 -->
<P>
Direct editing of text is supported for any text field in a container, including
the container title, column headings, and container items. If a text field,
such as the text field beneath an icon in the Icon view, has no text and
is not read-only, a user can place text in that field by editing the field
directly. The font specified for the container by the application is used
for the edited text.
<P>
Direct editing is supported only for text data. Therefore, if the data type
in the Details view is other than CFA_STRING, a user cannot edit it. CFA_STRING
is an attribute of the FIELDINFO data structure's<I> flData</I> field.
<P>
You can prevent a user from editing any of the text in a container window
by setting the CCS_READONLY style bit when a container is created. If you
do not set this style bit, the user can edit any of the text in a container
window unless you set the following read-only attributes:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->CA_TITLEREADONLY of the CNRINFO data structure's<I> flWindowAttr
</I>field<!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 -->CRA_RECORDREADONLY of the RECORDCORE data structure's
<I>flRecordAttr</I> field<!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 -->CFA_FIREADONLY of the FIELDINFO data structure's<I> flData
</I>field<!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 -->CFA_FITITLEREADONLY of the FIELDINFO data structure's
<I>flTitle</I> field<!-- lm: 0x2 1 -->
</UL>
<P>
If one of these read-only attributes is set, a user's attempts to edit container
text directly are ignored.
<P>
A user can edit container text directly by doing either of the following:
<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->Moving the pointer to an editable text field, holding
down the Alt key, and clicking the select button<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->Sending a CM_OPENEDIT message to the container control.
The application can assign a key or menu choice to this message so that
the keyboard can be used to edit container text directly.<!-- lm: 0x2 1 -->
</UL>
<P>
The container control responds by using the WM_CONTROL message to send the
CN_BEGINEDIT notification code to the application. A window that contains
a multiple-line entry (MLE) field opens to show that container text can
be edited directly.
<P>
The editing actions supported by MLEs, such as<B> Cut</B>,<B> Copy</B>,
and<B> Paste</B>, are also supported by the container control. These actions
can be performed using system-defined<I> shortcut</I> keys. The actions
and shortcut keys are defined by CUA interface design guidelines.
<P>
If the user enters a text string that is longer than the text field, the
text string scrolls. If multiple lines of text are needed or wanted, a user
can press the Enter key to insert a new line.
<P>
A user can end the direct editing of container text and save the changes
by doing either of the following:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->Moving the pointer outside the MLE and pressing the
select button<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->Sending a CM_CLOSEEDIT message to the container control.
The application can assign a key or menu choice to this message so that
the keyboard can be used to end the direct editing of container text.<!-- lm: 0x2 1 -->
</UL>
<P>
The container responds by sending the WM_CONTROL message to the application
again, but this time with the CN_REALLOCPSZ notification code. The application
can allocate more memory on receipt of the CN_REALLOCPSZ notification code,
if necessary. If the application returns TRUE, the container control copies
the new text to the application's text string. If the application returns
FALSE, the text change in the MLE is disregarded. The container then sends
the WM_CONTROL message to the application again, this time with the CN_ENDEDIT
notification code. The MLE field is removed from the screen, leaving only
the text string.
<P>
A user can end the direct editing of container text without saving any changes
to the text in numerous ways, including the following:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->Pressing the Esc key<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->Dragging the container item that is being edited<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->Pressing the Alt key and the select button before
the direct editing of container text has ended<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->Scrolling the container window<!-- lm: 0x2 1 -->
</UL>
<P>
The CN_ENDEDIT notification code is sent to the application in each of these
cases.

<P><HR>

<A HREF="1321_L3_SpecifyingDeltasforL.html">[Back: Specifying Deltas for Large Amounts of Data]</A> <BR>
<A HREF="1323_L3_SearchingforExactTex.html">[Next: Searching for Exact Text String Matches]</A> 
</BODY>
</HTML>
