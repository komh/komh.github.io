<HTML>
<HEAD>
<TITLE>Built-in Macros</TITLE>
</HEAD>
<BODY>
<H1>Built-in Macros</H1><!-- entering slot 36 -->
<P>
<B>File-Specification Parts</B>
<P>
A full file specification gives the base name of the file, the file name
extension, and the path. The path provides the disk drive identifier and
the sequence of directories needed to locate the file on the disk.
<P>
<B>Example:</B>
<P>
The file specification:
<PRE>     C:\SOURCE\PROG\SORT.OBJ
</PRE>

<P>
has the following parts:
<PRE>ÚÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
³Path Name           ³C:\SOURCE\PROG      ³everything prior to ³
³                    ³                    ³the last path       ³
³                    ³                    ³separator           ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³File Extension      ³.OBJ                ³everything after and³
³                    ³                    ³including the last  ³
³                    ³                    ³dot (.)             ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³Base File Name      ³SORT                ³what's left         ³
ÀÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ
</PRE>

<P>
NMAKE32 predefines several macros which are useful for writing rules for
building targets.
<PRE>ÚÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
³Macro       ³Value                                           ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³$$          ³The '$' character, which does not participate in³
³            ³any further macro expansion.                    ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³$*          ³The path name and base file name of the current ³
³            ³target with the extension deleted.              ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³$&lt;          ³When used in an explicit rule; the first        ³
³            ³dependent of the target (regardless of whether  ³
³            ³the dependent is out of date), if any. When used³
³            ³in an inference rule, the file specification of ³
³            ³the (inferred) dependent which is out of date   ³
³            ³with respect to the target. For example, in the ³
³            ³.c.obj: rule, $&lt; would evaluate to the .c file. ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³$@          ³The file specification of the current target.   ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³$?          ³The file specification of all dependents which  ³
³            ³are out of date with respect to the target.     ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³$**         ³The list of file specifications of all          ³
³            ³dependents (whether up-to-date or not).         ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³$$@         ³The file specification of the target that       ³
³            ³NMAKE32 is currently evaluating. This is a      ³
³            ³dynamic dependency parameter, used only in      ³
³            ³dependent lists.                                ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³$:          ³The path name of the current target file        ³
³            ³specification.                                  ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³$.          ³The base file name and extension of the current ³
³            ³target file specification.                      ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³$&amp;          ³The base file name of the current target file   ³
³            ³specification.                                  ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³$()         ³The null string                                 ³
ÀÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ
</PRE>

<P>

<P>
<B>Note: </B> The special macros $** and $$@ are the only exceptions to
the rule that macro names longer than one character must be enclosed in
parentheses.
<P>
<B>Example:</B>
<P>
Given the following description file excerpt:
<PRE>     c:\mydir\myprog.obj: $*.c
          @echo Dollar Star is $*
          @echo Dollar Star Star is $**
          @echo Dollar At is $@
</PRE>

<P>
The special macro $* on the target dependent line will expand to c:\mydir\myprog,
and the following text will be displayed when NMAKE32 is run:
<PRE>     Dollar Star is c:\mydir\myprog
     Dollar Star Star is c:\mydir\myprog.c
     Dollar At is c:\mydir\myprog.obj
</PRE>

<P>
<B>Characters that Modify Built-in Macros</B>
<P>
The following macros all resolve to a file specification (or possible several
file specifications for $** and $?):
<P>
   $*   $@   $**   $&lt;   $?   $$@
<P>
There are four characters (D, F, B, or R), which may be appended to any
of these macros to modify the filename returned by the macro. Parts of the
full file specification are returned, depending on which character is used.

<P>
                      <B>Appended Character</B>
<PRE>ÚÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄ¿
³File Part Returned      ³D       ³F       ³B       ³R       ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄ´
³File Path               ³Yes     ³No      ³No      ³Yes     ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄ´
³Base File Name          ³No      ³Yes     ³Yes     ³Yes     ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄ´
³File Name Extension     ³No      ³Yes     ³No      ³No      ³
ÀÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÙ
</PRE>

<P>
<B>Example:</B>
<P>
If the macro $@ has the value
<PRE>     C:\SOURCE\PROG\SORT.OBJ
</PRE>

<P>
then the following values are returned for the modified macro:<!-- lm: 0x2 1 -->
<UL>
<P>
Macro<!-- lm: 0x2 16 -->
<UL> Value<!-- lm: 0x2 1 -->
</UL> $(@D)<!-- lm: 0x2 16 -->
<UL> C:\SOURCE\PROG
<!-- lm: 0x2 1 -->
</UL>$(@F)<!-- lm: 0x2 16 -->
<UL> SORT.OBJ<!-- lm: 0x2 1 -->
</UL> $(@B)
<!-- lm: 0x2 16 -->
<UL>SORT<!-- lm: 0x2 1 -->
</UL> $(@R)<!-- lm: 0x2 16 -->
<UL> C:\SOURCE\PROG\SORT
<!-- lm: 0x2 1 -->
</UL>
<P>

<P>
<B>Note: </B> Modified macros are always longer than a single character
so they must be enclosed by parentheses when used.
<P>


<P><HR>

<A HREF="034_L3_MacroSubstitutions.html">[Back: Macro Substitutions]</A> <BR>
<A HREF="036_L3_PredefinedMacros.html">[Next: Predefined Macros]</A> 
</BODY>
</HTML>
