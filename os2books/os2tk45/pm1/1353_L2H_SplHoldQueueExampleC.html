<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>SplHoldQueue - Example Code</TITLE>
</HEAD>
<BODY>
<H1>SplHoldQueue - Example Code</H1><!-- entering slot 1364 -->
<P>
This sample code will hold the local queue name that is entered at the prompt.

<PRE>#define INCL_SPL
#define INCL_SPLERRORS
#include &lt;os2.h&gt;
#include &lt;stdio.h&gt;       /* for printf function */

INT main (argc, argv)
   INT argc;
   CHAR *argv[];
{
   SPLERR splerr ;
   PSZ    pszComputerName = NULL ;
   PSZ    pszQueueName ;

   /* Get queue name from the input argument  */
   pszQueueName = argv[1];

   /* Call the function to do the hold. If an error is returned, print it.   */
   splerr = SplHoldQueue(pszComputerName, pszQueueName);
   if (splerr != 0L)
   {
      switch (splerr)
      {
         case NERR_QNotFound:
            printf("Queue does not exist.\n");
            break;
         case  NERR_SpoolerNotLoaded:
            printf("The Spooler is not running.\n");
            break;
         default:
            printf("Errorcode = %ld\n",splerr);
      } /* endswitch */
   }
   else
   {
      printf("Queue %s was held.\n",pszQueueName);
   } /* endif */
  DosExit( EXIT_PROCESS , 0 ) ;
  argc; /* keep the compiler quiet */
  return (splerr);
}
</PRE>


<P><HR>

<A HREF="1352_L2H_SplHoldQueueRelatedF.html">[Back: SplHoldQueue - Related Functions]</A> <BR>
<A HREF="1354_L2H_SplHoldQueueTopics.html">[Next: SplHoldQueue - Topics]</A> 
</BODY>
</HTML>
