<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>DevEscape - Remarks</TITLE>
</HEAD>
<BODY>
<H1>DevEscape - Remarks</H1><!-- entering slot 41 -->
<P>
The data fields for standard escapes are:<!-- lm: 0x2 1 -->
<UL>
<P>
DEVESC_QUERYESCSUPPORT<!-- lm: 0x11 5 -->
<UL> Queries whether a particular
escape is implemented by the presentation driver. The return value gives
the result.
<P>
This escape is not metafiled or recorded.<!-- lm: 0x2 5 -->
<P>
<I>lInCount</I><!-- lm: 0x2 22 -->
<UL> Number of bytes pointed to by<I> pbInData</I>.
<!-- lm: 0x2 5 -->
</UL><I>pbInData</I><!-- lm: 0x2 22 -->
<UL> The buffer contains an escape
code value specifying the escape function to be checked.<!-- lm: 0x2 5 -->
</UL><I>plOutCount</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to 0.
<!-- lm: 0x2 5 -->
</UL><I>pbOutData</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to null.
<!-- lm: 0x2 5 --><!-- lm: 0x2 1 -->
</UL>DEVESC_GETSCALINGFACTOR<!-- lm: 0x11 5 -->
<UL> Returns
the scaling factors for the x and y axes of a printing device. For each
scaling factor, an exponent of two is put in<I> pbOutData</I>. Thus, the
value 3 is used if the scaling factor is 8.
<P>
Scaling factors are used by devices that cannot support graphics at the
same resolution as the device resolution.
<P>
This escape is not metafiled or recorded.<!-- lm: 0x2 5 -->
<P>
<I>lInCount</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to 0.<!-- lm: 0x2 5 -->
</UL><I>pbInData</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to null.
<!-- lm: 0x2 5 -->
</UL><I>plOutCount</I><!-- lm: 0x2 22 -->
<UL> The number of bytes of data
pointed to by<I> pbOutData</I>. On return, this is updated to the number
of bytes returned.<!-- lm: 0x2 5 -->
</UL><I>pbOutData</I><!-- lm: 0x2 22 -->
<UL> The address of a SFACTORS
structure, which on return contains the scaling factors for the x and y
axes.<!-- lm: 0x2 5 --><!-- lm: 0x2 1 -->
</UL> DEVESC_STARTDOC<!-- lm: 0x11 5 -->
<UL> Indicates
that a new print job is starting. All subsequent output to the device context
is spooled under the same job identifier until a DEVESC_ENDDOC occurs.
<P>
GpiAssociate must be issued to associate the presentation space with the
device context before issuing this escape.
<P>
This escape is metafiled but not recorded.<!-- lm: 0x2 5 -->
<P>
<I>lInCount</I><!-- lm: 0x2 22 -->
<UL> Number of bytes pointed to by<I> pbInData</I>.
<!-- lm: 0x2 5 -->
</UL><I>pbInData</I><!-- lm: 0x2 22 -->
<UL> The buffer contains a null-terminated
string, specifying the name of the document.<!-- lm: 0x2 5 -->
</UL><I>plOutCount</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to 0.
<!-- lm: 0x2 5 -->
</UL><I>pbOutData</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to null.
<!-- lm: 0x2 5 --><!-- lm: 0x2 1 -->
</UL>DEVESC_ENDDOC<!-- lm: 0x11 5 -->
<UL> Ends
a print job started by DEVESC_STARTDOC.
<P>
This escape is metafiled but not recorded.<!-- lm: 0x2 5 -->
<P>
<I>lInCount</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to 0.<!-- lm: 0x2 5 -->
</UL><I>pbInData</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to null.
<!-- lm: 0x2 5 -->
</UL><I>plOutCount</I><!-- lm: 0x2 22 -->
<UL> Set equal to 2.<!-- lm: 0x2 5 -->
</UL><I>pbOutData</I><!-- lm: 0x2 22 -->
<UL> The buffer contains a USHORT
specifying the job identifier if a spooler print job is created.<!-- lm: 0x2 5 --><!-- lm: 0x2 1 -->
</UL> DEVESC_ABORTDOC
<!-- lm: 0x11 5 -->
<UL>Aborts the current job, erasing everything the application
has written to the device since the last DEVESC_STARTDOC, including the
DEVESC_STARTDOC.
<P>
This escape is metafiled but not recorded.<!-- lm: 0x2 5 -->
<P>
<I>lInCount</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to 0<!-- lm: 0x2 5 -->
</UL><I>pbInData</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to null
<!-- lm: 0x2 5 -->
</UL><I>plOutCount</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to 0
<!-- lm: 0x2 5 -->
</UL><I>pbOutData</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to null.
<!-- lm: 0x2 5 --><!-- lm: 0x2 1 -->
</UL>DEVESC_NEWFRAME<!-- lm: 0x11 5 -->
<UL> Signals
when an application has finished writing to a page and wants to start a
new page. It is similar to GpiErase processing for a screen device context,
and causes a reset of the attributes. This escape is used with a printer
device to advance to a new page.
<P>
This escape is metafiled and recorded.<!-- lm: 0x2 5 -->
<P>
<I>lInCount</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to 0<!-- lm: 0x2 5 -->
</UL><I>pbInData</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to null
<!-- lm: 0x2 5 -->
</UL><I>plOutCount</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to 0
<!-- lm: 0x2 5 -->
</UL><I>pbOutData</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to null.
<!-- lm: 0x2 5 --><!-- lm: 0x2 1 -->
</UL>DEVESC_RAWDATA<!-- lm: 0x11 5 -->
<UL> Allows
an application to send data directly to a presentation driver. For example,
in the case of a printer driver, this could be a printer data stream.
<P>
If DEVESC_RAWDATA is mixed with other data (such as GPI data) being sent
to the same page of a device context, the results are unpredictable and
depend upon the action taken by the presentation driver. For example, a
presentation driver might ignore GPI data if DEVESC_RAWDATA is mixed with
it on the same page. In general, DEVESC_RAWDATA should be sent either to
a separate page (using the DEVESC_NEWFRAME escape to obtain a new page)
or to a separate document (using the DEVESC_STARTDOC and DEVESC_ENDDOC escapes
to create a new document).
<P>
This escape is metafiled and recorded.<!-- lm: 0x2 5 -->
<P>
<I>lInCount</I><!-- lm: 0x2 22 -->
<UL> Number of bytes pointed to by<I> pbInData
</I><!-- lm: 0x2 5 -->
</UL><I>pbInData</I><!-- lm: 0x2 22 -->
<UL> Pointer to the raw data<!-- lm: 0x2 5 -->
</UL><I>plOutCount</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to 0
<!-- lm: 0x2 5 -->
</UL><I>pbOutData</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to null.
<!-- lm: 0x2 5 --><!-- lm: 0x2 1 -->
</UL>DEVESC_QUERYVIOCELLSIZES<!-- lm: 0x11 5 -->
<UL> Returns
the VIO cell sizes supported by the presentation driver.
<P>
This escape is not metafiled or recorded.<!-- lm: 0x2 5 -->
<P>
<I>lInCount</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to 0<!-- lm: 0x2 5 -->
</UL><I> pbInData
</I><!-- lm: 0x2 22 -->
<UL>Not used; can be set to null.<!-- lm: 0x2 5 -->
</UL><I> plOutCount
</I><!-- lm: 0x2 22 -->
<UL>The number of bytes of data pointed to by<I> pbOutData</I>.
It must be an even multiple of the size in bytes of the<A><!-- external link: 1D 23 C8 74 --> LONG
</A>data type. On return, this is updated to the number of bytes returned.
<!-- lm: 0x2 5 -->
</UL><I>pbOutData</I><!-- lm: 0x2 22 -->
<UL> The address
of a buffer, which on return contains a<A><!-- external link: 1D 89 C8 E9 --> VIOSIZECOUNT
</A>structure, immediately followed by<I> count</I> copies of a<A><!-- external link: 1D 88 C8 E8 --> VIOFONTCELLSIZE
</A>structure.
<P>
If<I> plOutCount</I> is less than the size of a<A><!-- external link: 1D 23 C8 74 --> LONG
</A>data type,<I> plOutCount</I> is updated to zero, and nothing is returned
in the buffer pointed to by<I> pbOutData</I>.
<P>
If<I> plOutCount</I> is equal to the size of a<A><!-- external link: 1D 23 C8 74 --> LONG
</A>data type,<I> pbOutData</I> returns the number of VIO cell sizes that
can be returned by this escape. The buffer pointed to by<I> pbOutData</I> is
updated so that<I> maxcount</I> is the number of VIO cell sizes that can
be returned.
<P>
If<I> plOutCount</I> is greater than the size of a<A><!-- external link: 1D 23 C8 74 --> LONG
</A>data type,<I> pbOutData</I> returns the VIO cell sizes that are supported.
The buffer pointed to by<I> pbOutData</I> is updated so that:<!-- lm: 0x2 24 -->
<UL>
<P>
<LI><!-- lm: 0x2 27 --><I>maxcount</I> is the number of VIO cell sizes that
can be returned<!-- lm: 0x2 24 -->
<P>
<LI><!-- lm: 0x2 27 --><I>count</I> is the number of VIO cell sizes returned
(may be zero if<I> plOutCount</I> is equal to twice the size of a<A><!-- external link: 1D 23 C8 74 --> LONG
</A>data type)<!-- lm: 0x2 24 -->
<P>
<LI><!-- lm: 0x2 27 --><I>count</I> copies of a<A><!-- external link: 1D 88 C8 E8 --> VIOFONTCELLSIZE
</A>structure are returned.<!-- lm: 0x2 22 --><!-- lm: 0x2 5 --><!-- lm: 0x2 1 -->
</UL> DEVESC_SETMODE
<!-- lm: 0x11 5 -->
<UL>Sets the printer into a particular mode. It is optional
for printer drivers to support this escape, but those that do support it
need to be aware of the code page of any built-in fonts. For example, if
only code page 437 is built in, it is used if 437 is requested by DEVESC_SETMODE;
however, if code page<!-- entering slot 42 --> 865 is requested, a suitable
code page/font could be downloaded.
<P>
This escape is metafiled and recorded.<!-- lm: 0x2 5 -->
<P>
<I>lInCount</I><!-- lm: 0x2 22 -->
<UL> Number of bytes pointed to by<I> pbInData
</I><!-- lm: 0x2 5 -->
</UL><I>pbInData</I><!-- lm: 0x2 22 -->
<UL> Buffer contains an<A><!-- external link: 1D EF C7 13 --> ESCSETMODE
</A>structure<!-- lm: 0x2 5 -->
</UL><I>plOutCount</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to 0
<!-- lm: 0x2 5 -->
</UL><I>pbOutData</I><!-- lm: 0x2 22 -->
<UL> Not used; can be set to null.
<!-- lm: 0x2 5 --><!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="038_L2H_DevEscapeParameters.html">[Back: DevEscape - Parameters]</A> <BR>
<A HREF="040_L2H_DevEscapeErrors.html">[Next: DevEscape - Errors]</A> 
</BODY>
</HTML>
