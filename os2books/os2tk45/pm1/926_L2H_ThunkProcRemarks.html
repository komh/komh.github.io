<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>ThunkProc - Remarks</TITLE>
</HEAD>
<BODY>
<H1>ThunkProc - Remarks</H1><!-- entering slot 937 -->
<P>
Pointer conversion is normally performed automatically by the operating
system.  An application needs to provide its own pointer-conversion procedures
only for application-defined messages which may be passed from 16-bit code
to 32-bit code.
<P>
A pointer-conversion procedure is associated with a window by the<A><!-- external link: 1D 11 C5 69 --> WinSetWindowThunkProc
</A>and<A><!-- external link: 1D EC C4 68 --> WinSetClassThunkProc</A> functions.

<P>
The logic of the pointer-conversion procedure is as follows:<!-- lm: 0x2 2 -->
<UL>
<P>
 <LI><LI><!-- lm: 0x2 6 -->Convert each message parameter, if necessary.
 This may include converting any data structures to which the parameter
points.<!-- lm: 0x2 2 -->
<P>
 <LI><LI><!-- lm: 0x2 6 -->Call the window procedure referenced by the<I> pWndProc
</I>parameter, supplying as arguments<I> hwnd</I>,<I> usmsg</I>,<I> mpParam1
</I>and<I> mpParam2</I>.<!-- lm: 0x2 2 -->
<P>
 <LI><LI><!-- lm: 0x2 6 -->Collect the return value and, if necessary, convert
it.
<P>
Note that structures to which the return value might point cannot be converted.
<!-- lm: 0x2 2 -->
<P>
 <LI><LI><!-- lm: 0x2 6 -->Convert any structures referenced by message
parameters which might have been modified by the window procedure. Note
that the pointer-conversion procedure should ensure that the original memory
is still available before converting the structures.<!-- lm: 0x2 1 -->
</UL>
<P>
A pointer-conversion procedure should process only those messages that it
recognizes. On receiving unrecognized messages, it should set<I> usmsg</I> to
0.

<P><HR>

<A HREF="925_L2H_ThunkProcParameters.html">[Back: ThunkProc - Parameters]</A> <BR>
<A HREF="927_L2H_ThunkProcTopics.html">[Next: ThunkProc - Topics]</A> 
</BODY>
</HTML>
