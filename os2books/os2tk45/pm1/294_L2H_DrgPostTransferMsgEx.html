<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>DrgPostTransferMsg - Example Code</TITLE>
</HEAD>
<BODY>
<H1>DrgPostTransferMsg - Example Code</H1><!-- entering slot 302 -->
<P>
This example calls the DrgPostTransferMsg function to respond to a<A><!-- external link: 1D CF C5 FC --> DM_RENDER
</A>message from the target. The response consists of a<A><!-- external link: 1D D0 C5 FC --> DM_RENDERCOMPLETE
</A>message, plus a flag indicating whether the render was successful (DMFL_RENDEROK)
or not (DMFL_RENDERFAIL).
<PRE>#define INCL_WINSTDDRAG /* Direct Manipulation (Drag) Functions  */
#include &lt;os2.h&gt;

MPARAM        mp1;      /* Message parameter 1                   */
BOOL          fSuccess; /* Indicate success or failure           */
BOOL          Rendered; /* Success of render operation           */
PDRAGTRANSFER pdxfer;   /* Pointer to DRAGTRANSFER structure     */

case DM_RENDER:
   pdxfer = (PDRAGTRANSFER)PVOIDFROMMP(mp1); /* Get DRAGTRANSFER */
                                             /* structure        */

     /************************************************************/
     /* Attempt to render file                                   */
     /************************************************************/

     if (Rendered)
        {
        fSuccess = DrgPostTransferMsg(pdxfer-&gt;pditem,
                                      DM_RENDERCOMPLETE,
                                      pdxfer,
                                      DMFL_RENDEROK,
                                      0,FALSE);
        return (MRESULT)TRUE;
        }
     else
        {
        fSuccess = DrgPostTransferMsg(pdxfer-&gt;pditem,
                                      DM_RENDERCOMPLETE,
                                      pdxfer,
                                      DMFL_RENDERFAIL,
                                      0,FALSE);
        return (MRESULT)FALSE;
        }
</PRE>


<P><HR>

<A HREF="293_L2H_DrgPostTransferMsgRe.html">[Back: DrgPostTransferMsg - Related Functions]</A> <BR>
<A HREF="295_L2H_DrgPostTransferMsgTo.html">[Next: DrgPostTransferMsg - Topics]</A> 
</BODY>
</HTML>
