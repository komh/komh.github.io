<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>SplCopyJob - Example Code</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>SplCopyJob - Example Code</H1><!-- entering slot 1106 -->
<P>
This sample code will make a duplicate copy of the jobid that is entered
at the  prompt. Presently, there is a restriction that the job can only
be duplicated on the same computer/queue; i.e. a local job.
<PRE>#define INCL_SPL
#include &lt;os2.h&gt;
#include &lt;stdio.h&gt;       /* for printf function */
#include &lt;stdlib.h&gt;      /* for atoi function   */

INT main (argc, argv)
   INT argc;
   CHAR *argv[];
{
   SPLERR splerr ;
   ULONG  ulSrcJob, ulTrgJob ;
   PSZ    pszSrcComputerName,pszTrgComputerName ;
   PSZ    pszSrcQueueName,pszTrgQueueName ;

   if (argc != 2)
   {
      printf("Command is:  copyjob JOBID\n");
      DosExit( EXIT_PROCESS , 0 ) ;
   }
   pszSrcComputerName = (PSZ)NULL ;

   /* The only valid values at present for these three parameters is  NULL    */
   pszSrcQueueName = (PSZ)NULL;
   pszTrgComputerName = (PSZ)NULL ;
   pszTrgQueueName = (PSZ)NULL ;

   /* Convert input parameter to a ULONG                                      */
   ulSrcJob = atoi ( argv[1] );

   if (splerr = SplCopyJob(pszSrcComputerName,pszSrcQueueName,ulSrcJob,
                           pszTrgComputerName,pszTrgQueueName,&amp;ulTrgJob))
   {
      printf("Return code SplCopyJob = %d\n",splerr);
   }
   else
   {
      printf("New job ID is %d\n",ulTrgJob);
   }
   DosExit( EXIT_PROCESS , 0 ) ;
   return (splerr);
}   /* end main */
</PRE>


<P><HR>

<A HREF="1094_L2H_SplCopyJobRelatedFun.html">[Back: SplCopyJob - Related Functions]</A> <BR>
<A HREF="1096_L2H_SplCopyJobTopics.html">[Next: SplCopyJob - Topics]</A> 
</BODY>
</HTML>
