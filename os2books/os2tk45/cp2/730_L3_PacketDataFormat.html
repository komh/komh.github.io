<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Packet Data Format</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Packet Data Format</H1><!-- entering slot 743 -->
<P>
All multibyte items are presumed to appear in little-endian order. Thus,
the checksum computed for the header 00009540 0000 is 0x57ac; when stored
in the header the low order byte (0xac) appears first.
<P>
The header length field contains the number of bytes of data in the packet
body before the packet body is bitstuffed.  If the header length field is
zero, there is no packet body.  If a packet body is present, it includes
a 2-byte checksum that is<B> not</B> accounted for in the header length
field.  For example, if the header length field is 0x12, there are actually
20 bytes in the unbitstuffed packet body.
<P>
The logical ID field takes one of the following forms (sequence numbers
are one byte long):
<PRE>CVK_HDR_DATA - 0x8000                          |
               0x4000 if "flast" flag is set   |
              ((index number &amp; 0x3f) &lt;&lt; 8) |
               sequence number

CVK_HDR_ACK - (0x4000 | ((index number &amp; 0x3f) &lt;&lt; 8) | sequence number) &lt;&lt; 16

CVK_HDR_NACK- (0xc000 | ((index number &amp; 0x3f) &lt;&lt; 8) | sequence number) &lt;&lt; 16
</PRE>

<P>


<P><HR>

<A HREF="729_L3_PacketHeaderFormat.html">[Back: Packet Header Format]</A> <BR>
<A HREF="731_L3_MaximumPacketSize.html">[Next: Maximum Packet Size]</A> 
</BODY>
</HTML>
