<HTML>
<HEAD>
<TITLE>Determining the Handle Type</TITLE>
</HEAD>
<BODY>
<H1>Determining the Handle Type</H1><!-- entering slot 944 -->
<P>
<A><!-- external link: 1D C5 C3 35 -->DosQueryHType</A> enables an application
to determine whether a handle is to a file, a pipe, or a device. This function
can be used when a file-oriented application needs to modify its behavior,
depending on the source of its input. For example, CMD.EXE suppresses writing
prompts when its input is from a disk file.
<P>

<P>
The following code fragment determines whether a given file handle refers
to a file or a device. Assume that the desired file handle has been placed
into<I> FileHandle</I> already.
<PRE>    #define INCL_DOSFILEMGR   /* File system values                 */
    #include &lt;os2.h&gt;
    #include &lt;stdio.h&gt;

    HFILE   hfFileHandle;    /* File handle                        */
    ULONG   ulHandType;      /* Handle type (returned)             */
    ULONG   ulFlagWord;      /* Device driver attribute (returned) */
    APIRET  ulrc;            /* Return code                        */

    ulrc = DosQueryHType(hfFileHandle,
                         &amp;ulHandType,
                         &amp;ulFlagWord);

    if (ulrc != 0) {
        printf("DosQueryHType error: return code = %ld",
               ulrc);
        return;
    }

</PRE>

<P>
In the preceding example,<A><!-- external link: 1D C5 C3 35 --> DosQueryHType
</A>returns a value that characterizes the type of file handle, and the
associated device driver attribute word, if the handle type indicates that
the file handle is associated with a local character device.

<P><HR>

<A HREF="920_L3_DeterminingandSettin.html">[Back: Determining and Setting the State of a File or Device Handle]</A> <BR>
<A HREF="922_L3_SearchingforFiles.html">[Next: Searching for Files]</A> 
</BODY>
</HTML>
