<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>SMH_REPORTEVENT - Example Code</TITLE>
</HEAD>
<BODY>
<H1>SMH_REPORTEVENT - Example Code</H1><!-- entering slot 614 -->
<P>
The following code illustrates how to report events or sync pulses to the
Sync/Stream Manager.
<PRE>#include        "os2.h"
#include        "os2me.h"

  ULONG         ulRC;               /* Error return code.              * /
  HID           hidSource;          /* Source handler ID.              */
  TIME_EVCB     timeevcb;           /* Cue point event control block.  */
  HEVENT        hevent;             /* Time event handle.              */
  HSTREAM       hstream;            /* Stream handle.                  */
  HID           hid;                /* Handler ID.                     */
  PARM_EVENT    parm_event;         /* Report event parameter block.   */
  MMTIME        mmtimeCurrent;      /* Current stream time.            */
  PSMHFN        SMHEntryPoint;      /* Pointer to SMH entry point.     */

/*----------------------------------------------------------------------*/
/*  Report an event.                                                    */
/*----------------------------------------------------------------------*/
  parm_event.ulFunction = SMH_REPORTEVENT;     /* Set function.         */
  parm_event.hid = hidSource;                  /* Source handler ID.    */
  parm_event.hevent = hevent;                  /* Event handle.         */
  parm_event.pevcbEvent = (PEVCB) &amp;timeevcb;   /* Pointer to Time EVCB. */

  timeevcb.ulType = EVENT_CUE_TIME;            /* Set event type.       */
  timeevcb.hstream = hstream;                  /* Set stream handle.    */
  timeevcb.hid = hid;                          /* Set handler ID.       */
  timeevcb.ulStatus = 0;                       /* No status.            */
  timeevcb.mmtimeStream = mmtimeCurrent;       /* Set current time.     */

  if (ulRC = SMHEntryPoint (&amp;parm_event))
     return(ulRC);                               /* Error! */
</PRE>


<P><HR>

<A HREF="612_L2H_SMH_REPORTEVENTRemar.html">[Back: SMH_REPORTEVENT - Remarks]</A> <BR>
<A HREF="614_L2H_SMH_REPORTEVENTTopic.html">[Next: SMH_REPORTEVENT - Topics]</A> 
</BODY>
</HTML>
