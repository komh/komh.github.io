<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DDCMD Messages</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DDCMD Messages</H1><!-- entering slot 616 -->
<P>
The device driver commands are an interface used by a stream handler to
communicate with a physical device driver.  This interface uses the inter-device
driver communication (IDC) mechanism provided by OS/2 AttachDD DevHelp.
 The stream handler must attach to the device driver using AttachDD DevHelp
to receive the DDCMD entry point address of the device driver.  This must
be done prior to issuing any DDCMDs.  Some device drivers also might require
that a DosOpen call be used to open the device driver before it can be used
through the AttachDD entry point.
<P>
The DDCMDs are provided through a single entry point, <A HREF="616_L2_DDCMDEntryPoint.html">DDCMDEntryPoint</A>,
which accepts a parameter structure on input.
<PRE> typedef ULONG (FAR*PSHDFN)        (PVOID pParmIn);
 typedef ULONG (FAR*PDDCMDFN)      (PVOID pParmIn);
</PRE>

<P>
For the Ring 3 DLL interface, all pointers are 0:32 linear; for Ring 0 stream
handlers all pointers are 16:16 far pointers to enable the 16-bit device
driver model to be used. The following list contains the message numbers
for all DDCMDs.  It should be used in the<I> ulFunction</I> field, of the
parameter structure passed on the call, to indicate which function is being
requested by the stream handler.
<PRE>┌────────┬──────────────────────────┬──────────────────────────┐
│Message │Message                   │Description               │
│Number  │                          │                          │
├────────┼──────────────────────────┼──────────────────────────┤
│4L      │<A HREF="623_L2_DDCMD_CONTROL.html">DDCMD_CONTROL</A>             │Performs a device-specific│
│        │                          │command.                  │
├────────┼──────────────────────────┼──────────────────────────┤
│6L      │<A HREF="630_L2_DDCMD_DEREG_STREAM.html">DDCMD_DEREG_STREAM</A>        │Removes a stream instance │
│        │                          │from a device driver.     │
├────────┼──────────────────────────┼──────────────────────────┤
│1L      │<A HREF="637_L2_DDCMD_READ.html">DDCMD_READ</A>                │Performs a read from the  │
│        │                          │device into a buffer.     │
├────────┼──────────────────────────┼──────────────────────────┤
│5L      │<A HREF="644_L2_DDCMD_REG_STREAM.html">DDCMD_REG_STREAM</A>          │Registers a stream        │
│        │                          │instance with a device    │
│        │                          │driver.                   │
├────────┼──────────────────────────┼──────────────────────────┤
│0L      │<A HREF="651_L2_DDCMD_SETUP.html">DDCMD_SETUP</A>               │Performs a device-specific│
│        │                          │stream instance setup.    │
├────────┼──────────────────────────┼──────────────────────────┤
│3L      │<A HREF="658_L2_DDCMD_STATUS.html">DDCMD_STATUS</A>              │Requests status from the  │
│        │                          │device.                   │
├────────┼──────────────────────────┼──────────────────────────┤
│2L      │<A HREF="665_L2_DDCMD_WRITE.html">DDCMD_WRITE</A>               │Performs a write from a   │
│        │                          │buffer to the device.     │
└────────┴──────────────────────────┴──────────────────────────┘
</PRE>


<P><HR>

<A HREF="614_L2H_SMH_REPORTEVENTTopic.html">[Back: SMH_REPORTEVENT - Topics]</A> <BR>
<A HREF="616_L2_DDCMDEntryPoint.html">[Next: DDCMDEntryPoint]</A> 
</BODY>
</HTML>
