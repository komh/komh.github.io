<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Programmatic interface to the Implementation Repository</TITLE>
</HEAD>
<BODY>
<H1>Programmatic interface to the Implementation Repository</H1><!-- entering slot 315 -->
<P>
The Implementation Repository can be accessed and updated dynamically using
the programmatic interface provided by the<B> ImplRepository</B> class (defined
in "implrep.idl"). The global variable<B> SOMD_ImplRepObject</B> is initialized
by<B> SOMD_Init</B> to point to the<B> ImplRepositor</B> object. The following
methods are defined on it:<!-- lm: 0x2 6 -->
<UL>
<P>

<PRE>void  <B>add_impldef</B> (in ImplementationDef impldef)
</PRE>

<P>
Adds an implementation definition to the Implementation Repository. (Note:
The value of the "impl_id" attribute is ignored. A unique<B> ImplId</B> will
be generated for the newly added<B> ImplementationDef.)</B><!-- lm: 0x2 6 -->
<P>

<PRE>void <B> delete_impldef</B> (in ImplId implid);
</PRE>

<P>
Deletes an implementation definition from the Implementation Repository.
<!-- lm: 0x2 6 -->
<P>

<PRE>void <B>update_impldef</B>(in ImplementationDef impldef);
</PRE>

<P>
Updates the implementation definition (defined by the "impl_id" of the supplied
<B>implementationDef</B>) in the Implementation Repository.<!-- lm: 0x2 6 -->
<P>

<PRE>ImplementationDef<B> find_impldef</B>(in ImplId implid);</PRE>
 
<P>
Returns a server implementation definition given its ID.<!-- lm: 0x2 6 -->
<P>

<PRE>ImplementationDef<B> find_impldef_by_alias</B>(in string alias_name);
</PRE>

<P>
Returns a server implementation definition, given its user-friendly alias.
<!-- lm: 0x2 6 -->
<P>

<PRE>sequence&lt;ImplementationDef&gt;<B>  find_impldef_by_class </B>
                                            (in string classname)</PRE>

<P>
Returns a sequence of<B> ImplementationDefs</B> for those servers that have
an association with the specified class. Typically, a server is associated
with the classes it knows how to implement, by registering its known classes
via the<B> add_class_to_impldef</B> method.
<PRE>ORBStatus <B> find_all_impldefs </B> (out sequence&lt;ImplementationDef&gt; outimpldefs);</PRE>
 
<P>
Retrieves all<B> ImplementationDef</B> objects in the Implementation Repository.
<!-- lm: 0x2 1 -->
</UL>
<P>
The following methods maintain an association between server implementations
and the names of the classes they implement. These methods effectively maintain
a mapping of &lt;className, Implid&gt;.<!-- lm: 0x2 6 -->
<UL>
<P>

<PRE>void<B> add_class_to_impldef</B> (in ImplId implid,                            in string classname);</PRE>

<P>
Associates a class, identified by name, with a server, identified by its
<B>ImplId.</B> This type of association is used to lookup server implementations
via the<B> find_impldef_by_class</B> method.<!-- lm: 0x2 6 -->
<P>

<PRE>void<B>  remove_class_from_impldef</B> (
                             in ImplId implid,
                             in string classname);</PRE>

<P>
Removes the association of a particular class with a server.<!-- lm: 0x2 6 -->
<P>

<PRE>void <B>remove_class_from_all</B> (

                              in   string   classname ) ;</PRE>
 
<P>
Removes the association of a particular class from all server implementations
in the Implementation Repository.<!-- lm: 0x2 6 -->
<P>

<PRE>sequence&lt;string&gt;<B>  find_classes_by_impldef</B>
                              (in ImplId implid);</PRE>
 
<P>
Returns a sequence of class names associated with a server.<!-- lm: 0x2 1 -->
</UL>
<P>
With the<B> ImplRepository</B> programmatic interface, it is possible for
an application to define additional server implementations at run time.


<P><HR>

<A HREF="273_L4_Registrationstepsusi.html">[Back: Registration steps using 'pregimpl' or 'wregimpl']</A> <BR>
<A HREF="275_L3_Thedsomservermanager.html">[Next: The 'dsom' server manager utility]</A> 
</BODY>
</HTML>
