<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Creating an object in a specific server</TITLE>
</HEAD>
<BODY>
<H1>Creating an object in a specific server</H1><!-- entering slot 249 -->
<P>
The following example demonstrates how a client application creates a new
object<I> in a remote server chosen by the client</I>. The DSOM Object Manager
method<B> somdFindServerByName</B> is used to find and create a proxy to
the server object for the server implementation named "myCarServer". The
method<B> somdCreateObj</B> is then invoked on the server object to create
the remote "Car". A proxy to the remote "Car" is returned. (The "Stack"
client presented in the previous section used the same methods to create
a remote "Stack".)
<PRE> /* find a specific Car server */
    server =
      _somdFindServerByName(SOMD_ObjectMgr, &amp;ev, "myCarSe           rver");

 /* create a remote Car object on that server */
    car = _somdCreateObj(server, &amp;ev, "Car", "");
    ...
}
</PRE>

<P>
<B>Note: </B> If the specified server does<I> not</I> provide any implementation
of the desired class, a NULL pointer will be returned and a "ClassNotFound"
exception will be raised.<!-- lm: 0x2 1 -->
<UL>
<P>

<P>
Three other methods can be invoked on the DSOM Object Manager to find server
implementations:<B> somdFindServer</B>,<B> somdFindServersByClass</B>, and
<B>somdFindAnyServerByClass</B>. The IDL declarations of these methods follow:

<PRE>
SOMDServer <B>somdFindServer</B>(in ImplId serverid);

sequence&lt;SOMDServer&gt; <B>somdFindServersByClass</B>(in Identifier objclass);

SOMDServer <B>somdFindAnyServerByClass</B>(in Identifier objclass);

</PRE>

<P>
The<B> somdFindServer</B> method is similar to the<B> somdFindServerByName
</B>method, except that the server's<I> implementation ID</I> (of type<B> ImplId</B>)
is used to identify the server instead of the server's user-friendly name
(or "alias"). The implementation ID is a unique string generated by the
Implementation Repository during server registration. (See section 6.6 for
more details.)
<P>
The<B> somdFindServersByClass</B> method, given a class name, returns a
sequence of<I> all</I> servers that support the given class. The client
program may then choose which server to use, based on the server's name,
program, or other implementation attributes (e.g., the server is multi-threaded).
(See the topic below, "Inquiring about a remote object's implementation.")

<P>
Finally, the<B> somdFindAnyServerByClass</B> method simply selects any one
of the server implementations registered in the Implementation Repository
that supports the given class, and returns a server proxy for that server.

<P>
Once the server proxy is obtained, methods like<B> somdCreateObj</B>, shown
in the example above, can be invoked upon it to create new objects.

<P><HR>

<A HREF="211_L4_Serversandserverobje.html">[Back: Servers and server objects]</A> <BR>
<A HREF="213_L4_Inquiringaboutaremot.html">[Next: Inquiring about a remote object's implementation]</A> 
</BODY>
</HTML>
