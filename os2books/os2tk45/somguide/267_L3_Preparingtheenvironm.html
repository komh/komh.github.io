<HTML>
<HEAD>
<TITLE>Preparing the environment</TITLE>
</HEAD>
<BODY>
<H1>Preparing the environment</H1><!-- entering slot 306 -->
<P>
Some environment variables must be defined before running DSOM. Unless noted,
these environment variables are required in both the AIX and OS/2 environments.
<!-- lm: 0x2 1 -->
<UL>
<P>
HOSTNAME=&lt;name&gt;<!-- lm: 0x2 35 -->
<UL> Each machine that is running
DSOM must have its HOSTNAME variable set.<!-- lm: 0x2 1 -->
</UL> USER=&lt;name&gt;
<!-- lm: 0x2 35 -->
<UL>USER specifies the name of the DSOM user running
a client program.<!-- lm: 0x2 1 -->
</UL> SOMIR=&lt;file(s)&gt;<!-- lm: 0x2 35 -->
<UL> SOMIR
specifies a list of files (separated by a colon on AIX and a semicolon on
OS/2) which together make up the Interface Repository. See Chapter 7, "The
Interface Repository Framework," for more information on how to set this
variable.
<P>
<B>Note: </B> For DSOM, it is preferable to use full pathnames in the list
of IR files, since the IR will be shared by several programs that may not
all be started in the same directory.<!-- lm: 0x2 35 --><!-- lm: 0x2 1 -->
</UL> SOMSOCKETS=&lt;name&gt;
<!-- lm: 0x2 35 -->
<UL>SOMSOCKETS specifies the name of the SOM<B> Sockets
</B>subclass that implements the sockets services.
<P>
<B>Note: </B> For Workstation DSOM, this variable is effectively ignored.
(However, it may be used by the Event Management Framework.)<!-- lm: 0x2 35 --><!-- lm: 0x2 1 -->
</UL> SOMDDIR=&lt;directory&gt;
<!-- lm: 0x2 35 -->
<UL>SOMDDIR specifies the directory where various DSOM
files should be located, including the Implementation Repository files.
See the later section in this chapter entitled "Registering servers and
classes" for more information.
<P>
<B>Note: </B> If this value is not set, DSOM will attempt to use a default
directory: $SOMBASE/etc/dsom on AIX, and %SOMBASE%\ETC\DSOM on OS/2.<!-- lm: 0x2 35 --><!-- lm: 0x2 1 -->
</UL> SOMDPORT=&lt;integer&gt;
<!-- lm: 0x2 35 -->
<UL>In DSOM, servers, clients and DSOM daemons communicate
with each other using a "sockets" abstraction. In particular DSOM clients
establish connections to DSOM servers by communicating with the DSOM daemon,
<B>somdd</B>, running on each server machine. The daemon is designed to
listen for client requests on a well-known port.
<P>
Normally,<B> somdd</B> will look in the /etc/services (for AIX) or %ETC%\SERVICES
(for OS/2) file for its well-known port number. However, if the user has
set the SOMDPORT environment variable, the value of SOMDPORT will be used
and the "services" file will not be consulted. The user should pick a 16-bit
integer that is not likely to be in use by another application (check the
"services" file for ports reserved for use on your machine). Typically,
values below 1024 are reserved and should not  be used.
<P>
<B>Note: </B> If there is no "services" file and the SOMDPORT environment
variable is not set, DSOM will use a default port number (currently 9393).
<!-- lm: 0x2 35 --><!-- lm: 0x2 1 -->
</UL>SOMDTIMEOUT=&lt;integer&gt;<!-- lm: 0x2 35 -->
<UL> SOMDTIMEOUT
specifies how long a receiver should wait for a message. The value should
be expressed in seconds. The default value is 600 seconds (10 minutes).
<!-- lm: 0x2 1 -->
</UL>SOMDDEBUG=&lt;integer&gt;<!-- lm: 0x2 35 -->
<UL> SOMDDEBUG
may optionally be set to enable DSOM run-time error messages. If set to
0, error reporting is disabled. If set to 1, error reporting is enabled.
Error reports may be directed to the file named by SOMDMESSAGELOG, if set.
<!-- lm: 0x2 1 -->
</UL>SOMDMESSAGELOG=&lt;file&gt;<!-- lm: 0x2 35 -->
<UL> SOMDMESSAGELOG
may optionally be set to the name of a file where DSOM run-time error messages
are recorded. If not set, error messages will be reported on the standard
output device.
<P>
<!-- lm: 0x2 1 -->
</UL>SOMDNUMTHREADS=&lt;integer&gt;<!-- lm: 0x2 35 -->
<UL> SOMDNUMTHREADS
may optionally be set to the maximum number of requests threads created
per server.  If SOMDNUMTHREADS is not set, then a separate thread will be
created for each request. This environment variable is only supported on
OS/2.<!-- lm: 0x2 1 -->
</UL>
<P>
Note: You may want to verify your environment variable settings by running
<B>somdchk</B>. See "Verifying the DSOM environment with 'somdchk' later
in this chapter.

<P><HR>

<A HREF="266_L2_ConfiguringDSOMAppli.html">[Back: Configuring DSOM Applications]</A> <BR>
<A HREF="268_L3_Registeringclassinte.html">[Next: Registering class interfaces]</A> 
</BODY>
</HTML>
