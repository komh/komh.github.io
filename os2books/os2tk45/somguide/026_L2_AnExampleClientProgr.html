<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>An Example Client Program</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>An Example Client Program</H1><!-- entering slot 35 -->
<P>
Following is a C program that uses the class "Hello" (as defined in the
Tutorial in Chapter 2). The "Hello" class provides one attribute, "msg",
of type string, and one method, "sayHello". The "sayHello" method simply
displays the value of the "msg" attribute of the object on which the method
is invoked.
<PRE>   #include &lt;hello.h&gt;  /* include the header file for Hello */

   int main(int argc, char *argv[])
   {
       /* declare a variable (obj) that is a
        * pointer to an instance of the Hello class: */
       Hello obj;

       /* create an instance of the Hello class
        * and store a pointer to it in obj: */
       obj = HelloNew();

       /* invoke method _set_msg on obj with the argument
        * "Hello World Again". This method sets the value of
        * obj's 'msg' attribute to the specified string.
        */
        __set_msg(obj, somGetGlobalEnvironment(), "Hello World Again");

        /* invoke method sayHello on obj. This method prints
         * the value of obj's 'msg' attribute.  */
        _sayHello(obj, somGetGlobalEnvironment());

        _somFree(obj);
        return(0);
   }
</PRE>

<P>
The C++ version of the foregoing client program is shown below:
<PRE>   #include &lt;hello.xh&gt;  /* include the header file for Hello */

   int main(int argc, char *argv[])
   {
       /* declare a variable (obj) that is a
        * pointer to an instance of the Hello class: */
       Hello *obj;

       /* create an instance of the Hello class
        * and store a pointer to it in obj: */
       obj = new Hello;

      /* invoke method _set_msg on obj with the argument
       * "Hello World Again". This method sets the value of
       * obj's 'msg' attribute to the specified string.  */
      obj-&gt;_set_msg(somGetGlobalEnvironment(), "Hello World Again");

      /* invoke method sayHello on obj. This method prints
       * the value of obj's 'msg' attribute.  */
      obj-&gt;sayHello(somGetGlobalEnvironment());

      obj-&gt;somFree();
      return(0);
   }
</PRE>

<P>
These client programs both produce the output:
<PRE>Hello World Again
</PRE>


<P><HR>

<A HREF="025_L1_UsingSOMClassesinCli.html">[Back: Using SOM Classes in Client Programs]</A> <BR>
<A HREF="027_L2_UsingSOMClassestheBa.html">[Next: Using SOM Classes: the Basics]</A> 
</BODY>
</HTML>
