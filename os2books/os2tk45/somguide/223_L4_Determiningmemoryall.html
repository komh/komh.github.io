<HTML>
<HEAD>
<TITLE>Determining memory allocation and ownership</TITLE>
</HEAD>
<BODY>
<H1>Determining memory allocation and ownership</H1><!-- entering slot 260 -->
<P>
When a method is invoked that returns a result of type<B> string, sequence,
</B>or<B> array,</B> DSOM will allocate memory in the client's address space
for the result. Ownership of this memory becomes the responsibility of the
client program. When the client program has finished using it, the client
should free the memory using the<B> ORBfree</B> function, rather than using
<B>free</B> or<B> SOMFree</B> (This is because the memory has been allocated
by DSOM using special memory management techniques; therefore, the client
should ask DSOM to also free the memory.)
<P>
When invoking a method using DSOM, the client program is  responsible for
providing storage for all<B> in</B> arguments and for all<B> inout/out</B> arguments,
with the following exceptions: DSOM will allocate storage for a<B> string
</B>or for the<B> _buffer</B> field of a<B> sequence</B> when used as an
<B>out</B> argument, and will allocate storage for the<B>_value</B> field
of an<B> any</B> when used as an<B> inout</B> or<B> out</B> argument. This
storage becomes the responsibility of the client program and should later
be freed using<B> ORBfree.</B> For a<B> string</B> or<B> sequence</B> used
as an<B> inout</B> argument, the<B> out</B> result is constrained to be
no larger than the size of the<B> in</B> argument allocated by the client.


<P><HR>

<A HREF="222_L3_Invokingmethodsonrem.html">[Back: Invoking methods on remote objects]</A> <BR>
<A HREF="224_L3_Passingobjectreferen.html">[Next: Passing object references in method calls]</A> 
</BODY>
</HTML>
