<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Basic Steps for Implementing SOM Classes</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Basic Steps for Implementing SOM Classes</H1><!-- entering slot 23 -->
<P>
Implementing and using SOM classes in C or C++ involves the following steps,
which are explicitly illustrated in the examples of this tutorial:<!-- lm: 0x2 2 -->
<UL>
<P>
 <LI><LI><!-- lm: 0x2 6 -->Define the interface to objects of the new class
(that is, the interface declaration), by creating a .idl file.<!-- lm: 0x2 2 -->
<P>
 <LI><LI><!-- lm: 0x2 6 -->Run the SOM Compiler on the .idl file (by issuing
the<B> sc</B> command on AIX or OS/2, or by issuing the<B> somc</B> command
on Windows) to produce the following binding files:<!-- lm: 0x2 8 -->
<UL>
<P>
<LI><!-- lm: 0x2 11 -->Template implementation file
<BR>
a<B> .c</B> file for C programmers, or
<BR>
a<B> .C</B> file (on AIX) or a<B> .cpp</B> file (on OS/2 or Windows) for
C++ programmers;<!-- lm: 0x2 8 -->
<P>
<LI><!-- lm: 0x2 11 -->Header file to be included in the implementation
file
<BR>
a<B> .ih</B> file for C programmers, or
<BR>
a<B> .xih</B> file for C++ programmers; and<!-- lm: 0x2 8 -->
<P>
<LI><!-- lm: 0x2 11 -->Header file to be included in client programs that
use the class
<BR>
a<B> .h</B> file for C clients, or
<BR>
a<B> .xh</B> file for C++ clients.<!-- lm: 0x2 6 -->
</UL> To specify whether
the SOM Compiler should produce C or C++ bindings, set the value of the
SMEMIT environment variable or use the "<B>-s"</B> option of the<B> sc</B> or
<B>somc</B> command, as described in Section 4.3, "The SOM Compiler." By
default, the SOM Compiler produces C bindings.<!-- lm: 0x2 2 -->
</UL>  3.<!-- lm: 0x2 6 -->
<UL>Customize
the implementation, by adding code to the template implementation file.
<!-- lm: 0x2 2 -->
</UL> 4.<!-- lm: 0x2 6 -->
<UL>Create a client program
that uses the class.<!-- lm: 0x2 2 -->
</UL>  5.<!-- lm: 0x2 6 -->
<UL>Compile
and link the client code with the class implementation, using a C or C++
compiler.<!-- lm: 0x2 2 -->
</UL>  6.<!-- lm: 0x2 6 -->
<UL>Execute the
client program.<!-- lm: 0x2 1 -->
</UL>
<P>
The following examples illustrate appropriate syntax for defining interface
declarations in a .idl file, including designating the methods that the
class's instances will perform.  In addition, example template implementation
files contain typical code that the SOM Compiler produces. Explanations
accompanying each example discuss topics that are significant to the particular
example; full explanations of the SOM IDL syntax are contained in Chapter
4, "SOM IDL and the SOM Compiler." Customization of each implementation
file (step 3) is illustrated in C and C++.
<P>
<B>Note: </B><!-- lm: 0x2 2 -->
<UL>
<P>
 <LI><LI><!-- lm: 0x2 6 -->The Tutorial assumes you will work through the
examples in order. If you do not do so, the code that the SOM Compiler generates
from your revised .idl file may vary slightly from what you see in the Tutorial.
<!-- lm: 0x2 2 -->
<P>
 <LI><LI><!-- lm: 0x2 6 -->When the SOMobjects Toolkit is installed, a choice
is made between "somcorba" and "somstars" for the style of C bindings the
SOM Compiler will generate.  The Tutorial examples use the "somcorba" style,
where an interface name used as a type indicates a pointer to an object,
as required by strict CORBA bindings.  Consequently, as the examples show,
a "*" does not explicitly appear for types that are pointers to objects.
 If your system was installed for "somstars" C bindings, you can set the
environment variable SMADDSTAR=1 or use the SOM Compiler option "-maddstar"
to request bindings that use explicit pointer stars. For more information,
see "Declaring object variables" in Chapter 3, "Using SOM Classes in Client
Programs" and "Object types" in Chapter 4, "SOM IDL and the SOM Compiler."
<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="017_L3_DevelopmentoftheTuto.html">[Back: Development of the Tutorial examples]</A> <BR>
<A HREF="019_L3_Example1Implementing.html">[Next: Example 1-Implementing a Simple Class with One Method]</A> 
</BODY>
</HTML>
