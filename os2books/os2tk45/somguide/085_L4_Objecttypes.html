<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Object types</TITLE>
</HEAD>
<BODY>
<H1>Object types</H1><!-- entering slot 103 -->
<P>
The name of the interface to a class of objects can be used as a type. For
example, if an IDL specification includes an<B> interface</B> declaration
(described below) for a class (of objects)  "C1", then "C1" can be used
as a type name within that IDL specification. When used as a type, an interface
name indicates a pointer to an object that supports that interface. An interface
name can be used as the type of a method argument, as a method return type,
or as the type of a member of a constructed type (a<B> struct, union</B>,
or<B> enum</B>). In all cases, the use of an interface name implicitly indicates
a pointer to an object that supports that interface.
<P>
As explained in <A HREF="025_L1_UsingSOMClassesinCli.html">Using SOM Classes
in Client Programs</A>, SOM's C usage bindings for SOM classes also follow
this convention.  However, within SOM's C++ bindings, the pointer is made
explicit, and the use of an interface name as a type refers to a class instance
itself, rather than a pointer to a class instance. For example, to declare
a variable "myobj" that is a pointer to an instance of class "Foo" in an
IDL specification and in a C program, the following declaration is required:

<PRE>   Foo myobj;
</PRE>

<P>
However, in a C++ program, the following declaration is required:
<PRE>   Foo *myobj;
</PRE>

<P>
If a C programmer uses the SOM Compiler option<B> -maddstar,</B> then the
bindings generated for C will also require an explicit '*' in declarations.
Thus,<!-- lm: 0x2 1 -->
<UL>
<P>
Foo myobj;<!-- lm: 0x2 26 -->
<UL> in IDL requires<!-- lm: 0x2 1 -->
</UL> Foo
*myobj;<!-- lm: 0x2 26 -->
<UL> in both C and C++ programs<!-- lm: 0x2 1 -->
</UL>
<P>
This style of bindings for C is permitted for two reasons:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->It more closely resembles the bindings for C++, thus
making it easier to change to the C++ bindings at a later date; and<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->It is required for compatibility with existing SOM
OIDL code.<!-- lm: 0x2 1 -->
</UL>
<P>
Note: The same C and C++ binding emitters should<I> not</I> be run in the
same SOM Compiler command. For example,
<PRE>   sc "-sh;xh" cls.idl    // Not valid.</PRE>

<P>
If you wish to generate both C and C++ bindings, you should issue the commands
separately:
<PRE>   sc -sh cls.idl
   sc -sxh cls.idl
</PRE>


<P><HR>

<A HREF="084_L4_Pointers.html">[Back: Pointers]</A> <BR>
<A HREF="086_L3_Exceptiondeclaration.html">[Next: Exception declarations]</A> 
</BODY>
</HTML>
