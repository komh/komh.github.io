<HTML>
<HEAD>
<TITLE>Compiling and linking</TITLE>
</HEAD>
<BODY>
<H1>Compiling and linking</H1><!-- entering slot 178 -->
<P>
After you fill in the method stub procedures, the implementation template
file can be compiled and linked with a client program as follows. (In these
examples, the environment variable SOMBASE represents the directory in which
SOM has been installed.)
<P>
Note: If you are building an application that uses a combination of C and
C++ compiled object modules, then the C++ linker must be used to link them.

<P>
<U><I>For AIX</I></U><B>:</B>  When the client program (main.c) and the
implementation file (hello.c) are written in C:
<PRE>   &gt; xlc -I. -I$SOMBASE/include -o hello main.c hello.c -L$SOMBASE/lib -lsomtk
</PRE>

<P>
When the client program and the implementation file are written in C++:

<PRE>   &gt; xlC -I. -I$SOMBASE/include -o hello main.C hello.C -L$SOMBASE/lib -lsomtk
</PRE>

<P>
<U><I>For OS/2</I></U><B>:</B>  When the client program (main.c) and the
implementation file (hello.c) are in C:
<PRE>   &gt; set LIB=%SOMBASE%\lib;%LIB%
   &gt; icc -I. -I%SOMBASE%\include -Fe hello main.c hello.c somtk.lib
</PRE>

<P>
When the client program and the implementation file are written in C++:

<PRE>   &gt; set LIB=%SOMBASE%\lib;%LIB%
   &gt; icc -I. -I%SOMBASE%\include -Fe hello main.cpp hello.cpp somtk.lib
</PRE>

<P>
If the class definition (in the .idl file) changes, run the SOM Compiler
again. This will generate new header files, and it will update the implementation
file to include any:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->New comments,<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->Stub procedures for any new methods, and<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->Revised method procedure prototypes for methods whose
signatures have been changed in the .idl file.<!-- lm: 0x2 1 -->
</UL>
<P>
After rerunning the SOM Compiler, add to the implementation file the code
for any newly added method procedures, and recompile the implementation
file with the client program.

<P><HR>

<A HREF="146_L4_Ifyouchangetheparent.html">[Back: If you change the parents of a class...]</A> <BR>
<A HREF="148_L2_InitializingandUnini.html">[Next: Initializing and Uninitializing Objects]</A> 
</BODY>
</HTML>
