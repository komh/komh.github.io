<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Server activation</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Server activation</H1><!-- entering slot 273 -->
<P>
Server programs may be activated either<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 --><I>Automatically</I> by the DSOM daemon, somdd, or
<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>Manually</I> via command line invocation, or under
application control.<!-- lm: 0x2 1 -->
</UL>
<P>
When a server is activated automatically by somdd, it will be passed a single
argument (in argv[1]) that is the<I> implementation ID</I> assigned to the
server implementation when it was registered into the Implementation Repository
(discussed above and in section 6.6, "Configuring DSOM Applications"). This
is useful when the server program cannot know until activation which "logical"
server it is implementing. (This is true for the generic server provided
with DSOM.) The implementation ID is used by the server to retrieve its
<B>ImplementationDef</B> from the Implementation Repository.
<P>
A server that is not activated by<B> somdd</B> may obtain its<B> ImplementationDef
</B>from the Implementation Repository in any manner that is convenient:
by ID, by alias, and so forth. Moreover, a server may choose to "register
itself" dynamically, as part of its initialization. To do so, the server
would use the programmatic interface to the Implementation Repository.
<P>
For example, suppose that the server program "myserver" was designed so
that it could be activated either automatically or manually. This requires
that it be written to expect the implementation ID as its first argument,
and to use that argument to retrieve its ImplementationDef from the Implementation
Repository. If an application defines a server in the Implementation Repository
whose implementation ID is
<PRE>2bcdc4f2-0f62f780-7f-00-10005aa8afdc</PRE>
then "myserver" could be run as that server by invoking the following command:

<PRE>myserver 2bcdc4f2-0f62f780-7f-00-10005aa8afdc</PRE>

<P>
AIX users should be aware that, unless the SetUserID mode bit is set on
the file containing the server program, the UID for the server process will
be inherited from the<B> somdd</B> process. To set the SetUserID mode bit
from the AIX command line, type one of the following commands:
<PRE>chmod 4000 &lt;filename&gt;     - or -
chmod u+s &lt;filename&gt;
</PRE>

<P>
where "&lt;filename&gt;" denotes the name of the file containing the server
program. For additional details, see the "chmod" command in InfoExplorer
or consult the "man" pages.

<P><HR>

<A HREF="235_L4_Serverobject.html">[Back: Server object]</A> <BR>
<A HREF="237_L3_Initializingaserverp.html">[Next: Initializing a server program]</A> 
</BODY>
</HTML>
