<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>The Environment</TITLE>
</HEAD>
<BODY>
<H1>The Environment</H1><!-- entering slot 80 -->
<P>
The<B> Environment</B> is a data structure that contains environmental information
that can be passed between a caller and a called object when a method is
executed. For example, it is used to pass information about the user id
of a client, to return exception data to the client following a method call,
and so on.
<P>
A pointer to an<B> Environment</B> variable is passed as an argument to
method calls (unless the method's class has the<B> callstyle=oidl</B> SOM
IDL modifier). The<B> Environment</B> typedef is defined in "som.h", and
an instance of the structure is allocated by the caller in any reasonable
way: on  the stack (by declaring a local variable and initializing it using
the macro<B> SOM_InitEnvironment</B>), dynamically (using the<B> SOM_CreateLocalEnvironment
</B>macro), or by calling the<B> somGetGlobalEnvironment</B> function to
allocate an<B> Environment</B> structure to be shared by objects running
in the same thread.
<P>
For class libraries that use<B> callstyle=oidl</B>, there is no explicit
<B>Environment</B> parameter. For these libraries, exception information
may be passed using the per-thread<B> Environment</B> structure returned
by the<B> somGetGlobalEnvironment</B> procedure.

<P><HR>

<A HREF="062_L4_Standardexceptions.html">[Back: Standard exceptions]</A> <BR>
<A HREF="064_L4_Settinganexceptionva.html">[Next: Setting an exception value]</A> 
</BODY>
</HTML>
