<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>SOM manipulations using somId's</TITLE>
</HEAD>
<BODY>
<H1>SOM manipulations using somId's</H1><!-- entering slot 85 -->
<P>
A<B> somId</B> is similar to a number that represents a zero-terminated
<B>string</B>. A<B> somId</B> is used in SOM to identify method names, class
names, and so forth. For example, many of the SOM methods that take a method
or class name as a parameter require a value of type<B> somId</B> rather
than<B> string</B>. All SOM manipulations using<B> somId</B>s are case insensitive,
although the original case of the<B> string</B> is preserved.
<P>
During its first use with any of the following functions, a<B> somId</B> is
automatically converted to an internal representation (registered). Because
the representation of a<B> somId</B> changes, a special SOM type (<B>somId</B>)
is provided for this purpose. Names and the corresponding<B> somId</B> can
be declared at compile time, as follows:
<PRE>   string example = "exampleMethodName";
   somId exampleId = &amp;example;
</PRE>

<P>
or a<B> somId</B> can be generated at run time, as follows:
<PRE>   somId myMethodId;
   myMethodId = somIdFromString("exampleMethodName");
</PRE>

<P>
SOM provides the following functions that generate or use a<B> somId</B>:
<!-- lm: 0x2 1 -->
<UL>
<P>
<B>somIdFromString</B><!-- lm: 0x12 26 -->
<UL> Finds the<B> somId</B> that
corresponds to a<B> string</B>. The method takes a<B> string</B> as its
argument, and returns a value of type<B> somId</B> that represents the string.
The returned<B> somId</B> must later be freed using<B> SOMFree.</B><!-- lm: 0x2 1 -->
</UL><B> somStringFromId
</B><!-- lm: 0x12 26 -->
<UL>Obtains the<B> string</B> that corresponds
to a<B> somId</B>. The function takes a<B> somId</B> as its argument and
returns the<B> string</B> that the<B> somId</B> represents.<!-- lm: 0x2 1 -->
</UL><B> somCompareIds
</B><!-- lm: 0x12 26 -->
<UL>Determines whether two<B> somId</B> values
are the same (that is, represent the same<B> string</B>). This function
takes two<B> somId</B> values as arguments. It returns TRUE (1) if the<B> somId</B>s
represent the same<B> string</B>, or FALSE (0) otherwise.<!-- lm: 0x2 1 -->
</UL><B> somCheckId
</B><!-- lm: 0x12 26 -->
<UL>Determines whether SOM already knows a<B> somId</B>.
The function takes a<B> somId</B> as its argument. It verifies whether the
<B>somId</B> is registered and in normal form, registers it if necessary,
and returns the input<B> somId</B>.<!-- lm: 0x2 1 -->
</UL><B> somRegisterId
</B><!-- lm: 0x12 26 -->
<UL>The same as<B> somCheckId,</B> except it returns
TRUE (1) if this is the first time the<B> somId</B> has been registered,
or FALSE (0) otherwise.<!-- lm: 0x2 1 -->
</UL><B> somUniqueKey</B><!-- lm: 0x12 26 -->
<UL> Finds
the unique key for a<B> somId.</B> The function takes a<B> somId</B> identifier
as its argument, and returns the unique key for the<B> somId</B>-a number
that uniquely represents the<B> string</B> that the<B> somId</B> represents.
This key is the same as the key for another<B> somId</B> if and only if
the other<B> somId</B> refers to the same<B> string</B> as the input<B> somId</B>.
<!-- lm: 0x2 1 -->
</UL><B>somTotalRegIds</B><!-- lm: 0x12 26 -->
<UL> Finds
the total number of<B> somId</B>s that have been registered, as an<B> unsigned
long</B>. This function is used to determine an appropriate argument to
<B>somSetExpectedIds</B>, below, in later executions of the program. The
function takes no input arguments.<!-- lm: 0x2 1 -->
</UL><B> somSetExpectedIds
</B><!-- lm: 0x12 26 -->
<UL>Indicates how many unique<B> somId</B>s SOM
can expect to use during program execution, which, if accurate, can improve
the space and time utilization of the program slightly. This routine must
be called before the SOM run-time environment is initialized (that is, before
the function<B> somEnvironmentNew</B> is invoked and before any objects
are created). This is the only SOM function that can be invoked before the
SOM run-time environment is initialized. The input argument is an<B> unsigned
long</B>. The function has no return value.<!-- lm: 0x2 1 -->
</UL> somBeginPersistentIds
and somEndPersistentIds<!-- lm: 0x12 26 -->
<UL> Delimit a time interval
for the current thread during which it is guaranteed that (a) any new<B> somId</B>s
that are created will refer only to static strings and (b) these strings
will not be subsequently modified or freed. These functions are useful because
<B>somId</B>s that are registered within a "persistent ID interval" can
be handled more efficiently.<!-- lm: 0x2 1 -->
</UL>
<P>
See the<I> System Object Model Programming Reference</I> for more information
on a specific function.

<P><HR>

<A HREF="067_L3_Memorymanagement.html">[Back: Memory management]</A> <BR>
<A HREF="069_L1_SOMIDLandtheSOMCompi.html">[Next: SOM IDL and the SOM Compiler]</A> 
</BODY>
</HTML>
