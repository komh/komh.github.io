<HTML>
<HEAD>
<TITLE>Running incremental updates of the implementation template file</TITLE>
</HEAD>
<BODY>
<H1>Running incremental updates of the implementation template file</H1><!-- entering slot 175 -->
<P>
Refining the .idl file for a class is typically an iterative process. For
example, after running the IDL source file through the SOM Compiler and
writing some code in the implementation template file, the class implementer
realizes that the IDL class interface needs another method or attribute,
a method needs a different parameter, or any such changes.
<P>
As mentioned earlier, the SOM Compiler (when run using the<B> c</B> or<B> xc
</B>emitter) assists in this development by reprocessing the .idl file and
making<I> incremental updates</I> to the current implementation file. This
modify-and-update process may in fact be repeated several times before the
class declaration becomes final. Importantly, these updates do not disturb
existing code for the method procedures. Included in the incremental update
are these changes:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->Stub procedures are inserted into the implementation
file for any new methods added to the .idl file.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->New comments in the .idl file are transferred to the
implementation file, reformatted appropriately.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->If the interface to a method has changed, a new method
procedure prototype is placed in the implementation file. As a precaution,
however, the old prototype is also preserved within comments. The body of
the method procedure is left untouched (as are the method procedures for
all methods).<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->Similarly left intact are preprocessor directives,
data declarations, constant declarations, non-method functions, and additional
comments-in essence, everything else in the implementation file.<!-- lm: 0x2 1 -->
</UL>
<P>
Some changes to the .idl file are<I> not</I> reflected automatically in
the implementation file after an incremental update. The class implementer
must manually edit the implementation file after changes such as these in
the .idl file:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->Changing the name of a class or a method.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->Changing the parents of a class (see also "If you
change the parents of a class..." later in this topic).<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->Changing a<B> functionprefix</B> class<B> modifier
</B>statement.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->Changing the content of a<B> passthru</B> statement
directed to the implementation (.c, .C, or cpp) file. As previously emphasized,
however,<B> passthru</B> statements are primarily recommended only for placing
#include statements in a binding file (.ih, xih, .h, or .xh file) used as
a header file in the implementation file or in a client program.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->If the class implementer has placed "forward declarations"
of the method procedures in the implementation file, those are not updated.
Updates occur only for method prototypes that are part of the method procedures
themselves.<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="143_L4_ConvertingCclassesto.html">[Back: Converting C++ classes to SOM classes]</A> <BR>
<A HREF="145_L4_Considerationstoensu.html">[Next: Considerations to ensure that updates work]</A> 
</BODY>
</HTML>
