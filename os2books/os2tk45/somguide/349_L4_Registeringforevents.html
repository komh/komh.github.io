<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Registering for events</TITLE>
</HEAD>
<BODY>
<H1>Registering for events</H1><!-- entering slot 398 -->
<P>
In addition to the event classes, the Event Management Framework uses a
registration data class (<B>SOMEEMRegisterData</B>) to capture all event-related
registration information. The procedure for registering interest in an event
is as follows:<!-- lm: 0x2 2 -->
<UL>
<P>
 <LI><LI><!-- lm: 0x2 6 -->Create an instance of the<B> SOMEEMRegisterData
</B>class (this will be referred to as a "RegData" object).<!-- lm: 0x2 2 -->
<P>
 <LI><LI><!-- lm: 0x2 6 -->Set the event type of "RegData."<!-- lm: 0x2 2 -->
<P>
 <LI><LI><!-- lm: 0x2 6 -->Set the various fields of "RegData" to supply
information about the particular event for which an interest is being registered.
<!-- lm: 0x2 2 -->
<P>
 <LI><LI><!-- lm: 0x2 6 -->Call the registration method of EMan, using "RegData"
and the callback method information as parameters. The callback information
varies, depending upon whether it is a simple procedure, a method called
using OIDL call style, or a method called using IDL call style.<!-- lm: 0x2 1 -->
</UL>
<P>
The following code segment illustrates how to register input interest in
a socket "sock" and provide a callback procedure "ReadMsg".
<PRE>data = SOMEEMRegisterDataNew( );       /* create a RegData object */_someClearRegData(data, Ev);
_someSetRegDataEventMask(data,Ev,EMSinkEvent,NULL); /* Event type */
_someSetRegDataSink(data, Ev, sock);     /* provide the socket id */
_someSetRegDataSinkMask(data,Ev, EMInputReadMask );
                                                 /*input interest */
regId = _someRegisterProc(some_gEMan,Ev,data,ReadMsg,"UserData" );
/* some_gEMan points to EMan. The last parameter "userData" is any
   data the user wants to be passed to the callback procedure as a
   second parameter */
</PRE>


<P><HR>

<A HREF="348_L4_EManparameters.html">[Back: EMan parameters]</A> <BR>
<A HREF="350_L3_Unregisteringforeven.html">[Next: Unregistering for events]</A> 
</BODY>
</HTML>
