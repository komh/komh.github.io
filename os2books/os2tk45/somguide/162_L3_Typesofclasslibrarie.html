<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Types of class libraries</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Types of class libraries</H1><!-- entering slot 196 -->
<P>
Since class libraries are not programs, users cannot execute them directly.
To enable users to make direct use of your classes, you must also provide
one or more programs that create the classes and objects that the user will
need. This section describes how to package your classes in a SOM class
library and what you must do to make the contents of the library accessible
to other programs.
<P>
On AIX, class libraries are actually produced as AIX shared libraries, whereas
on OS/2 or Windows they appear as dynamically-linked libraries (or DLLs).
The term "DLL" is sometimes used to refer to either an AIX, an OS/2, or
a Windows class library, and (by convention only) the file suffix ".dll"
is used for SOM class libraries on all platforms.
<P>
A program can use a class library containing a given class or classes in
one of two ways:<!-- lm: 0x2 2 -->
<UL>
<P>
 <LI><LI><!-- lm: 0x2 6 -->If the programmer employs the SOM bindings to
instantiate the class and invoke its methods, the resulting client program
contains static references to the class. The operating system will automatically
resolve those references when the program is loaded, by also loading the
appropriate class library.<!-- lm: 0x2 2 -->
<P>
 <LI><LI><!-- lm: 0x2 6 -->If the programmer uses only the dynamic SOM mechanisms
for finding the class and invoking its methods (for example, by invoking
<B>somFindClass, somFindMethod, somLookupMethod, somDispatch, somResolveByName,</B>and
so forth), the resulting client program does not contain any static references
to the class library. Thus, SOM will load the class library dynamically
during execution of the program. Note: For SOM to be able to load the class
library, the<B> dllname</B> modifier must be set in the .idl file. (See
the topic "Modifier statements" in Chapter 4, "SOM IDL and the SOM Compiler.")
<!-- lm: 0x2 1 -->
</UL>
<P>
Because the provider of a class library cannot predict which of these ways
a class will be used, SOM class libraries must be built such that either
usage is possible. The first case above requires the class library to<B> export
the entry points</B> needed by the SOM bindings, whereas the second case
requires the library to<B> provide an initialization function</B> to create
the classes it contains. The following topics discuss each case.

<P><HR>

<A HREF="161_L3_Generalguidelinesfor.html">[Back: General guidelines for class library designers]</A> <BR>
<A HREF="163_L3_Buildingexportfiles.html">[Next: Building export files]</A> 
</BODY>
</HTML>
