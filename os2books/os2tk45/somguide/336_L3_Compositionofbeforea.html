<HTML>
<HEAD>
<TITLE>Composition of before/after metaclasses</TITLE>
</HEAD>
<BODY>
<H1>Composition of before/after metaclasses</H1><!-- entering slot 385 -->
<P>
When there are two before/after metaclasses -"Barking" (as before) and "Fierce",
which has a<B> sommBeforeMethod</B> and<B> sommAfterMethod</B> that both
growl (that is, both methods make a "grrrr" sound when executed). The preceding
discussion demonstrated how to create a "FierceDog " or a "BarkingDog ",
but has not yet addressed the question of how to compose these properties
of fierce and barking.<I> Composability</I> means having the ability to
easily create either a "FierceBarkingDog" that goes "grrr woof woof grrr
" when it responds to a method call or a "BarkingFierceDog " that goes "woof
grrr grrr woof" when it responds to a method call.
<BR>
Example for composition of before or after metaclasses.
<BR>
<!-- Unable to decode bitmap format --><IMG SRC="336_L3_Compositionofbeforea_9.gif" WIDTH=495 HEIGHT=266 ALIGN=center>
<P>
There are several ways to express such compositions. Figure 1 depicts SOM
IDL fragments for three techniques in which composition can be indicated
by a programmer. These are denoted as Technique 1, Technique 2, and Technique
3, each of which creates a "FierceBarkingDog" class, named "FB-1", "FB-2",
and "FB-3", respectively, as follows:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->In Technique 1, a new metaclass ("FierceBarking")
is created with both the "Fierce" and "Barking" metaclasses as parents.
An instance of this  new metaclass (that is, "FB-1") is a "FierceBarkingDog"
(assuming "Dog " is a parent).<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->In Technique 2, a new class is created which has parents
that are instances of "Fierce" and "Barking" respectively. That is, "FB-2"
is a "FierceBarkingDog" also (assuming "FierceDog" and "BarkingDog" do not
further specialize "Dog").<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->In Technique 3, "FB-3", which also is a "FierceBarkingDog",
is created by declaring that its parent is a "BarkingDog" and that its explicit
(syntactically declared) metaclass is "Fierce".<!-- lm: 0x2 1 -->
</UL>
<PRE>ÚÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÂÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿³TECHNIQUE 1              ³TECHNIQUE 2              ³TECHNIQUE 3              ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³interface                ³interface                ³interface                ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³FB-1:Dog                 ³FB-2:FierceDog,          ³FB-3:BarkingDog          ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³{                        ³BarkingDog               ³{                        ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³...                      ³{                        ³...                      ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³implementation           ³...                      ³implemetation            ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³{                        ³Implementation           ³{                        ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³metaclass=FierceBarking; ³{                        ³metaclass=Fierce;        ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³...                      ³   ...                   ³   ...                   ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³ };                      ³ };                      ³ };                      ³
ÃÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÅÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ´
³};                       ³};                       ³};                       ³
ÀÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÁÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ
</PRE>

<P>
Figure 1.Three techniques for composing before/after metaclasses.
<P>
Note that the explicit metaclass in the SOM IDL of "FB-1" is its derived
class, "FierceBarking". The derived metaclass of "FB-2" is also "FierceBarking".
Lastly, the derived metaclass of "FB-3" is  not  the metaclass explicitly
specified in the SOM IDL; rather, it  too is "FierceBarking."

<P><HR>

<A HREF="335_L3_TheSOMMBeforeAfterme.html">[Back: The 'SOMMBeforeAfter' metaclass]</A> <BR>
<A HREF="337_L3_Notesandadvantagesof.html">[Next: Notes and advantages of 'before/after' usage]</A> 
</BODY>
</HTML>
