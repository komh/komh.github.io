<HTML>
<HEAD>
<TITLE>Mapping objects to object references</TITLE>
</HEAD>
<BODY>
<H1>Mapping objects to object references</H1><!-- entering slot 286 -->
<P>
<B>SOMDServer</B> also defines methods that implement mappings between<B> SOMObjects
</B>and<B> SOMDObjects</B> (object references) and a method for dispatching
method calls on SOM objects. These methods are used by the SOM Object Adapter
<B>(SOMOA)</B> when converting remote requests into method calls and results
into responses.
<P>
Recall from the topic "Proxy objects" in Section 6.3, "Basic Client Programming",
that servers return proxies to remote objects as method results, not the
remote objects themselves. Recall also that class libraries need not be
designed to be distributed (that is, the code that implements the classes
need not be aware of the existence of proxy objects at all). Thus, it is
up to the DSOM run-time environment to ensure that proxies, rather than
remote objects, are returned to clients. The<B> SOMD_SOMOAObject</B> and
<B>SOMD_ServerObject</B> work together to perform this service. Whenever
a result from a remote method call includes a<B> SOMObject</B>, the<B> SOMD_SOMOAObject
</B>invokes the<B> somdRefFromSOMObj</B> method on<B> SOMD_ServerObject</B>,
asking it to create a<B> SOMDObject</B> from the<B> SOMObject.</B>
<P>
The default implementation (i.e.,<B> SOMDServer's</B> implementation) for
<B>somdRefFromSOMObj</B> uses the<B> create_SOM_ref</B> method to return
a "simple" reference for the<B> SOMObject.</B> Application-specific server
objects (instances of a subclass of<B> SOMDServer)</B> may elect to use
<B>create</B> or<B> create_constant</B> to construct the object reference
if the application requires<B> Reference Data</B> to be stored.

<P><HR>

<A HREF="248_L4_Creationanddestructi.html">[Back: Creation and destruction of SOM objects]</A> <BR>
<A HREF="250_L4_Hintsontheuseofcreat.html">[Next: Hints on the use of create vs. create_constant]</A> 
</BODY>
</HTML>
