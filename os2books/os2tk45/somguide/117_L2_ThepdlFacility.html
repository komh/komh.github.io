<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>The 'pdl' Facility</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>The 'pdl' Facility</H1><!-- entering slot 145 -->
<P>
As discussed earlier in this chapter, the SOM Compiler provides a<B> pdl
</B>(Public Definition Language) emitter. This emitter generates a file
that is the same as the .idl file from which it is produced, except that
it removes all items within the .idl file that are marked as "private."
An item is marked as private by surrounding it with "#ifdef_ _PRIVATE_ _"
and "#endif" directives. Thus, the<B> pdl</B> emitter can be used to generate
a "public" version of a .idl file.  (Generally, client programs will need
only the "public" methods and attributes.)
<P>
The SOMobjects Toolkit also provides a separate program,<B> pdl</B>, which
performs the same function as the<B> pdl</B> emitter, but can be invoked
independently of the SOM Compiler. In addition, the<B> pdl</B> program can
remove any kind of items in the .idl file that are preceded by a user-specified
"#ifdef" directive and followed by an "#endif" directive:  The<B> pdl</B>
program is invoked as follows:<!-- lm: 0x2 6 -->
<UL>
<P>
<B>  pdl</B> [ -c | d | f | h | s |/] <I> files</I><!-- lm: 0x2 1 -->
</UL>
<P>
where "files" specifies one or more .idl files whose specified "#ifdef"
sections are to be removed.  Filenames must be completely specified (with
the .idl extension).  If no "#ifdef" directive is specified (by including
a -/&lt;string&gt; option), then the "#ifdef_ _PRIVATE_ __"sections will
be removed by default.
<P>
The<B> pdl</B> command supports the following options.  (Selected<I> options
</I>can be specified individually, as a string of option characters, or
as a combination of both. Any option that takes an argument either must
be specified individually or must appear as the final option in a string
of option characters.)<!-- lm: 0x2 1 -->
<P>
<B><LI>c</B><I> cmd</I><!-- lm: 0x2 13 -->
<UL> Specifies that, for each
.idl file, the<B> pdl</B> program is to run the specified system command.
This command may contain a single occurrence of the string "%s", which will
be replaced with the source file name before the command is executed. For
example the option -c"sc -sh %s" has the same effect as issuing the<B> sc
</B>command with the -sh option.<!-- lm: 0x2 1 -->
</UL><B> -d</B><I> dir
</I><!-- lm: 0x2 13 -->
<UL>Specifies a directory in which the output files
are to be placed. (The output files are given the same name as the input
files.) If no directory is specified, the output files are named &lt;<I>fileStem</I>&gt;.pdl
(where<I> fileStem</I> is the file stem of the input file) and are placed
in the current working directory.<!-- lm: 0x2 1 -->
</UL><B> -h</B><!-- lm: 0x2 13 -->
<UL> Requests
this description of the<B> pdl</B> command syntax and options.<!-- lm: 0x2 1 -->
</UL><B> -f
</B><!-- lm: 0x2 13 -->
<UL>Specifies that output files are to replace existing
files with the same name, even if the existing files are read-only. By default,
files are replaced only if they have write access.<!-- lm: 0x2 1 -->
</UL><B> -s
</B><I>smemit</I><!-- lm: 0x2 13 -->
<UL> Specifies the SMEMIT variable
with which the<B> pdl</B> program is to           invoke the SOM Compiler.
<!-- lm: 0x2 1 -->
</UL>-/ &lt;string&gt;<!-- lm: 0x2 13 -->
<UL> Specifies
the "#ifdef" pattern for which the<B> pdl</B> program will strip out .idl
statements. The default is "#ifdef _ _PRIVATE_ _".<!-- lm: 0x2 1 -->
</UL>
<P>
For example, to install public versions of the .idl files in the directory
"pubinclude", type:
<PRE>   <B>pdl</B> -d pubinclude *.idl</PRE>


<P><HR>

<A HREF="116_L3_RunningtheSOMCompile.html">[Back: Running the SOM Compiler]</A> <BR>
<A HREF="118_L1_ImplementingClassesi.html">[Next: Implementing Classes in SOM]</A> 
</BODY>
</HTML>
