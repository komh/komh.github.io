<HTML>
<HEAD>
<TITLE>Using <className>NewClass</TITLE>
</HEAD>
<BODY>
<H1>Using <className>NewClass</H1><!-- entering slot 64 -->
<P>
The &lt;<I>className</I>&gt;<B>NewClass</B> procedure initializes the SOM
run-time environment, if necessary, creates the class object (unless it
already exists), creates class objects for the ancestor classes and metaclass
of the class, if necessary, and returns a pointer to the newly created class
object. After its creation, the class object can be referenced in client
code using the macro<!-- lm: 0x2 1 -->
<UL>
<P>
<LI>&lt;<I>className</I>&gt;<!-- lm: 0x2 41 -->
<UL> (for C and C++ programs)
<!-- lm: 0x2 1 -->
</UL>
<P>
or the expression<!-- lm: 0x2 1 -->
<P>
&lt;<I>className</I>&gt;<B>ClassData.classObject</B><!-- lm: 0x2 41 -->
<UL> (for
C and C++ programs).<!-- lm: 0x2 1 -->
</UL>
<P>
The &lt;<I>className</I>&gt;<B>NewClass</B> procedure takes two arguments,
the major version number and minor version number of the class. These numbers
are checked against the version numbers built into the class library to
determine if the class is compatible with the client's expectations. The
class is compatible if it has the same major version number and the same
or a higher minor version number. If the class is not compatible, an error
is raised. Major version numbers usually only change when a significant
enhancement or incompatible change is made to a class. Minor version numbers
change when minor enhancements or fixes are made. Downward compatibility
is usually maintained across changes in the minor version number. Zero can
be used in place of version numbers to bypass version number checking.
<P>
When using SOM bindings for a class, these bindings define constants representing
the major and minor version numbers of the class at the time the bindings
were generated. These constants are named &lt;<I>className</I>&gt;_MajorVersion
and &lt;<I>className</I>&gt;_MinorVersion. For example, the following procedure
call:
<PRE>   AnimalNewClass(Animal_MajorVersion, Animal_MinorVersion);</PRE>

<P>
creates the class object for class "Animal". Thereafter, _Animal can be
used to reference the "Animal" class object.
<P>
The preceding technique for checking version numbers is not failsafe. For
performance reasons, the version numbers for a class are only checked when
the class object is created, and not when the class object or its instances
are used. Thus, run-time errors may result when usage bindings for a particular
version of a class are used to invoke methods on objects created by an earlier
version of the class.

<P><HR>

<A HREF="047_L5_UsingclassNameRenewo.html">[Back: Using <className>Renew or somRenew]</A> <BR>
<A HREF="049_L5_UsingsomFindClassors.html">[Next: Using somFindClass or somFindClsInFile]</A> 
</BODY>
</HTML>
