<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Metafile Data Format</TITLE>
</HEAD>
<BODY>
<H1>Metafile Data Format</H1><!-- entering slot 514 -->
<P>
This section describes the format of the data in a metafile, as it would
be stored in an OS/2 disk file.
<P>
Metafile data is stored as a sequence of structured fields. Each structured
field starts with an eight-byte header consisting of a two-byte<I> length
</I>field and a three-byte<I> identifier</I> field. These are followed by
a one-byte<I> flags</I> field and a two-byte<I> segment sequence number
</I>field.
<P>
The length field contains a count of the total number of bytes in the structured
field, including the length field. The identifier field uniquely identifies
the type of the structured field.
<P>
The flags and segment sequence number fields are always zero.
<P>
Following the header are positional parameters that are optional and dependent
on the particular structured field.
<P>
Following the positional parameters are non-positional parameters called
<I>triplets</I>. These are self-defining parameters and consist of a one-byte
<I>length</I> field, followed by a one-byte<I> identifier</I> field, followed
by the data of the parameter.
<P>
The length field contains a count of the total number of bytes in the triplet,
including the length and identifier fields. The identifier field identifies
uniquely the type of the triplet.
<P>
A metafile is structured into a number of different functional components;
for example, document and graphics object. Each component comprises a number
of structured fields, and is delimited by "begin-component" and "end-component"
structured fields. Structured fields marked as<I> required</I>, inside an
<I>optional</I> structured field bracket, are required if the containing
bracket is present.
<P>
The graphics orders that describe a picture occur in the<I> graphics data
</I>structured field. See <A HREF="501_L3_StructuredFieldForma.html">Structured
Field Formats</A> for more information.

<P><HR>

<A HREF="499_L3_MetafileRestrictions.html">[Back: Metafile Restrictions]</A> <BR>
<A HREF="501_L3_StructuredFieldForma.html">[Next: Structured Field Formats]</A> 
</BODY>
</HTML>
