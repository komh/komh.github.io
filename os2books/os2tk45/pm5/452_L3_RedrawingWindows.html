<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Redrawing Windows</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Redrawing Windows</H1><!-- entering slot 457 -->
<P>
When the system moves a window or changes its size, it can invalidate all
or part of that window.  The system attempts to preserve the contents of
the window and copy them to the new position; however, if the window's size
is increased, the window must fill the area exposed by the size change.
 If a window is moved from behind an overlapping window, any area formerly
obscured by the other window must be drawn.  In these cases, the system
invalidates the exposed areas and sends a WM_PAINT message to the window.

<P>
An application can require that the system invalidate an entire window every
time the window moves or changes size.  To do this, the application sets
the CS_SIZEREDRAW class style in the corresponding window class.  Typically,
this class style is selected for use in an application that uses a window's
current size and position to determine how to draw the window.  For example,
a clock application always would draw the face of the clock so that it filled
the window exactly.
<P>
An application also can explicitly specify which parts of the window to
preserve during a move or size change.  Before any change is made, the system
sends a WM_CALCVALIDRECTS message to windows that do not have the style
CS_SIZEREDRAW.  This enables the window procedure to specify what part of
the window to save and where to align it after the move or size change.


<P><HR>

<A HREF="451_L3_MovingandSizingaWind.html">[Back: Moving and Sizing a Window]</A> <BR>
<A HREF="453_L3_ChangingtheZOrderofW.html">[Next: Changing the Z-Order of Windows]</A> 
</BODY>
</HTML>
