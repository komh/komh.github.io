<HTML>
<HEAD>
<TITLE>Window Destruction</TITLE>
</HEAD>
<BODY>
<H1>Window Destruction</H1><!-- entering slot 446 -->
<P>
In general, an application must destroy all the windows it creates. It does
this by using the WinDestroyWindow function.  When a window is destroyed,
the system hides the window, if it is visible, and then removes any internal
data associated with the window.  This invalidates the window handle so
that it can no longer be used by the application.
<P>
An application destroys many of the windows it creates soon after creating
them.  For example, an application usually destroys a dialog window as soon
as the application has sufficient input from the user to continue its task.
 An application eventually destroys the main window of the application (before
terminating).
<P>
Destroying a window does not affect the window class from which the window
was created.  New windows still can be created using that class, and any
existing windows of that class continue to operate.
<P>
When the application calls WinDestroyWindow, the system searches the descendancy
tree for all windows below the specified window and destroys them from the
bottom up, so each child receives WM_DESTROY before its parent.  Each destroyed
window is responsible for cleaning up its own resources in response to the
WM_DESTROY message.
<P>
If a presentation space was created by the WinGetPS function for any of
the windows to be destroyed, it must be released by calling the WinReleasePS
function.  The application must do this before calling the WinDestroyWindow
function.  If a presentation space is associated with the device context
for the window, the application must disassociate or destroy the presentation
space by using the GpiAssociate or GpiDestroyPS function before calling
WinDestroyWindow.  Failing to release a resource can cause an error.
<P>
For more information about presentation spaces and device contexts, see
<A HREF="042_L1_PaintingandDrawing.html">Painting and Drawing</A>.
<P>
If the window being destroyed is the active window, both the active and
focus states are transferred to another window.  The window that becomes
the active window is the next window, as determined by the Alt+Esc key combination.
 The new active window then determines which window receives the keyboard
focus.
<P>


<P><HR>

<A HREF="440_L3_WindowVisibility.html">[Back: Window Visibility]</A> <BR>
<A HREF="442_L2_UsingWindows.html">[Next: Using Windows]</A> 
</BODY>
</HTML>
