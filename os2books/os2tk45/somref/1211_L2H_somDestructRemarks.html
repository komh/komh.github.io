<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>somDestruct - Remarks</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>somDestruct - Remarks</H1><!-- entering slot 1212 -->
<P>

<P>
Every class must support the<B> somDestruct</B> method. This is accomplished
either by overriding<B> somDestruct</B> (in which case a specialized stub
procedure will be generated in the implementation template file), or else
<B>SOMobjects</B> will automatically provide a generic procedure that implements
<B>somDestruct</B> for the class. The generic procedure calls<B> somUninit
</B>(if this was overridden) to perform local uninitialization, then completes
execution of the method appropriately.
<P>
Because the specialized stub procedure generated by the template emitter
is more efficient than the generic procedure provided when<B> somDestruct
</B>is not overridden, it is recommended that<B> somDestruct</B> always
be overridden. The stub procedure that is generated in this case requires
no modification for correct operation. The only modification appropriate
within this stub procedure is to uninitialize locally introduced instance
variables. See Section 5.5, "Initializing and Unitializing Objects," of
the<I> SOMobjects Developer Toolkit Users Guide</I> for further details.

<P>
Uninitialization with<B> somDestruct</B> executes as follows: For any given
class in the ancestor chain,<B> somDestruct</B> first uninitializes that
class's introduced instance variables (if this is appropriate), and then
calls the next ancestor class's implementation of<B> somDestruct</B>, passing
0 (that is, false) as the interim dofree argument. Then, after all ancestors
of the given class have been uninitialized, if the class's own<B> somDestruct
</B>method were originally invoked with dofree as 1 (that is, true), then
that object's storage is released.
<P>
<B>Note: </B> It is not appropriate to override both<B> somDestruct</B> and
<B>somUninit</B>. If this is done, the<B> somUninit</B> code will not be
executed. The best way to convert an old class that overrides<B> somUninit
</B>to use of the more efficient<B> somDestruct</B> (if this is desired)
is as follows: (1) Replace the<B> somUninit</B> override in the class's
.idl file with an override for<B> somDestruct</B>, (2) run the emitter to
produce a stub procedure for<B> somDestruct</B> in the implementation template
file, and then (3) simply call the class's<B> somUninit</B> procedure directly
(not using a method invocation) from the<B> somDestruct</B> procedure.

<P><HR>

<A HREF="1210_L2H_somDestructParameter.html">[Back: somDestruct - Parameters]</A> <BR>
<A HREF="1212_L2H_somDestructOriginalC.html">[Next: somDestruct - Original Class]</A> 
</BODY>
</HTML>
