<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Realizing a Color Palette</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Realizing a Color Palette</H1><!-- entering slot 1189 -->
<P>
WinRealizePalette maps the colors requested by the application into the
color palette for the system. When the application's window is activated,
the palette changes are transferred, or<I> realized</I>, into the physical
palette for the system.
<P>
When a palette is realized, there might not be enough empty palette entries
to accommodate the additional palette changes (a maximum of 256 entries).
For example, it is possible that some of the colors changed in the physical
palette are being used by another application. In this situation, a WM_REALIZEPALETTE
message is posted to all the applications running on the desktop.
<P>
On receiving the WM_REALIZEPALETTE message, applications using palette manager
functions must repaint their screens. The original application colors are
mapped to the closest matching color in the new palette. Applications that
do not use palette manager functions normally perform default processing
within their applications causing a repaint of their windows with the closest
match from the palette. If there are no changes, just additions, to the
physical palette, no message is sent.
<P>
<B>Note: </B> The palette manager maps a window's colors to the closest
available value in the palette when the physical palette has to be changed,
but this does not guarantee that the color will be a close match to the
original color used.
<P>
As the focus changes from window to window, the physical palette changes
according to the activated window. Notification messages are sent as necessary
to other applications.
<P>
If the physical color values in the palette have to change to accommodate
the number of palette entries passed from the application when a palette
is realized, the number of altered entries in the physical palette is returned
by WinRealizePalette.
<P>
Color palette realization is available only to systems that have a minimum
of 256 colors.
<P>


<P><HR>

<A HREF="1166_L3_PaletteManager.html">[Back: Palette Manager]</A> <BR>
<A HREF="1168_L3_ColorAttribute.html">[Next: Color Attribute]</A> 
</BODY>
</HTML>
