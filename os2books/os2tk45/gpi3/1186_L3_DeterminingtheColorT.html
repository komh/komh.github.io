<HTML>
<HEAD>
<TITLE>Determining the Color-Table Format and Index Values</TITLE>
</HEAD>
<BODY>
<H1>Determining the Color-Table Format and Index Values</H1><!-- entering slot 1208 -->
<P>
To determine the format and the starting and ending index values of the
current logical color table, applications call<A><!-- external link: 1D CE C3 FC --> GpiQueryColorData</A>.
The following figure is an example of using<A><!-- external link: 1D CE C3 31 --> GpiQueryColorData
</A>to determine whether the default logical color table is loaded. If so,
the code fragment loads a new table.
<P>

<PRE>#define INCL_GPILOGCOLORTABLE
#include &lt;os2.h&gt;

void fncCOLR02(void){
    HPS hps;
    LONG        aClrData[3];
    LONG alTable[16];

    GpiQueryColorData(hps, 3, aClrData);

    if (aClrData[QCD_LCT_FORMAT] == LCOLF_DEFAULT)
        GpiCreateLogColorTable(hps,
           LCOL_RESET,                      /* Start with the default      */
           LCOLF_CONSECRGB,                 /* Consecutive RGB values      */
           0,                               /* Starting index in table     */
           sizeof(alTable) / sizeof(LONG),  /* Number of elements in table */
           alTable);
} /* fncCOLR02 */

</PRE>

<P>


<P><HR>

<A HREF="1185_L3_CreatingaLogicalColo.html">[Back: Creating a Logical Color Table]</A> <BR>
<A HREF="1187_L3_DeterminingtheIndexV.html">[Next: Determining the Index Value of an RGB Value]</A> 
</BODY>
</HTML>
