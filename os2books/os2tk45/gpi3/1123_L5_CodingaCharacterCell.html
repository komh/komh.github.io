<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Coding a Character Cell</TITLE>
</HEAD>
<BODY>
<H1>Coding a Character Cell</H1><!-- entering slot 1144 -->
<P>
The dimensions that an application passes to<A><!-- external link: 1D 28 C4 3F --> GpiSetCharBox
</A>and that<A><!-- external link: 1D C2 C3 3E --> GpiQueryCharBox</A> returns
are fixed-point values. A<I> fixed</I> value is a 32-bit value whose high-order
16 bits contain the integral part of the floating-point number and whose
low-order 16 bits contain the fractional part. The fractional part is the
numerator of a fraction whose denominator is fixed at 65536. The MAKEFIXED
macro provides a method for producing fixed values. If, for example, one
of the character cell dimensions were 7.635 world units, an application
could obtain the corresponding fixed value by using the MAKEFIXED macro,
passing 7 as the first argument and 41615 as the second.
<P>
The purpose of the character cell is to assist other font metrics to define
text lines. For example, if you planned to have an average text line of
60 characters, dividing your output width by 60 would provide your character
cell width.
<P>
DevQueryCaps can be used to provide information about suitable character
cell values. DevQueryCaps returns two sets of values that can influence
the character cell:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 --><B>Default cell values</B><!-- lm: 0x2 8 -->
<UL>
<BR>
<LI><!-- lm: 0x2 11 -->CAPS_GRAPHICS_CHAR_WIDTH<!-- lm: 0x2 8 -->
<BR>
<LI><!-- lm: 0x2 11 -->CAPS_GRAPHICS_CHAR_HEIGHT.<!-- lm: 0x2 6 --><!-- lm: 0x2 3 -->
</UL><!-- lm: 0x2 6 -->
<UL><B>Device resolution</B><!-- lm: 0x2 8 -->
<UL> -<!-- lm: 0x2 11 -->
<UL>CAPS_HORIZONTAL_FONT_RES
<!-- lm: 0x2 8 -->
</UL>-<!-- lm: 0x2 11 -->
<UL>CAPS_VERTICAL_FONT_RES.<!-- lm: 0x2 6 --><!-- lm: 0x2 1 -->
</UL>
<P>
The default cell values return the size of the default character cell in
pels. Convert the device resolution into character cell values by multiplying
it by the desired point size, then dividing by 72 (72.2818).
<P>


<P><HR>

<A HREF="1122_L5_DefaultCharacterCell.html">[Back: Default Character Cell]</A> <BR>
<A HREF="1124_L4_CharacterAngle.html">[Next: Character Angle]</A> 
</BODY>
</HTML>
