<HTML>
<HEAD>
<TITLE>DosSetThreadAffinity</TITLE>
</HEAD>
<BODY>
<H1>DosSetThreadAffinity</H1><!-- entering slot 101 -->
<P>
<B>Purpose</B>
<P>
DosSetThreadAffinity allows the calling thread to change the processor affinity
mask for the current thread.
<P>
<B>Syntax</B>
<PRE></PRE>
<!-- lm: 0x2 1 -->
<UL>
<P>
APIRET DosSetThreadAffinity<!-- lm: 0x2 11 -->
<UL><B> (PMPAffinity pAffinityMask)
</B><!-- lm: 0x2 1 -->
</UL>
<P>
<B>Parameters</B><!-- lm: 0x2 1 -->
<P>
pAffinityMask (PMPAffinity)  input<!-- lm: 0x11 11 -->
<UL> Address of an
MPAFFINITY structure that will become the current thread's affinity mask.
<!-- lm: 0x2 1 -->
</UL>
<P>
<B>Returns</B><!-- lm: 0x2 1 -->
<P>
ulrc  APIRET)  returns<!-- lm: 0x11 11 -->
<UL> Return Code.
<P>
DosSetThreadAffinity returns one of the following values <!-- lm: 0x2 11 -->
<P>
13<!-- lm: 0x2 26 -->
<UL> ERROR_INVALID_DATA<!-- lm: 0x2 11 -->
</UL> 87
<!-- lm: 0x2 26 -->
<UL>ERROR_INVALID_PARAMETER<!-- lm: 0x2 11 --><!-- lm: 0x2 1 -->
</UL>
<P>
<B>Remarks</B>
<P>
The processor affinity mask contains 1 bit per processor. A maximum of 64
processors can be designated. If affinity bits are on for non-existent processors,
the error ERROR_INVALID_DATA will be returned.
<P>
<B>Related Functions</B><!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->DosQueryThreadAffinity<!-- lm: 0x2 1 -->
</UL>
<P>
<B>Example Code</B>
<P>

<PRE>#define INCL_DOS#define INCL_32
#define INCL_DOSERRORS
#define INCL_NOPMAPI
#include  os2.h&gt;
#include  stdio.h&gt;

int main(void)
{
APIRET rc;
MPAFFINITY affinity;

rc = DosSetThreadAffinity( affinity);
printf("Set thread's affinity  rc = %08.8xh\n", rc);
printf("Set thread's affinity  affinity[0] = %08.8xh, affinity[1] = %08.8xh\n",
        affinity.mask[0], affinity.mask[1]);
return rc;
}
</PRE>


<P><HR>

<A HREF="060_L2_DosSetProcessorStatu.html">[Back: DosSetProcessorStatus]</A> <BR>
<A HREF="062_L2_Dos16SysTrace.html">[Next: Dos16SysTrace]</A> 
</BODY>
</HTML>
