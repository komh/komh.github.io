<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>WM_QUIT - Examples</TITLE>
</HEAD>
<BODY>
<H1>WM_QUIT - Examples</H1><!-- entering slot 4781 -->
<P>
In this example, a WM_CLOSE message is received.  If the fChanges flag is
set, the application calls a function to determine if the user wants to
save the changes before exiting.  This function (called QuerySaveFile in
this example) asks the user if he wants to save the changes.  If the user
selects OK, the changes are saved.  If the user selects cancel, the function
returns this value and the application continues normal execution.  Otherwise,
it posts a WM_QUIT message to terminate the application.
<PRE>case WM_CLOSE:
    if (fChanges) {             /* changes have not been saved */
        if (QuerySaveFile(hwnd) == MB_CANCEL) {
            return (0L);        /* do not exit after all       */
        }
    }
    WinPostMsg(hwnd, WM_QUIT, 0L, 0L);
    return (0L);
</PRE>


<P><HR>

<A HREF="4773_L3H_WM_QUITDefaultProces.html">[Back: WM_QUIT - Default Processing]</A> <BR>
<A HREF="4775_L3H_WM_QUITTopics.html">[Next: WM_QUIT - Topics]</A> 
</BODY>
</HTML>
