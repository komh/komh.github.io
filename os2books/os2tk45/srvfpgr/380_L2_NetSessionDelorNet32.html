<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>NetSessionDel or Net32SessionDel</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>NetSessionDel or Net32SessionDel</H1><!-- entering slot 494 -->NetSessionDel or Net32SessionDel
<P>
The NetSessionDel API ends a session between a requester and a server.<!-- lm: 0x2 1 -->
<UL>
<P>
Restrictions
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This API can be called from DLS and OS/2 workstations, but DLS workstations
can issue this call only to a remote LAN Server workstation. Administrator
authority is required to call this API.<!-- lm: 0x2 1 -->
</UL> Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;netcons.h&gt;
#include &lt;shares.h&gt;
 
NetSessionDel(<I>pszServername</I>, <I>pszWorkstation</I>,
              <I>reserved</I>);        /* 16 bit */
 
Net32SessionDel(<I>pszServername</I>, <I>pszWorkstation</I>,
              <I>reserved</I>);        /* 32 bit */
</PRE>
<!-- lm: 0x2 1 -->
</UL>Parameters
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
See <A HREF="021_L2_CommonParameterDefin.html">Common Parameter Definitions
</A>for descriptions of parameters not defined here.<!-- lm: 0x2 10 -->
<P>
<I>pszWorkstation</I><!-- lm: 0x12 20 -->
<UL> (const unsigned char LSFAR
*) points to an ASCIIZ string containing the name of the requester that
established the session that is being discontinued.<!-- lm: 0x2 10 -->
</UL><I> reserved
</I><!-- lm: 0x12 20 -->
<UL>(16-bit short or 32-bit unsigned long) must
be 0.<!-- lm: 0x2 10 -->
</UL><!-- lm: 0x2 1 -->
</UL>Return Codes
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
The following table lists the return codes most significant to this API.
 (See <A HREF="462_L1_APIReturnCodes.html">API Return Codes</A> for a complete
list of return codes.) ┌─────────────────────────────┬───────┬────────────────────────────────────────┐│SYMBOLICCONSTANT
    │VALUE│MEANING                │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_Success         │ 0   │ No errors were encountered.       │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ ERROR_ACCESS_DENIED     │ 5   │ Administrator privilege is required.  │

<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ ERROR_BAD_NETPATH      │ 53   │ The network path cannot be found.    │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ ERROR_NETWORK_ACCESS_DENIED │ 65   │ Network access is denied.        │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ ERROR_INVALID_PARAMETER   │ 87   │ At least one parameter value is not
  │
<BR>
│               │    │ valid.                 │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_NetNotStarted      │ 2102  │ The redirector NETWKSTA.200 has not
  │
<BR>
│               │    │ been started.              │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_RemoteOnly       │ 2106  │ This operation is not supported on   │

<BR>
│               │    │ workstations.              │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_ServerNotStarted    │ 2114  │ The Server service has not been   
│
<BR>
│               │    │ started.                │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_WkstaNotStarted     │ 2138  │ The Requester service has not been
  │
<BR>
│               │    │ started.                │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_InternalError      │ 2140  │ An internal error has occurred.     │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_BadTransactConfig    │ 2141  │ The server is not configured for 
 │
<BR>
│               │    │ transactions.              │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_InvalidAPI       │ 2142  │ The requested API is not supported on
 │
<BR>
│               │    │ the remote server.           │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_ClientNameNotFound   │ 2312  │ A session does not exist with that
  │
<BR>
│               │    │ computer name.             │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_InvalidComputer     │ 2351  │ The specified computer name is not
  │
<BR>
│               │    │ valid.                 │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_NoSuchServer      │ 2460  │ The server ID is not valid.       │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_NoSuchSession      │ 2461  │ The session ID is not valid.      │

<BR>
└─────────────────────────────┴───────┴────────────────────────────────────────┘
<BR>

<P>
Other codes could be returned from the following functions:<!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 -->DosFsCtl<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->DosGetProcAddr<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->DosGetShrSeg<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->DosLoadModule<!-- lm: 0x2 10 -->
</UL><!-- lm: 0x2 1 -->
</UL>Remarks
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
All connections established during the session are disconnected when the
session is deleted, and any files that were opened during the session are
closed.  Data may be lost if any process on the requester is communicating
with the server when NetSessionDel is called.
<P>
Using the NetSessionDel command for the session that is running on the requester
from which the command is issued does not result in the NERR_Success message,
even if the operation is successful. DOS users receive a return code of
59, ERROR_UNEXP_<!-- entering slot 495 -->NET _ ERR . OS / 2usersreceiveareturncodeof240
,ERROR _ VC _ DISCONNECTED .IssuingtheNetSessionDelcommandforasessionthatisrunningonanotherrequesterreturnstheNERR
_ Successerrorcodeifthecommandisrunsuccessfully .<!-- lm: 0x2 1 -->
</UL>RelatedInformation
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
For information about retrieving the status of the session of a server,
see <A HREF="382_L2_NetSessionGetInfoorN.html">Session - NetSessionGetInfo</A>.


<P><HR>

<A HREF="379_L3_SessionLevel10.html">[Back: Session Level 10]</A> <BR>
<A HREF="381_L2_NetSessionEnumorNet3.html">[Next: NetSessionEnum or Net32SessionEnum]</A> 
</BODY>
</HTML>
