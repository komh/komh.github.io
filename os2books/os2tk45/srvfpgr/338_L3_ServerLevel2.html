<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Server Level 2</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Server Level 2</H1><!-- entering slot 438 -->
<PRE>struct server_info_2 {
   unsigned char                 sv2_name[CNLEN+1];
   unsigned char                 sv2_version_major;
   unsigned char                 sv2_version_minor;
   unsigned long                 sv2_type;
   unsigned char LSFAR * LSPTR   sv2_comment;
   unsigned long                 sv2_ulist_mtime;
   unsigned long                 sv2_glist_mtime;
   unsigned long                 sv2_alist_mtime;
   unsigned short                sv2_users;
   unsigned short                sv2_disc;
   unsigned char LSFAR * LSPTR   sv2_alerts;
   unsigned short                sv2_security;
   unsigned short                sv2_auditing;
   unsigned short                sv2_numadmin;
   unsigned short                sv2_lanmask;
   unsigned short                sv2_hidden;
   unsigned short                sv2_announce;
   unsigned short                sv2_anndelta;
   unsigned char                 sv2_guestacct[UNLEN + 1];
   unsigned char                 sv2_pad1;
   unsigned char LSFAR * LSPTR   sv2_userpath;
   unsigned short                sv2_chdevs;
   unsigned short                sv2_chdevq;
   unsigned short                sv2_chdevjobs;
   unsigned short                sv2_connections;
   unsigned short                sv2_shares;
   unsigned short                sv2_openfiles;
   unsigned short                sv2_sessopens;
   unsigned short                sv2_sessvcs;
   unsigned short                sv2_sessreqs;
   unsigned short                sv2_opensearch;
   unsigned short                sv2_activelocks;
   unsigned short                sv2_numreqbuf;
   unsigned short                sv2_sizreqbuf;
   unsigned short                sv2_numbigbuf;
   unsigned short                sv2_numfiletasks;
   unsigned short                sv2_alertsched;
   unsigned short                sv2_erroralert;
   unsigned short                sv2_logonalert;
   unsigned short                sv2_accessalert;
   unsigned short                sv2_diskalert;
   unsigned short                sv2_netioalert;
   unsigned short                sv2_maxauditsz;
   unsigned char LSFAR * LSPTR   sv2_srvheuristics;
};
</PRE>

<P>
where:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->The first five fields in this data structure are identical
to those in the previous level. See <A HREF="337_L3_ServerLevel1.html">Server
Level 1</A> for the type of software the computer is running.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_ulist_mtime</I> indicates the last time (in
seconds from 00:00:00, 1 January 1970) the users list was changed.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_glist_mtime</I> indicates the last time (in
seconds from 00:00:00, 1 January 1970) the groups list was changed.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_alist_mtime</I> indicates the last time (in
seconds from 00:00:00 1 January 1970) the access control list was changed.
<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_users</I> indicates the number of users that
are allowed on the server.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_disc</I> indicates the autodisconnect time
(in minutes).  A session is disconnected if it is idle longer than the time
specified by<I> sv2_disc</I>. If<I> sv2_disc</I> is SV_NODISC, autodisconnect
is not enabled.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_alerts</I> points to an ASCIIZ string containing
the list of user names on the alert table of the server.  Spaces separate
the names.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_security</I> specifies the security type of
the server.  It is set to SV_USERSECURITY, which is defined as follows in
SERVER.H: ┌───────────────────┬──────────┬───────────────────────────────────────────────┐
<BR>
│ SYMBOLIC CONSTANT │ VALUE   │ TYPE OF SECURITY                │
<BR>
├───────────────────┼──────────┼───────────────────────────────────────────────┤
<BR>
│ SV_SHARESECURITY  │ 0     │ Share-level                  │
<BR>
├───────────────────┼──────────┼───────────────────────────────────────────────┤
<BR>
│ SV_USERSECURITY  │ 1     │ User-level                   │
<BR>
└───────────────────┴──────────┴───────────────────────────────────────────────┘
<BR>
<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_auditing</I> indicates whether auditing is
enabled on the server.  If 0, auditing is disabled.  If not 0, the server
audits LAN Server activities, as described in <A HREF="111_L1_AuditingCategory.html">Auditing
Category</A>.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_numadmin</I> indicates the number of administrators
a server can accommodate at the same time.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_lanmask</I> determines the order in which the
network device drivers are served.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_hidden</I> determines whether the server is
visible to other computers in the same domain.<I> sv2_hidden</I> is defined
as follows in SERVER.H: ┌───────────────────┬──────────┬───────────────────────────────────────────────┐
<BR>
│ SYMBOLIC CONSTANT │ VALUE   │ MEANING                    │
<BR>
├───────────────────┼──────────┼───────────────────────────────────────────────┤
<BR>
│ SV_VISIBLE     │ 0     │ Visible server                 │
<BR>
├───────────────────┼──────────┼───────────────────────────────────────────────┤
<BR>
│ SV_HIDDEN     │ 1     │ Hidden server, not visible           │
<BR>
└───────────────────┴──────────┴───────────────────────────────────────────────┘
<BR>
<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_announce</I> specifies the network announce
delta (in seconds), which determines how often the server is to be announced
to other computers on the network.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_anndelta</I> specifies the random announce
rate (in milliseconds) for<I> sv2_announce</I>.  The announce interval (<I>sv2_announce</I>)
can vary by the amount specified in<I> sv2_anndelta</I>  For example, it
could vary from 9.999 seconds to 10.001 seconds, instead of being exactly
10 seconds each time.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_guestacct</I> is an ASCIIZ string containing
the name of a server reserved GUEST user account.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_pad1</I> word-aligns the data structure components.
<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_userpath</I> points to an ASCIIZ string containing
the path name to user directories.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_chdevs</I> indicates the number of serial<!-- entering slot 439 --> devices
that can be shared on the server.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_chdevq</I> indicates the number of serial device
queues that can coexist on the server.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_chdevjobs</I> indicates the number of serial
device jobs that can be pending on a server.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_connections</I> indicates the number of connections
to netnames that are allowed on a server.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_shares</I> indicates the number of netnames
a server can accommodate.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_openfiles</I> indicates the number of files
that can be opened at once.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_sessopens</I> indicates the number of files
that can be opened in one session.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_sessvcs</I> indicates the maximum number of
virtual circuits per client.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_sessreqs</I> indicates the number of simultaneous
requests a client can make on any virtual circuit.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_opensearch</I> indicates the number of searches
that can be opened at once.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_activelocks</I> indicates the number of file
locks that can be active.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_numreqbuf</I> indicates the number of server
buffers that are provided.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_sizreqbuf</I> indicates the size (in bytes)
of each server buffer.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_numbigbuf</I> indicates the number of 64KB
server buffers that are provided.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_numfiletasks</I> indicates the number of processes
that can access the operating system at one time.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_alertsched</I> indicates the alert interval
(in seconds) for notifying an administrator of a network event.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_erroralert</I> indicates the number of entries
that can be written to the error log file during a<I> sv2_alertsched</I> interval
before notifying an administrator.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_logonalert</I> indicates the number of failed
logon attempts to allow a user before notifying an administrator.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_accessalert</I> indicates the number of failed
file accesses to allow before issuing an administrative alert.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_diskalert</I> indicates the number of kilobytes
of free disk space at which an administrator must be notified that the free
space is low.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_netioalert</I> indicates the network I/O error
ratio (in tenths of a percent) to allow before notifying an administrator.
<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_maxauditsz</I> indicates the maximum audit
file size (in KB).<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv2_srvheuristics</I> points to an ASCIIZ string
of flags used to control the operations of a server.
<P>
The heuristics default to values that are optimal for most configurations
and normally need not be changed.<!-- lm: 0x2 1 -->
</UL>
<P>
For the defaults and ranges of the previous fields, see the IBMLAN.INI parameter
descriptions in the<I> LAN Server Network Administrator Reference Volume 2:
Performance Tuning</I>.

<P><HR>

<A HREF="337_L3_ServerLevel1.html">[Back: Server Level 1]</A> <BR>
<A HREF="339_L3_ServerLevel3.html">[Next: Server Level 3]</A> 
</BODY>
</HTML>
