<HTML>
<HEAD>
<TITLE>DosReadMailslot or Dos32ReadMailslot</TITLE>
</HEAD>
<BODY>
<H1>DosReadMailslot or Dos32ReadMailslot</H1><!-- entering slot 275 -->DosReadMailslot or Dos32ReadMailslot
<P>
The DosReadMailslot API reads and then removes the next available message
of a mailslot.
<P>
Messages are stored in a mailslot based on their priority (0-9). An incoming
message with a higher priority might be stored ahead of a previously stored
message with the same or lower priority.<!-- lm: 0x2 1 -->
<UL>
<P>
Restrictions
<P>
<!-- lm: 0x2 10 -->
<UL>This API can be called from DLS and OS/2 workstations.
A call to this API must be issued locally.<!-- lm: 0x2 1 -->
</UL> Syntax

<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;netcons.h&gt;
#include &lt;mailslot.h&gt;
 
DosReadMailslot(<I>mailslothandle</I>, <I>buf</I>, <I>pusBytesReturned</I>,
         <I>nextsize</I>, <I>nextpriority</I>, <I>timeout</I>);     /* 16 bit */
 
Dos32ReadMailslot(<I>mailslothandle</I>, <I>buf</I>, <I>pulBytesReturned</I>,
         <I>nextsize</I>, <I>nextpriority</I>, <I>timeout</I>);     /* 32 bit */
</PRE>
<!-- lm: 0x2 1 -->
</UL>Parameters
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
See <A HREF="021_L2_CommonParameterDefin.html">Common Parameter Definitions
</A>for descriptions of parameters not defined here.<!-- lm: 0x2 10 -->
<P>
<I>mailslothandle</I><!-- lm: 0x12 20 -->
<UL> (unsigned long) specifies
(by its handle) the mailslot to read.<!-- lm: 0x2 10 -->
</UL><I> nextsize
</I><!-- lm: 0x12 20 -->
<UL>(16-bit unsigned short LSFAR * or 32-bit unsigned
long LSFAR *) points to an unsigned short integer indicating the size (in
bytes) of the next message in the mailslot.  If 0, no message is available.
<!-- lm: 0x2 10 -->
</UL><I>nextpriority</I><!-- lm: 0x12 20 -->
<UL> (16-bit
unsigned short LSFAR * or 32-bit unsigned long LSFAR *) points to an unsigned
short integer indicating the priority (0 through 9) of the next message
in the mailslot.  (This parameter is undefined if<I> nextsize</I> is 0.)
<!-- lm: 0x2 10 -->
</UL><I>timeout</I><!-- lm: 0x12 20 -->
<UL> (long)
specifies the number of milliseconds to wait if a message is not available
immediately.  If 0, DosReadMailslot does not wait; if -1, DosReadMailslot
waits indefinitely.<!-- lm: 0x2 10 -->
</UL><!-- lm: 0x2 1 -->
</UL>Return Codes
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
The following table lists the return codes most significant to this API.
 (See <A HREF="462_L1_APIReturnCodes.html">API Return Codes</A> for a complete
list of return codes.) 旼컴컴컴컴컴컴컴컴컴컫컴컴컴컫컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴커쿞YMBOLICCONSTANT
쿣ALUE쿘EANING                    
<BR>
쳐컴컴컴컴컴컴컴컴컴컵컴컴컴컵컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴캑
<BR>
 NERR_Success     0    No errors were encountered.           
<BR>
쳐컴컴컴컴컴컴컴컴컴컵컴컴컴컵컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴캑
<BR>
 ERROR_INVALID_HANDL 6    The specified handle is not valid.        
<BR>
쳐컴컴컴컴컴컴컴컴컴컵컴컴컴컵컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴캑
<BR>
 ERROR_INTERRUPT    95    A system call has been interrupted.       

<BR>
쳐컴컴컴컴컴컴컴컴컴컵컴컴컴컵컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴캑
<BR>
 ERROR_BROKEN_PIPE   109   Write on pipe that is not being read.    

<BR>
쳐컴컴컴컴컴컴컴컴컴컵컴컴컴컵컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴캑
<BR>
 ERROR_SEM_TIMEOUT   121   A timeout happened from the semaphore API
func- 
<BR>
                tions.                      
<BR>
읕컴컴컴컴컴컴컴컴컴컨컴컴컴컨컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴켸
<BR>

<P>
Other codes could be returned by the DosSemRequest function.<!-- lm: 0x2 1 -->
</UL> Related
Information
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
For information about:<!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 -->Reading a message without removing it, see <A HREF="212_L2_DosPeekMailslotorDos.html">Mailslot
- DosPeekMailslot</A>.<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->Writing a message to a mailslot, see <A HREF="214_L2_DosWriteMailslotorDo.html">Mailslot
- DosWriteMailslot</A>.<!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="212_L2_DosPeekMailslotorDos.html">[Back: DosPeekMailslot or Dos32PeekMailslot]</A> <BR>
<A HREF="214_L2_DosWriteMailslotorDo.html">[Next: DosWriteMailslot or Dos32WriteMailslot]</A> 
</BODY>
</HTML>
