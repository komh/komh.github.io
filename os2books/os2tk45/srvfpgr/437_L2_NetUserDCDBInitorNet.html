<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>NetUserDCDBInit or Net32UserDCDBInit</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>NetUserDCDBInit or Net32UserDCDBInit</H1><!-- entering slot 569 -->NetUserDCDBInit or Net32UserDCDBInit
<P>
The NetUserDCDBInit API initializes the domain control database for the
specified user. This API replaces any existing user-specific database files
with empty database files.
<P>
This API should not be called when targeted at a DSS Server.<!-- lm: 0x2 1 -->
<UL>
<P>
Restrictions
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This API can be called from DLS and OS/2 workstations, but DLS workstations
can issue this call only to a remote LAN Server workstation.
<P>
For NetUserDCDBInit to run successfully, one of the following must be true:
<!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 -->The calling process has Administrator authority.
<!-- lm: 0x2 12 -->
<P>
<LI><!-- lm: 0x2 15 -->The calling process has accounts operator privilege.
<!-- lm: 0x2 12 -->
<P>
<LI><!-- lm: 0x2 15 -->The calling process has User authority and is initializing
the domain control database for the logged-on user.<!-- lm: 0x2 10 -->
</UL><!-- lm: 0x2 1 -->
</UL>Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;netcons.h&gt;#include &lt;dcdb.h&gt;
 
NetUserDCDBInit(<I>pszServername</I>, <I>pszUserID</I>,
                <I>reserved</I>);                      /* 16 bit */
 
Net32UserDCDBInit(<I>pszServername</I>, <I>pszUserID</I>,
                  <I>reserved</I>, <I>pszReservedX</I>);     /* 32 bit */
</PRE>
<!-- lm: 0x2 1 -->
</UL>Parameters
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
See <A HREF="021_L2_CommonParameterDefin.html">Common Parameter Definitions
</A>for descriptions of parameters not defined here.<!-- lm: 0x2 10 -->
<P>
<I>pszServername</I><!-- lm: 0x12 20 -->
<UL> (const unsigned char LSFAR
*) points to an ASCIIZ string containing the name of the domain controller
in which<I> pszUserID</I> is defined. It can be null only if the calling
application is running on the domain controller.<!-- lm: 0x2 10 -->
</UL><I> reserved
</I><!-- lm: 0x12 20 -->
<UL>(unsigned long) must be 0.<!-- lm: 0x2 10 -->
</UL><!-- lm: 0x2 1 -->
</UL>Return Codes
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
The following table lists the return codes most significant to this API.
 (See <A HREF="462_L1_APIReturnCodes.html">API Return Codes</A> for a complete
list of return codes.) ┌─────────────────────────────┬───────┬────────────────────────────────────────┐│SYMBOLICCONSTANT
    │VALUE│MEANING                │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ ERROR_FILE_NOT_FOUND     │ 2   │ The file was not found.         │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ ERROR_TOO_MANY_OPEN_FILES  │ 4   │ The maximum number of open files was
 │
<BR>
│               │    │ exceeded.                │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ ERROR_ACCESS_DENIED     │ 5   │ Administrator privilege is required.  │

<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ ERROR_NOT_ENOUGH_MEMORY   │ 8   │ Sufficient memory is not available.
  │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ ERROR_INVALID_DATA      │ 13   │ The specified data is not valid.    │

<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ ERROR_INVALID_PARAMETER   │ 87   │ At least one parameter value is not
  │
<BR>
│               │    │ valid.                 │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_NetNotStarted      │ 2102  │ The redirector NETWKSTA.200 has not
  │
<BR>
│               │    │ been started.              │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_BufTooSmall       │ 2123  │ The buffer is too small for fixed-   │

<BR>
│               │    │ length data.              │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_InvalidAPI       │ 2142  │ The requested API is not supported on
 │
<BR>
│               │    │ the remote server.           │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_UserNotFound      │ 2221  │ The user name cannot be found.     │

<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_DCDBError        │ 2786  │ A domain control database file is    │
<BR>
│               │    │ unreadable or cannot be accessed at   │
<BR>
│               │    │ this time.               │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_NotPrimaryDCDB     │ 2795  │ An attempt was made to access a domain
│
<BR>
│               │    │ control database file on a machine   │
<BR>
│               │    │ that is not the domain controller.   │
<BR>
└─────────────────────────────┴───────┴────────────────────────────────────────┘
<BR>

<P>
Other codes could be returned from the following functions:<!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 -->DosLoadModule<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->DosGetProcAddr<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->NetAccessAdd<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->NetAccessGetInfo<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->NetAccessSetInfo<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->DosQFileMode<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->DosOpen2<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->DosWrite<!-- lm: 0x2 10 -->
</UL><!-- lm: 0x2 1 -->
</UL>Remarks
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
You can<!-- entering slot 570 --> assume a user's domain control database
(DCDB) area has not been initialized if the NetUserGetLogonAsn API is called
and the ERROR_PATH_NOT_FOUND code is returned.

<P><HR>

<A HREF="436_L2_NetUserAddorNet32Use.html">[Back: NetUserAdd or Net32UserAdd]</A> <BR>
<A HREF="438_L2_NetUserDelorNet32Use.html">[Next: NetUserDel or Net32UserDel]</A> 
</BODY>
</HTML>
