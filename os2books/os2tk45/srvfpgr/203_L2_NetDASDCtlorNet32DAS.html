<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>NetDASDCtl or Net32DASDCtl</TITLE>
</HEAD>
<BODY>
<H1>NetDASDCtl or Net32DASDCtl</H1><!-- entering slot 259 -->NetDASDCtl or Net32DASDCtl
<P>
The NetDASDCtl API prepares a 386-HPFS drive for directory limits. Before
any other NetDASDxxx API can be used on a drive, that drive must be enabled
(only once) for directory limits by using either this API, the NET DASD
command, or the LAN Server Administration GUI.<!-- lm: 0x2 1 -->
<UL>
<P>
Restrictions
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This API can be called from DLS and OS/2 workstations, but DLS workstations
can issue this call only to a remote LAN Server workstation. Administrator
authority is required to call this API.<!-- lm: 0x2 1 -->
</UL> Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;neterr.h&gt;
#include &lt;dasd.h&gt;
 
NetDASDCtl(<I>pszServername</I>, <I>sLevel</I>,
           <I>buf</I>, <I>usBuflen</I>);    /* 32 bit *slash.
 
Net32DASDCtl(<I>pszServername</I>, <I>ulLevel</I>,
           <I>buf</I>, <I>ulBuflen</I>);    /* 32 bit */
</PRE>
<!-- lm: 0x2 1 -->
</UL>Parameters
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
See <A HREF="021_L2_CommonParameterDefin.html">Common Parameter Definitions
</A>for descriptions of parameters not defined here.<!-- lm: 0x2 10 -->
<P>
<I>sLevel</I> or<I> ulLevel</I><!-- lm: 0x12 20 -->
<UL> (16-bit short or
32-bit unsigned long) must be 0, which specifies the data structure described
in <A HREF="198_L2_DirectoryLimitsIniti.html">Directory Limits Initialization
Data Structure</A>.<!-- lm: 0x2 10 -->
</UL><!-- lm: 0x2 1 -->
</UL>Return Codes
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
The following table lists the return codes most significant to this API.
(See <A HREF="462_L1_APIReturnCodes.html">API Return Codes</A> for a complete
list of return codes.) ┌─────────────────────────┬───────┬────────────────────────────────────────────┐│SYMBOLICCONSTANT
  │VALUE│MEANING                  │
<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ NERR_Success       │ 0   │ No errors were encountered.         │
<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ ERROR_ACCESS_DENIED   │ 5   │ Administrator privilege is required.    │

<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ ERROR_NOT_SUPPORTED   │ 50   │ This request is not supported by the  
│
<BR>
│             │    │ network.                  │
<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ ERROR_INVALID_PARAMETER │ 87   │ At least one parameter value is not valid.
│
<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ ERROR_INVALID_LEVEL   │ 124  │ The sLevel parameter is not valid.     │

<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ NERR_NetNotStarted    │ 2101  │ The device driver is not started.    
│
<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ NERR_RedirectedPath   │ 2117  │ The operation is not valid on a redirected
│
<BR>
│             │    │ device.                   │
<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ NERR_BufTooSmall     │ 2123  │ The buffer is too small for fixed-length
 │
<BR>
│             │    │ data.                    │
<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ NERR_UserNotFound    │ 2221  │ The user name cannot be found.       │

<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ NERR_ACFNotLoaded    │ 2227  │ The UAS database has not been started.
  │
<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ NERR_DASDNotInstalled  │ 2301  │ Directory limits are not enabled on the
  │
<BR>
│             │    │ specified drive.              │
<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ NERR_DASDAlreadyInstalle│ 2302  │ Directory limits are already enabled
on   │
<BR>
│             │    │ the specified drive.            │
<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ NERR_NotHPFSVolume    │ 2303  │ The directory is not on a 386-HPFS volume.
│
<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ NERR_DASDInstallVolumeLo│k2305  │ Support for directory limits on the
speci- │
<BR>
│             │    │ fied drive cannot complete.  The drive is  │
<BR>
│             │    │ in use or locked by another process.  You  │
<BR>
│             │    │ must shut down and restart your system in  │
<BR>
│             │    │ order for directory limits to become oper- │
<BR>
│             │    │ ational.                  │
<BR>
└─────────────────────────┴───────┴────────────────────────────────────────────┘
<BR>

<P>
Other codes could be returned from the following functions:<!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 -->DosAllocSeg<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->DosOpen<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->DosQFSInfo<!-- lm: 0x2 10 -->
</UL><!-- lm: 0x2 1 -->
</UL>Remarks
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
API calls that are remoted to a server might timeout if no response is<!-- entering slot 260 --> received
from the server. The NetDASDCtl function might take up to several minutes
to complete execution, especially on a large drive.  Therefore, it can return
a nonzero return code while the remote function is still running.  If one
of the following error codes is returned by a remote NetDASDCtl API, a timeout
probably has occurred: ┌─────────────────────────┬───────┬────────────────────────────────────────────┐│SYMBOLICCONSTANT
  │VALUE│MEANING                  │
<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ ERROR_NETNAME_DELETED  │ 64   │ The network name was deleted.        │
<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ ERROR_BAD_NET_NAME    │ 67   │ This network name cannot be found.     │

<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ ERROR_VC_DISCONNECTED  │ 240  │ The session was canceled.          │
<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ NERR_BadTransactConfig  │ 2141  │ The server is not configured for trans-
  │
<BR>
│             │    │ actions.                  │
<BR>
└─────────────────────────┴───────┴────────────────────────────────────────────┘
<BR>

<P>
These error codes do not mean necessarily that the remote NetDASDCtl function
failed. The function might still be running remotely. Therefore, it is a
good idea to run an application that calls NetDASDCtl on the same server
where the function is to be run, so the call can be issued locally.

<P><HR>

<A HREF="202_L2_NetDASDCheckorNet32D.html">[Back: NetDASDCheck or Net32DASDCheck]</A> <BR>
<A HREF="204_L2_NetDASDDelorNet32DAS.html">[Next: NetDASDDel or Net32DASDDel]</A> 
</BODY>
</HTML>
