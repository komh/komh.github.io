<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>NetUserDel or Net32UserDel</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>NetUserDel or Net32UserDel</H1><!-- entering slot 571 -->NetUserDel or Net32UserDel
<P>
The NetUserDel API removes an account from the user account subsystem (UAS)
database, ending all access to the resources in the system. Deleting an
account also removes it from groups in the system.<!-- lm: 0x2 1 -->
<UL>
<P>
Restrictions
<P>
<!-- lm: 0x2 10 -->
<UL><B>LAN Server and OS/2 Warp Server Only</B>
<P>
This API can be called from DLS and OS/2 workstations, but only DLS workstations
can issue this call to a remote LAN Server workstation.  DLS workstations
can issue this call locally only if the Peer service is started. Administrator
authority is required to call this API.
<P>
If the account being deleted is the last account in the database with administrator
privilege, the error NERR_LastAdmin is returned and the delete function
fails.
<P>
<B>Directory and Security Server Only</B>
<P>
Deletes a user from the DCE registry rather from the NET.ACC file. Authority
is based on ACLs rather that privilege level. NERR_LastAdmin is never returned.
 If the last admin in a resource domain is deleted, RGYSYNC cannot delete
the user from the NET.ACC file on the resource domain controller.<!-- lm: 0x2 1 -->
</UL> Syntax

<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;netcons.h&gt;
#include &lt;access.h&gt;
#include &lt;lsdceerr.h&gt;   /* DSS only */
 
NetUserDel(<I>pszTarget</I>, <I>pszUserID</I>);                        /* 16 bit */
 
Net32UserDel(<I>pszTarget</I>, <I>pszUserID</I>, <I>pStatusbuf</I>);      /* 32 bit */
</PRE>
<!-- lm: 0x2 1 -->
</UL>Parameters
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
See <A HREF="021_L2_CommonParameterDefin.html">Common Parameter Definitions
</A>for the data types and descriptions of these parameters.<!-- lm: 0x2 1 -->
</UL> Return
Codes
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
The following table lists the return codes most significant to this API.
 (See <A HREF="462_L1_APIReturnCodes.html">API Return Codes</A> for a complete
list of return codes.) ┌─────────────────────────────┬───────┬────────────────────────────────────────┐
<BR>
│ SYMBOLIC CONSTANT      │ VALUE │ MEANING                 │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_Success         │ 0   │ No errors were encountered.       │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ ERROR_ACCESS_DENIED     │ 5   │ Administrator privilege is required.  │

<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ ERROR_NOT_ENOUGH_MEMORY   │ 8   │ Sufficient memory is not available.
  │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ ERROR_NOT_SUPPORTED     │ 50   │ This request is not supported by the
 │
<BR>
│               │    │ network.                │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ ERROR_BAD_NETPATH      │ 53   │ The network path cannot be found.    │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ ERROR_NETWORK_ACCESS_DENIED │ 65   │ Network access is denied.        │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ ERROR_INVALID_PARAMETER   │ 87   │ At least one parameter value is not
  │
<BR>
│               │    │ valid.                 │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_NetNotStarted      │ 2102  │ The redirector NETWKSTA.200 has not
  │
<BR>
│               │    │ been started.              │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_RemoteOnly       │ 2106  │ This operation is not supported on   │

<BR>
│               │    │ workstations.              │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_WkstaNotStarted     │ 2138  │ The Requester service has not been
  │
<BR>
│               │    │ started.                │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_InternalError      │ 2140  │ An internal error has occurred.     │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_BadTransactConfig    │ 2141  │ The server is not configured for 
 │
<BR>
│               │    │ transactions.              │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_UserNotFound      │ 2221  │ The user name cannot be found.     │

<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_NotPrimary       │ 2226  │ The UAS database is replicant and does
│
<BR>
│               │    │ not allow updates.           │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_ACFNotLoaded      │ 2227  │ The UAS database has not been started.
│
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_ACFFileIOFail      │ 2229  │ An error was encountered in accessing
 │
<BR>
│               │    │ the accounts database.         │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_UserLogon        │ 2231  │ Deleting a user with a session is not
 │
<BR>
│               │    │ allowed.                │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_InvalidDatabase     │ 2247  │ The UAS database file is damaged. 
 │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_<!-- entering slot 572 -->InvalidComputer    │2351 │Thespecifiedcomputernameisnot
 │
<BR>
│               │    │ valid.                 │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_LastAdmin        │ 2452  │ The last administrator cannot be    │

<BR>
│               │    │ deleted.                │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_DCEError        │ 7500  │ DCE error status returned.       │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_DCEErrorLogged     │ 7501  │ DCE error status has been logged.  
│
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_AuthTicketExpired    │ 7511  │ The user's DCE authorization ticket
  │
<BR>
│               │    │ has expired.              │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_RegistryNotFound    │ 7512  │ Unable to contact the DCE security
  │
<BR>
│               │    │ registry.                │
<BR>
├─────────────────────────────┼───────┼────────────────────────────────────────┤
<BR>
│ NERR_UserNotInResdom     │ 7513  │ The user is not a member of the speci-
│
<BR>
│               │    │ fied resource domain.          │
<BR>
└─────────────────────────────┴───────┴────────────────────────────────────────┘
<BR>

<P>
Other codes could be returned from the following functions:<!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 -->DosAllocSeg<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->DosChgFilePtr<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->DosFsCtl<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->DosGetShrSeg<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->DosNewSize<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->DosQFileInfo<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->DosRead<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->DosWrite<!-- lm: 0x2 10 -->
</UL><!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
For information about:<!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 -->Creating a user account in a UAS database, see <A HREF="436_L2_NetUserAddorNet32Use.html">User
- NetUserAdd</A>.<!-- lm: 0x2 12 --> <!-- lm: 0x2 15 -->
<UL>Listing user
accounts on a server, see <A HREF="439_L2_NetUserEnumorNet32Us.html">User
- NetUserEnum</A>.<!-- lm: 0x2 12 -->
</UL><!-- lm: 0x2 15 -->
<UL>Changing a user account, see <A HREF="449_L2_NetUserSetInfoorNet3.html">User
- NetUserSetInfo</A>.<!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="437_L2_NetUserDCDBInitorNet.html">[Back: NetUserDCDBInit or Net32UserDCDBInit]</A> <BR>
<A HREF="439_L2_NetUserEnumorNet32Us.html">[Next: NetUserEnum or Net32UserEnum]</A> 
</BODY>
</HTML>
