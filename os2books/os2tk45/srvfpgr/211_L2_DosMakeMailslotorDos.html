<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosMakeMailslot or Dos32MakeMailslot</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosMakeMailslot or Dos32MakeMailslot</H1><!-- entering slot 273 -->DosMakeMailslot or Dos32MakeMailslot
<P>
The DosMakeMailslot API creates a mailslot and returns its handle.<!-- lm: 0x2 1 -->
<UL>
<P>
Restrictions
<P>
<!-- lm: 0x2 10 -->
<UL>This API can be called from DLS and OS/2 workstations.
A call to this API must be issued locally.
<P>
Mailslot names must be unique; no two mailslots on any one computer can
have the same name.
<P>
Mailslot handles cannot be passed to other processes by way of the OS/2
DosExecPgm function. Mailslot handles can be shared, however, among threads
in a single process. Thus, multiple threads can use the same handle to read
or write data to the mailslot.<!-- lm: 0x2 1 -->
</UL> Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;netcons.h&gt;
#include &lt;mailslot.h&gt;
 
DosMakeMailslot(<I>pMailslotName</I>, <I>messagesize</I>,
               <I>mailslotsize</I>, <I>pMailslotHandle</I>);     /* 16 bit */
 
Dos32MakeMailslot(<I>pMailslotName</I>, <I>messagesize</I>,
               <I>mailslotsize</I>, <I>pMailslotHandle</I>);     /* 32 bit */
</PRE>
<!-- lm: 0x2 1 -->
</UL>Parameters
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
See <A HREF="021_L2_CommonParameterDefin.html">Common Parameter Definitions
</A>for descriptions of parameters not defined here.<!-- lm: 0x2 10 -->
<P>
<I>pMailslotName</I><!-- lm: 0x12 20 -->
<UL> (const unsigned char) points
to an ASCIIZ string containing the name for the mailslot. Use the format
\mailslot\<I>name</I>.<!-- lm: 0x2 10 -->
</UL><I> messagesize</I><!-- lm: 0x12 20 -->
<UL> (16-bit
unsigned short or 32-bit unsigned long) specifies the maximum message size
(in bytes) the mailslot can accept. Generally, mailslots cannot accept messages
larger than 65475 bytes.<!-- lm: 0x2 10 -->
</UL><I> mailslotsize</I><!-- lm: 0x12 20 -->
<UL> (16-bit
unsigned short or 32-bit unsigned long) specifies the size (in bytes) of
the mailslot.  The value of<I> mailslotsize</I> must be equal to or greater
than the value of<I> messagesize</I>.<!-- lm: 0x2 10 -->
</UL><I> pMailslotHandle
</I><!-- lm: 0x12 20 -->
<UL>(unsigned long LSFAR *) points to an unsigned
integer that is the returned handle for the mailslot.<!-- lm: 0x2 10 -->
</UL><!-- lm: 0x2 1 -->
</UL>Return Codes
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
The following table lists the return codes most significant to this API.
 (See <A HREF="462_L1_APIReturnCodes.html">API Return Codes</A> for a complete
list of return codes.) ┌────────────────────────┬───────┬─────────────────────────────────────────────┐│SYMBOLICCONSTANT
  │VALUE│MEANING                  │
<BR>
├────────────────────────┼───────┼─────────────────────────────────────────────┤
<BR>
│ NERR_Success      │ 0   │ No errors were encountered.         │
<BR>
├────────────────────────┼───────┼─────────────────────────────────────────────┤
<BR>
│ ERROR_PATH_NOT_FOUND  │ 3   │ The path was not found.           │
<BR>
├────────────────────────┼───────┼─────────────────────────────────────────────┤
<BR>
│ ERROR_NOT_ENOUGH_MEMORY│ 8   │ Sufficient memory is not available.   
│
<BR>
├────────────────────────┼───────┼─────────────────────────────────────────────┤
<BR>
│ ERROR_INVALID_PARAMETER│ 87   │ At least one parameter value is not valid.
 │
<BR>
└────────────────────────┴───────┴─────────────────────────────────────────────┘
<BR>

<P>
Other codes could be returned from the following functions:<!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 -->DosAllocShrSeg<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->DosExitList<!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="210_L2_DosMailslotInfoorDos.html">[Back: DosMailslotInfo or Dos32MailslotInfo]</A> <BR>
<A HREF="212_L2_DosPeekMailslotorDos.html">[Next: DosPeekMailslot or Dos32PeekMailslot]</A> 
</BODY>
</HTML>
