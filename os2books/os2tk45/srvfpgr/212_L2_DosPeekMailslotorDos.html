<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>DosPeekMailslot or Dos32PeekMailslot</TITLE>
</HEAD>
<BODY>
<H1>DosPeekMailslot or Dos32PeekMailslot</H1><!-- entering slot 274 -->DosPeekMailslot or Dos32PeekMailslot
<P>
The DosPeekMailslot API reads the next available message in a mailslot without
removing it.
<P>
<B>Note: </B> If a higher-priority message arrives, there is no guarantee
that a message previously read by the DosPeekMailslot API will be the same
message read by a subsequent call to the DosReadMailslot API.<!-- lm: 0x2 10 -->
<UL>
<P>
<!-- lm: 0x2 1 -->
</UL>Restrictions
<P>
<!-- lm: 0x2 10 -->
<UL>This API can be called from DLS and OS/2 workstations.
A call to this API must be issued locally.<!-- lm: 0x2 1 -->
</UL> Syntax

<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;netcons.h&gt;
#include &lt;mailslot.h&gt;
 
DosPeekMailslot(<I>mailslothandle</I>, <I>buf</I>, <I>pusBytesReturned</I>,
                  <I>nextsize</I>, <I>nextpriority</I>);     /* 16 bit */
 
Dos32PeekMailslot(<I>mailslothandle</I>, <I>buf</I>, <I>pulBytesReturned</I>,
                  <I>nextsize</I>, <I>nextpriority</I>);     /* 32 bit */
</PRE>
<!-- lm: 0x2 1 -->
</UL>Parameters
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
See <A HREF="021_L2_CommonParameterDefin.html">Common Parameter Definitions
</A>for descriptions of parameters not defined here.<!-- lm: 0x2 10 -->
<P>
<I>mailslothandle</I><!-- lm: 0x12 20 -->
<UL> (unsigned long) specifies
(by its handle) the mailslot to read.<!-- lm: 0x2 10 -->
</UL><I> nextsize
</I><!-- lm: 0x12 20 -->
<UL>(16-bit unsigned short LSFAR * or 32-bit unsigned
long LSFAR *) points to an unsigned short integer indicating the size (in
bytes) of the next message in the mailslot.  If 0, no message is available.
<!-- lm: 0x2 10 -->
</UL><I>nextpriority</I><!-- lm: 0x12 20 -->
<UL> (16-bit
unsigned short LSFAR * or 32-bit unsigned long LSFAR *) points to an unsigned
short integer indicating the priority (0-9) of the next message in the mailslot.
 (This parameter is undefined if<I> nextsize</I> is 0.)<!-- lm: 0x2 10 -->
</UL><!-- lm: 0x2 1 -->
</UL>Return Codes
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
The following table lists the return codes most significant to this API.
 (See <A HREF="462_L1_APIReturnCodes.html">API Return Codes</A> for a complete
list of return codes.) ┌─────────────────────────────┬────────────┬───────────────────────────────────┐│SYMBOLICCONSTANT
    │VALUE   │MEANING             │
<BR>
├─────────────────────────────┼────────────┼───────────────────────────────────┤
<BR>
│ NERR_Success         │ 0      │ No errors were encountered.    │
<BR>
├─────────────────────────────┼────────────┼───────────────────────────────────┤
<BR>
│ ERROR_INVALID_HANDLE     │ 6      │ The specified handle is not    │
<BR>
│               │       │ valid.               │
<BR>
├─────────────────────────────┼────────────┼───────────────────────────────────┤
<BR>
│ ERROR_BROKEN_PIPE      │ 109     │ Write on pipe that is not being  │

<BR>
│               │       │ read.               │
<BR>
└─────────────────────────────┴────────────┴───────────────────────────────────┘
<BR>

<P>
Other codes could be returned by the DosSemRequest function.<!-- lm: 0x2 1 -->
</UL> Related
Information
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
For information about:<!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 -->Reading and removing a message, see <A HREF="213_L2_DosReadMailslotorDos.html">Mailslot
- DosReadMailslot</A>.<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->Writing a message to a mailslot, see <A HREF="214_L2_DosWriteMailslotorDo.html">Mailslot
- DosWriteMailslot</A>.<!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="211_L2_DosMakeMailslotorDos.html">[Back: DosMakeMailslot or Dos32MakeMailslot]</A> <BR>
<A HREF="213_L2_DosReadMailslotorDos.html">[Next: DosReadMailslot or Dos32ReadMailslot]</A> 
</BODY>
</HTML>
