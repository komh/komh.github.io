<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Server Level 3</TITLE>
</HEAD>
<BODY>
<H1>Server Level 3</H1><!-- entering slot 440 -->
<P>
Level 3 is not valid for the NetServerEnum2 call.
<PRE>struct server_info_3 {
     unsigned char                 sv3_name[CNLEN+1];
     unsigned char                 sv3_version_major;
     unsigned char                 sv3_version_minor;
     unsigned long                 sv3_type;
     unsigned char LSFAR * LSPTR   sv3_comment;
     unsigned long                 sv3_ulist_mtime;
     unsigned long                 sv3_glist_mtime;
     unsigned long                 sv3_alist_mtime;
     unsigned short                sv3_users;
     unsigned short                sv3_disc;
     unsigned char LSFAR * LSPTR   sv3_alerts;
     unsigned short                sv3_security;
     unsigned short                sv3_auditing;
     unsigned short                sv3_numadmin;
     unsigned short                sv3_lanmask;
     unsigned short                sv3_hidden;
     unsigned short                sv3_announce;
     unsigned short                sv3_anndelta;
     unsigned char                 sv3_guestacct[UNLEN + 1];
     unsigned char                 sv3_pad1;
     unsigned char LSFAR * LSPTR   sv3_userpath;
     unsigned short                sv3_chdevs;
     unsigned short                sv3_chdevq;
     unsigned short                sv3_chdevjobs;
     unsigned short                sv3_connections;
     unsigned short                sv3_shares;
     unsigned short                sv3_openfiles;
     unsigned short                sv3_sessopens;
     unsigned short                sv3_sessvcs;
     unsigned short                sv3_sessreqs;
     unsigned short                sv3_opensearch;
     unsigned short                sv3_activelocks;
     unsigned short                sv3_numreqbuf;
     unsigned short                sv3_sizreqbuf;
     unsigned short                sv3_numbigbuf;
     unsigned short                sv3_numfiletasks;
     unsigned short                sv3_alertsched;
     unsigned short                sv3_erroralert;
     unsigned short                sv3_logonalert;
     unsigned short                sv3_accessalert;
     unsigned short                sv3_diskalert;
     unsigned short                sv3_netioalert;
     unsigned short                sv3_maxauditsz;
     unsigned char LSFAR * LSPTR   sv3_srvheuristics;
     unsigned long                 sv3_auditedevents;
     unsigned short                sv3_autoprofile;
     unsigned char LSFAR * LSPTR   sv3_autopath;
};
</PRE>
where:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->The first 44 fields in this data structure are identical
to those in the previous level. See the heuristics information under <A HREF="336_L3_ServerLevel0.html">Server
Level 0</A>.  Note the types of software the computer can run in <A HREF="337_L3_ServerLevel1.html">Server
Level 1</A>.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv3_auditedevents</I> is the audit event control
mask. Setting bits in the mask to 1 enables auditing of events according
to the following symbolic constants defined in AUDIT.H: ┌───────────────────────────────────────┬──────────────────────────────────────┐
<BR>
│ SYMBOLIC CONSTANT           │ MEANING                │
<BR>
├───────────────────────────────────────┼──────────────────────────────────────┤
<BR>
│ SVAUD_SERVICE             │ Service state change         │
<BR>
├───────────────────────────────────────┼──────────────────────────────────────┤
<BR>
│ SVAUD_GOODSESSLOGON          │ Successful session logon requests   │
<BR>
├───────────────────────────────────────┼──────────────────────────────────────┤
<BR>
│ SVAUD_BADSESSLOGON           │ Unsuccessful session logon requests  │
<BR>
├───────────────────────────────────────┼──────────────────────────────────────┤
<BR>
│ SVAUD_SESSLOGON            │ All session logon and logoff     │
<BR>
│                    │ requests               │
<BR>
├───────────────────────────────────────┼──────────────────────────────────────┤
<BR>
│ SVAUD_GOODNETLOGON           │ Successful network logon requests   │
<BR>
├───────────────────────────────────────┼──────────────────────────────────────┤
<BR>
│ SVAUD_BADNETLOGON           │ Unsuccessful network logon requests  │
<BR>
├───────────────────────────────────────┼──────────────────────────────────────┤
<BR>
│ SVAUD_NETLOGON             │ All network logon and logoff     │
<BR>
│                    │ requests               │
<BR>
├───────────────────────────────────────┼──────────────────────────────────────┤
<BR>
│ SVAUD_LOGON              │ All logon and logoff requests     │
<BR>
│                    │ (network and session)         │
<BR>
├───────────────────────────────────────┼──────────────────────────────────────┤
<BR>
│ SVAUD_GOODUSE             │ Successful share requests       │
<BR>
├───────────────────────────────────────┼──────────────────────────────────────┤
<BR>
│ SVAUD_BADUSE              │ Unsuccessful share requests      │
<BR>
├───────────────────────────────────────┼──────────────────────────────────────┤
<BR>
│ SVAUD_USE               │ All share requests, regardless of   │
<BR>
│                    │ GOODUSE or BADUSE switches      │
<BR>
├───────────────────────────────────────┼──────────────────────────────────────┤
<BR>
│ SVAUD_USERLIST             │ Changes to the user or group account │
<BR>
│                    │ database               │
<BR>
├───────────────────────────────────────┼──────────────────────────────────────┤
<BR>
│ SVAUD_PERMISSIONS           │ Changes to the access control list  │
<BR>
│                    │ database               │
<BR>
├───────────────────────────────────────┼──────────────────────────────────────┤
<BR>
│ SVAUD_RESOURCE             │ Resource access as defined by the   │
<BR>
│                    │ per-resource auditing options speci- │
<BR>
│                    │ fied in the access control list    │
<BR>
├───────────────────────────────────────┼──────────────────────────────────────┤
<BR>
│ SVAUD_LOGONLIM             │ Logon limit violations        │
<BR>
└───────────────────────────────────────┴──────────────────────────────────────┘
<BR>
<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv3_autoprofile</I> is the bit mask for automatic
server configuration as follows: ┌─────────────────────────┬───────┬────────────────────────────────────────────┐
<BR>
│ SYMBOLIC CONSTANT    │ VALUE │ MEANING                   │
<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ SW_AUTOPROF_LOAD_MASK  │ 0x1  │ Autoload at server startup         │
<BR>
├─────────────────────────┼───────┼────────────────────────────────────────────┤
<BR>
│ SW_AUTOPROF_SAVE_MASK  │ 0x2  │ Autosave at server shutdown         │
<BR>
└─────────────────────────┴───────┴────────────────────────────────────────────┘
<BR>
<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><I>sv3_autopath</I> indicates where to save and load
the server information for autoload.<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="338_L3_ServerLevel2.html">[Back: Server Level 2]</A> <BR>
<A HREF="340_L3_ServerLevel4.html">[Next: Server Level 4]</A> 
</BODY>
</HTML>
