<HTML>
<HEAD>
<TITLE>User Category</TITLE>
</HEAD>
<BODY>
<H1>User Category</H1><!-- entering slot 536 -->
<P>
This category includes the following APIs:<!-- lm: 0x2 6 -->
<UL>
<P>
<A HREF="435_L2_NetLogonEnumorNet32L.html">User - NetLogonEnum</A><!-- lm: 0x2 6 -->
<BR>
<A HREF="436_L2_NetUserAddorNet32Use.html">User - NetUserAdd</A><!-- lm: 0x2 6 -->
<BR>
<A HREF="437_L2_NetUserDCDBInitorNet.html">User - NetUserDCDBInit</A><!-- lm: 0x2 6 -->
<BR>
<A HREF="438_L2_NetUserDelorNet32Use.html">User - NetUserDel</A><!-- lm: 0x2 6 -->
<BR>
<A HREF="439_L2_NetUserEnumorNet32Us.html">User - NetUserEnum</A><!-- lm: 0x2 6 -->
<BR>
<A HREF="440_L2_NetUserGetAppSelorNe.html">User - NetUserGetAppSel</A><!-- lm: 0x2 6 -->
<BR>
<A HREF="441_L2_NetUserGetGroupsorNe.html">User - NetUserGetGroups</A><!-- lm: 0x2 6 -->
<BR>
<A HREF="442_L2_NetUserGetInfoorNet3.html">User - NetUserGetInfo</A><!-- lm: 0x2 6 -->
<BR>
<A HREF="443_L2_NetUserGetLogonAsnor.html">User - NetUserGetLogonAsn</A><!-- lm: 0x2 6 -->
<BR>
<A HREF="444_L2_NetUserModalsGetorNe.html">User - NetUserModalsGet</A><!-- lm: 0x2 6 -->
<BR>
<A HREF="445_L2_NetUserModalsSetorNe.html">User - NetUserModalsSet</A><!-- lm: 0x2 6 -->
<BR>
<A HREF="446_L2_NetUserPasswordSetor.html">User - NetUserPasswordSet</A><!-- lm: 0x2 6 -->
<BR>
<A HREF="447_L2_NetUserSetAppSelorNe.html">User - NetUserSetAppSel</A><!-- lm: 0x2 6 -->
<BR>
<A HREF="448_L2_NetUserSetGroupsorNe.html">User - NetUserSetGroups</A><!-- lm: 0x2 6 -->
<BR>
<A HREF="449_L2_NetUserSetInfoorNet3.html">User - NetUserSetInfo</A><!-- lm: 0x2 6 -->
<BR>
<A HREF="451_L2_NetUserSetLogonAsnor.html">User - NetUserSetLogonAsn</A><!-- lm: 0x2 6 -->
<BR>
<A HREF="452_L2_NetUserValidate2orNe.html">User - NetUserValidate2</A><!-- lm: 0x2 1 -->
</UL>
<P>
User APIs control a user's account in the user accounts subsystem (UAS)
database for LAN Server and OS/2 Warp Server.  The following APIs are used
with the DCDB.H and NETCONS.H header files:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->NetUserDCDBInit<!-- lm: 0x2 3 --> <!-- lm: 0x2 6 -->
<UL>NetUserGetAppSel
<!-- lm: 0x2 3 -->
</UL><!-- lm: 0x2 6 -->
<UL>NetUserGetLogonAsn<!-- lm: 0x2 3 -->
</UL><!-- lm: 0x2 6 -->
<UL>NetUserSetAppSel<!-- lm: 0x2 3 -->
</UL><!-- lm: 0x2 6 -->
<UL>NetUserSetLogonAsn<!-- lm: 0x2 1 -->
</UL>
<P>
Each user or application that accesses the resources must have a user account
in the system. The system uses this account to verify that the user or application
has permission to connect to any shared resource. A user's account is set
up by calling the NetUserAdd API.
<P>
There are three types of information in a user's account:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->That which can be set only by the administrator<!-- lm: 0x2 3 --> <!-- lm: 0x2 6 -->
<UL>That
which can be set by the owner of the account<!-- lm: 0x2 3 -->
</UL><!-- lm: 0x2 6 -->
<UL>That which can be set only by the system<!-- lm: 0x2 1 -->
</UL>
<P>

<P>
The following user account information can be set only by Administrator
authority:<!-- lm: 0x2 1 -->
<P>
Account name<!-- lm: 0x12 11 -->
<UL> The name used to log on (for example,
JSMITH).<!-- lm: 0x2 1 -->
</UL> Full name field<!-- lm: 0x12 11 -->
<UL> The
full name of the user (for example, John Smith, Jr.). This field can be
up to MAXCOMMENTSZ + 1 bytes long.  A null pointer is treated as a null
string.<!-- lm: 0x2 1 -->
</UL> Comment<!-- lm: 0x12 11 -->
<UL> The comment
associated with an account (for example, Vice President). It can contain
any text and can be up to MAXCOMMENTSZ + 1 bytes.<!-- lm: 0x2 1 -->
</UL> Home
directory<!-- lm: 0x12 11 -->
<UL> The network directory (absolute, UNC,
or local path) for the user's files.  The field length can be up to PATHLEN
bytes.<!-- lm: 0x2 1 -->
</UL> Account disabled<!-- lm: 0x12 11 -->
<UL> When
set, no one can log on using this account.<!-- lm: 0x2 1 -->
</UL> Privilege
level<!-- lm: 0x12 11 -->
<UL> Affects the default rights of an account
to access resources and to call APIs remotely. An account can have one of
three levels of privilege:  GUEST, USER, or ADMIN.  GUEST is not valid in
DSS<!-- lm: 0x2 1 -->
</UL> Logon script flag<!-- lm: 0x12 11 -->
<UL> Must
be TRUE for OS/2 LAN Server and DSS.<!-- lm: 0x2 1 -->
</UL> Logon script
path<!-- lm: 0x12 11 -->
<UL> The path name of the user's logon script.
The logon script must be a path relative to the NETLOGON service SCRIPTS
path. This field can contain up to PATHLEN bytes, and a null pointer is
treated as a null string. The extension can be PRO, CMD (or BAT), EXE, or
COM. If no extension is specified, CMD (or BAT) is used by default.<!-- lm: 0x2 1 -->
</UL> Account
expiration date<!-- lm: 0x12 11 -->
<UL> The date after which logon is disabled.
<!-- lm: 0x2 1 -->
</UL>List of authorized requesters<!-- lm: 0x12 11 -->
<UL> The
workstations from which the account can log on.  The list may include 0-8
workstations. Zero workstations means ALL.<!-- lm: 0x2 1 -->
</UL> Logon
hours<!-- lm: 0x12 11 -->
<UL> One hour granularity, hours specified for
each day of the week.  A null pointer means ALL for NetUserAdd calls and
means DONT_CHANGE for NetUserSetInfo calls.<!-- lm: 0x2 1 -->
</UL> Home
directory required<!-- lm: 0x12 11 -->
<UL> Indicates that the Home Directory
field must not be NULL.<!-- lm: 0x2 1 -->
</UL> Password not required<!-- lm: 0x12 11 -->
<UL> Permits
the account to have a null password, even if the minimum password length
for the system is greater than 0.  This option is not supported in DSS.
<!-- lm: 0x2 1 -->
</UL>Maximum storage allotment<!-- lm: 0x12 11 -->
<UL> Specifies
the limit in KB on the home directory.<!-- lm: 0x2 1 -->
</UL> User cannot
change password<!-- lm: 0x12 11 -->
<UL> Restricts users from changing the
password on their accounts.  This option is not supported in DSS.<!-- lm: 0x2 1 -->
</UL> Logon
server<!-- lm: 0x12 11 -->
<UL> Points to an ASCIIZ string containing the
name of the preferred server, which validates user logon requests for this
user.  The server name should be preceded by a double backslash (\\) and
should be the name of a<!-- entering slot 537 --> domain controller or backup
server on the domain. A server name of an asterisk (\\*) indicates that
the logon request can be handled by any domain controller or backup server
on the domain.  A null string indicates that the domain controller is the
preferred logon server.<!-- lm: 0x2 1 -->
</UL> DCE Primary Group<!-- lm: 0x12 11 -->
<UL> Allows
you to specify the distributed computing environment primary group.  The
default is "none".<!-- lm: 0x2 1 -->
</UL> DCE Policy Group<!-- lm: 0x12 11 -->
<UL> Allows
you to specify the distributed computing environment policy group or organization.
The default is "none".<!-- lm: 0x2 1 -->
</UL> Password Strength Server
<!-- lm: 0x12 11 -->
<UL>Ensures that newly created or modified passwords
follow specified rules of password composition. The DSS password strength
server (PSS) is "lspwsd".<!-- lm: 0x2 1 -->
</UL>The following fields can be set by a user (or by an administrator)
only for the user's own account:<!-- lm: 0x2 1 -->
<P>
Encrypted password<!-- lm: 0x12 11 -->
<UL> When you create a password,
it automatically becomes encrypted.<!-- lm: 0x2 1 -->
</UL> User comment
<!-- lm: 0x12 11 -->
<UL>Can contain up to MAXCOMMENTSZ + 1 bytes long.
A null pointer is treated as a null string.<!-- lm: 0x2 1 -->
</UL> Parms
<!-- lm: 0x12 11 -->
<UL>Points to an ASCIIZ string that is set aside for
use by applications.  It can have as many as MAXCOMMENTSZ+1 characters.
<!-- lm: 0x2 1 -->
</UL>Country code<!-- lm: 0x12 11 -->
<UL> The OS/2 country
code for the language choice of the user.  This is used by the OS/2 LAN
Server software to generate messages in the appropriate language whenever
possible.<!-- lm: 0x2 1 -->
</UL> Code page<!-- lm: 0x12 11 -->
<UL> The
code page of the OS/2 program for national language support.<!-- lm: 0x2 1 -->
</UL> Default
resource domain<!-- lm: 0x12 11 -->
<UL> An ASCIIZ string containing the
name of the user's default resource domain.<!-- lm: 0x2 1 -->
</UL>The following fields are set automatically by the accounts system and
are not set directly by an administrator or user:<!-- lm: 0x2 1 -->
<P>
Last logon<!-- lm: 0x12 11 -->
<UL> The time and date when the last logon
occurred.  A value of 0 means unknown.<!-- lm: 0x2 1 -->
</UL> Last logoff
<!-- lm: 0x12 11 -->
<UL>The time and date the last logoff occurred.  A
value of 0 means unknown.<!-- lm: 0x2 1 -->
</UL> Bad password count<!-- lm: 0x12 11 -->
<UL> The
number of attempts to validate a bad password.  A value of -1 means unknown.
<!-- lm: 0x2 1 -->
</UL>Number of logons<!-- lm: 0x12 11 -->
<UL> The number
of instances of logons to the account.  A value of -1 means unknown.<!-- lm: 0x2 1 -->
</UL>
<P>
These fields are not used by DSS.
<P>
When a user or application requests access to any shared resource, LAN Server
checks to see whether there is a UAS account granting the proper access
authority to that user or application. To make this easy, first call the
NetUserGetInfo API with a specified user ID and password.  If an account
is found, the API returns whatever information is available at that level
of data structure. If an account is not found, you can examine the returned
flags to determine what must be done to establish an account. *
<P>
The OS/2 LAN Server software then checks the user's privilege level. Depending
on the parameter, the request to access a resource is accepted immediately,
if the user has been given administrative privileges.  Otherwise, processing
continues.  *
<P>
Administrative privileges grant the broadest access to the domain, giving
permission to run all administrative functions and complete access to the
shared and nonshared resources of a server.
<P>
If the user does not have administrative privileges, the LAN Server software
checks the resource's access permission record to see whether the user has
the proper permissions to use that particular resource. (See <A HREF="050_L1_AccessPermissionCate.html">Access
Permission Category</A>.)
<P>
Each time an account that has either administrative or user privileges is
established with the NetUserAdd API, LAN Server automatically adds the new
account to either the group<!-- entering slot 538 --> ADMINS or the group
USERS. At this time, the user inherits all permissions assigned to that
special group.
<P>
An application has two ways to change a user's current privileges: (1) by
calling the NetUserSetInfo API, or (2) by changing that user's group accounts
(see <A HREF="171_L1_GroupCategory.html">Group Category</A>). Individually
assigned user permissions take precedence over group permission assignments.
An application can verify to which groups a user belongs by calling the
NetUserGetGroups API. This API returns a list of group names.
<P>
To find out how to change individual permission settings for members of
one of the special groups, see <A HREF="050_L1_AccessPermissionCate.html">Access
Permission Category</A>.
<P>
When a user account is no longer needed, call the NetUserDel API to eliminate
the account from the system. Once the account is removed, the user no longer
can access the system.
<P>
If an account does not have a password, any password (or none) is treated
as a match for account validation.  *
<P>
To set password policy globally within the account system database, you
can use user accounts subsystem (UAS) modals. None of the system-wide password
characteristics are enforced for accounts that do not require passwords.
 *
<P>
Enter passwords in uppercase characters. The password of a user account
is case-sensitive at the API level, and lowercase characters in a password
make the user ID unavailable at the command-line interface and through the
User Profile Management (UPM) interface.
<P>
The user's password is confidential and is not returned when the NetUserEnum
or NetUserGetInfo API is called; a string of spaces is substituted for any
password that is requested. The password is assigned initially when NetUserAdd
is called. Any user or application can use NetUserPasswordSet to change
a password, if the current password can be supplied. To verify an existing
user account with a specified password, call NetUserValidate2. To set the
password and other components of a user account, use the NetUserSetInfo
API.
<P>
To give a user access to network resources at logon, call the NetUserSetLogonAsn
API. You can get information about a user's logon assignments by calling
the NetUserGetLogonAsn API.
<P>
To add network applications to their desktop applications folders, users
can call the NetUserSetAppSel API. Users can get lists of the applications
that appear in their desktop applications folders by calling the NetUserGetAppSel
API.
<P>
* This information does not apply to DSS.  This specific information is
part of LAN Server and OS/2 Warp Server.

<P><HR>

<A HREF="410_L2_NetUseGetInfoorNet32.html">[Back: NetUseGetInfo or Net32UseGetInfo]</A> <BR>
<A HREF="412_L2_DOSConsiderations.html">[Next: DOS Considerations]</A> 
</BODY>
</HTML>
