<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>The DPIget_fd_for_handle() Function</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>The DPIget_fd_for_handle() Function</H1><!-- entering slot 52 -->
<P>
<B>Syntax</B>
<PRE>#include &lt;snmp_dpi.h&gt;

int DPIget_fd_for_handle(       /* get the file descriptor    */
  int            handle);       /* for this handle            */
</PRE>

<P>
<B>Parameters</B><!-- lm: 0x2 1 -->
<UL>
<P>
handle<!-- lm: 0x11 3 -->
<UL> A handle that was obtained with a DPIconnect_to_agent_TCP()
call.<!-- lm: 0x2 1 -->
</UL>
<P>
<B>Return Values</B><!-- lm: 0x2 6 -->
<UL>
<P>
If successful, a positive integer representing the file descriptor associated
with the specified handle.<!-- lm: 0x2 6 -->
<P>
If failure, a negative integer is returned.  It indicates the error that
occurred.  See <A HREF="072_L2_ReturnCodesfromDPITr.html">Return Codes from
DPI Transport-Related Functions</A> for a list of possible error codes.
<!-- lm: 0x2 1 -->
</UL>
<P>
<B>Description</B>
<P>
The DPIget_fd_for_handle function is used to obtain the file descriptor
for the handle, which was obtained with a DPIconnect_to_agent_TCP() call.

<P>
The DPI subagent programmer would use this function to not only wait for
DPI requests, but possibly for other TCP/IP events.  The programmer may
want to do their own select and include for the file descriptor of the DPI
connections.
<P>
<B>Examples</B>
<PRE>#include &lt;snmp_dpi.h&gt;#include /* other include files for BSD sockets and such */
int                  handle;
int                  fd;

handle = DPIconnect_to_agentTCP("localhost","public");
if (handle &lt; 0) {
   printf("Error %d from connect\n",handle);
   exit(1);
}
fd = DPIget_fd_for_handle(handle);
if (fd &lt;0) {
   printf("Error %d from get_fd\n",fd);
   exit(1);
}
</PRE>

<P>
<B>Related Information</B><!-- lm: 0x2 6 -->
<UL>
<P>
<A HREF="047_L2_TheDPIconnect_to_age.html">The DPIconnect_to_agent_TCP()
Function</A><!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="048_L2_TheDPIdisconnect_fro.html">[Back: The DPIdisconnect_from_agent() Function]</A> <BR>
<A HREF="050_L2_TheDPIsend_packet_to.html">[Next: The DPIsend_packet_to_agent() Function]</A> 
</BODY>
</HTML>
