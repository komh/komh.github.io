<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Character Set Selection</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Character Set Selection</H1><!-- entering slot 66 -->
<P>
Based on the character set used on the platform where the agent and subagent
are running, you will encounter one of the following three scenarios:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->Both run on an ASCII based platform.
<P>
In reality a lot of platforms use the ASCII character set.  For those platforms,
just use the native character set.  In that case, the native character set
is ASCII.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->Both run on the same non-ASCII based platform.
<P>
It is expected that the agent and the subagent normally run on the same
machine or at least on the same platform.  In that case, it is easiest to
use the native character set for data that is represented as strings.  If
such native character set is not the ASCII character set, the agent must
translate from ASCII to the native character set (and vice versa) as needed.
<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->One runs on ASCII based platform, the other on a non-ASCII
based platform.
<P>
If the agent and subagent each run on their own platform and those platforms
use different native character sets; for example, IBM OS/2 uses ASCII and
IBM MVS uses EBCDIC, you must select the ASCII character set, so that you
both know exactly how to represent string-based data that is being send
back and forth.  The entity that is not ASCII based must do the translation
from ASCII to the native character set (and vice versa) as needed.<!-- lm: 0x2 1 -->
</UL>
<P>
When the DPI subagent sends a DPI OPEN packet, it must specify the character
set that it wants to use.  The subagent here needs to know or determine
in an implementation dependent manner if the agent is running on a system
with the same character set as the subagent.  If you connect to the agent
at loopback, localhost, or your own machine, you might assume that you are
using the same character set.  As long as you are just using OS/2 on an
Intel based processor, it does not matter. Always use the native character
set, which is ASCII.
<P>
The subagent has two choices:<!-- lm: 0x2 1 -->
<P>
DPI_NATIVE_CSET<!-- lm: 0x2 23 -->
<UL> Specifies that you want to use the
native character set of the platform on which the agent that you connect
to is running.<!-- lm: 0x2 1 -->
</UL> DPI_ASCII_CSET<!-- lm: 0x2 23 -->
<UL> Specifies
that you want to use the ASCII character set.  The agent will translate
between ASCII and the native character set as required. If the subagent
is on a non-ASCII based platform, it may have to translate also.<!-- lm: 0x2 1 -->
</UL>
<P>
The DPI packets have a number of fields that are represented as strings.
 The fields that must be represented in the selected character set are:
<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->The null terminated string pointed to by the<I> description_p,
enterprise_p, group_p, instance_p,</I> and<I> oid_p</I> parameters in the
various<I> mkDPIxxxx(...)</I> functions.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->The string pointed to by the<I> value_p</I> parameter
in the<I> mkDPIset(...)</I> function, that is if the<I> value_type</I> parameter
specifies that the value is an<I> SNMP_TYPE_DisplayString</I> or an<I> SNMP_TYPE_OBJECT_IDENTIFIER</I>.
<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->The null terminated string pointed to by the<I> description_p,
enterprise_p, group_p, instance_p,</I> and<I> oid_p</I> pointers in the
various<I> snmp_dpi_xxxx_packet</I> structures.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->The string pointed to by the<I> value_p</I> pointer
in the<I> snmp_dpi_set_packet</I> structure, that is if the<I> value_type
</I>field specifies that the value is an<I> SNMP_TYPE_DisplayString</I> or
an<I> SNMP_TYPE_OBJECT_IDENTIFIER</I>.<!-- lm: 0x2 1 -->
</UL>
<P>
<B>Related Information</B><!-- lm: 0x2 6 -->
<UL>
<P>
<A HREF="037_L2_ThemkDPIopenFunction.html">The mkDPIopen() Function</A><!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="062_L2_Thesnmp_dpi_u64Struc.html">[Back: The snmp_dpi_u64 Structure]</A> <BR>
<A HREF="064_L1_ConstantsValuesRetur.html">[Next: Constants, Values, Return Codes, and Include File]</A> 
</BODY>
</HTML>
