<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Return values on API failure</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Return values on API failure</H1><!-- entering slot 31 -->
<P>
The manifest constant SOCKET_ERROR is provided for checking API failure.
Although use of this constant is not mandatory, it is recommended.  The
following example illustrates the use of the SOCKET_ERROR constant:
<P>
<B>TYPICAL BSD STYLE:</B>
<PRE>r = recv(...);
if (r == -1     /* or r &lt; 0 */
    &amp;&amp; errno == EWOULDBLOCK)
        {...}
</PRE>

<P>
<B>PREFERRED STYLE:</B>
<PRE>r = recv(...);
if (r == SOCKET_ERROR
    &amp;&amp; WSAGetLastError() == WSAEWOULDBLOCK)
        {...}
</PRE>

<P>


<P><HR>

<A HREF="029_L3_Includefiles.html">[Back: Include files]</A> <BR>
<A HREF="031_L2_RawSockets.html">[Next: Raw Sockets]</A> 
</BODY>
</HTML>
