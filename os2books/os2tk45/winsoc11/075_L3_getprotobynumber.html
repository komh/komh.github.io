<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>getprotobynumber()</TITLE>
</HEAD>
<BODY>
<H1>getprotobynumber()</H1><!-- entering slot 87 -->
<P>
<B>Description</B>
<P>
Get protocol information corresponding to a protocol number.
<P>

<PRE>#include &lt;winsock.h&gt;</PRE>
 
<P>
<B>struct protoent FAR * PASCAL FAR getprotobynumber ( int</B><I> number
</I><B>);</B><!-- lm: 0x2 1 -->
<UL>
<P>
<I>number</I><!-- lm: 0x11 3 -->
<UL> A protocol number, in host byte order.
<!-- lm: 0x2 1 -->
</UL>
<P>
<B>Remarks</B>
<P>
This function returns a pointer to a protoent structure as described above
in<B> getprotobyname()</B>.  The contents of the structure correspond to
the given protocol number.  The pointer which is returned points to a structure
which is allocated by the Windows Sockets implementation.  The application
must never attempt to modify this structure or to free any of its components.
 Furthermore, only one copy of this structure is allocated per thread, and
so the application should copy any information which it needs before issuing
any other Windows Sockets API calls.
<P>
<B>Return Value</B>
<P>
If no error occurs,<B> getprotobynumber()</B> returns a pointer to the protoent
structure described above.  Otherwise it returns a NULL pointer and a specific
error number may be retrieved by calling <A HREF="089_L3_WSAGetLastError.html">WSAGetLastError()</A>.

<P>
<B>Error Codes</B>
<P>
<!-- lm: 0x2 1 -->
<P>
WSANOTINITIALISED<!-- lm: 0x11 11 -->
<UL> A successful <A HREF="093_L3_WSAStartup.html">WSAStartup()
</A>must occur before using this API.<!-- lm: 0x2 1 -->
</UL> WSAENETDOWN
<!-- lm: 0x11 11 -->
<UL>The Windows Sockets implementation has detected
that the network subsystem has failed.<!-- lm: 0x2 1 -->
</UL> WSANO_RECOVERY
<!-- lm: 0x11 11 -->
<UL>Non recoverable errors, FORMERR, REFUSED, NOTIMP.
<!-- lm: 0x2 1 -->
</UL>WSANO_DATA<!-- lm: 0x11 11 -->
<UL> Valid name,
no data record of requested type.<!-- lm: 0x2 1 -->
</UL> WSAEINPROGRESS
<!-- lm: 0x11 11 -->
<UL>A blocking Windows Sockets operation is in progress.
<!-- lm: 0x2 1 -->
</UL>WSAEINTR<!-- lm: 0x11 11 -->
<UL> The (blocking)
call was canceled via <A HREF="087_L3_WSACancelBlockingCal.html">WSACancelBlockingCall()
</A><!-- lm: 0x2 1 -->
</UL>
<P>
<B>See Also</B>
<P>
<A HREF="082_L3_WSAAsyncGetProtoByNu.html">WSAAsyncGetProtoByNumber()</A><B>,
</B><A HREF="074_L3_getprotobyname.html">getprotobyname()</A>
<P>


<P><HR>

<A HREF="074_L3_getprotobyname.html">[Back: getprotobyname()]</A> <BR>
<A HREF="076_L3_getservbyname.html">[Next: getservbyname()]</A> 
</BODY>
</HTML>
