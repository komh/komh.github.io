<HTML>
<HEAD>
<TITLE>WSACancelAsyncRequest()</TITLE>
</HEAD>
<BODY>
<H1>WSACancelAsyncRequest()</H1><!-- entering slot 107 -->
<P>
<B>Description</B>
<P>
Cancel an incomplete asynchronous operation.
<P>

<PRE>#include &lt;winsock.h&gt;</PRE>
 
<P>
<B>int PASCAL FAR WSACancelAsyncRequest ( HANDLE</B><I> hAsyncTaskHandle
</I><B>);</B><!-- lm: 0x2 1 -->
<UL>
<P>
<I>hAsyncTaskHandle</I><!-- lm: 0x11 3 -->
<UL> Specifies the asynchronous
operation to be canceled.<!-- lm: 0x2 1 -->
</UL>
<P>
<B>Remarks</B>
<P>
The<B> WSACancelAsyncRequest()</B> function is used to cancel an asynchronous
operation which was initiated by one of the<B> WSAAsyncGetXByY()</B> functions
such as <A HREF="080_L3_WSAAsyncGetHostByNam.html">WSAAsyncGetHostByName()</A>.
The operation to be canceled is identified by the<I> hAsyncTaskHandle</I> parameter,
which should be set to the asynchronous task handle as returned by the initiating
function. <B> Return Value</B>   The value returned by<B> WSACancelAsyncRequest()
</B>is 0 if the operation was successfully canceled. Otherwise the value
SOCKET_ERROR is returned, and a specific error number may be retrieved by
calling <A HREF="089_L3_WSAGetLastError.html">WSAGetLastError()</A>.
<P>
<B>Comments</B>
<P>
An attempt to cancel an existing asynchronous<B> WSAAsyncGetXByY()</B> operation
can fail with an error code of WSAEALREADY for two reasons.  Firstly, the
original operation has already completed and the application has dealt with
the resultant message.  Secondly, the original operation has already completed
but the resultant message is still waiting in the application window queue.

<P>
<B>Notes For Windows Sockets Suppliers</B>
<P>
It is unclear whether the application can usefully distinguish between WSAEINVAL
and WSAEALREADY, since in both cases the error indicates that there is no
asynchronous operation in progress with the indicated handle. íTrivial exception:
0 is always an invalid asynchronous task handle.ù  The Windows Sockets specification
does not prescribe how a conformant Windows Sockets implementation should
distinguish between the two cases.  For maximum portability, a Windows Sockets
application should treat the two errors as equivalent.
<P>
<B>Error Codes</B>
<P>
<!-- lm: 0x2 1 -->
<P>
WSANOTINITIALISED<!-- lm: 0x11 11 -->
<UL> A successful <A HREF="093_L3_WSAStartup.html">WSAStartup()
</A>must occur before using this API.<!-- lm: 0x2 1 -->
</UL> WSAENETDOWN
<!-- lm: 0x11 11 -->
<UL>The Windows Sockets implementation has detected
that the network subsystem has failed.<!-- lm: 0x2 1 -->
</UL> WSAEINVAL
<!-- lm: 0x11 11 -->
<UL>Indicates that the specified asynchronous task
handle was invalid<!-- lm: 0x2 1 -->
</UL> WSAEINPROGRESS<!-- lm: 0x11 11 -->
<UL> A
blocking Windows Sockets operation is in progress.<!-- lm: 0x2 1 -->
</UL> WSAEALREADY
<!-- lm: 0x11 11 -->
<UL>The asynchronous routine being canceled has already
completed.<!-- lm: 0x2 1 -->
</UL>
<P>
<B>See Also</B>
<P>
<A HREF="079_L3_WSAAsyncGetHostByAdd.html">WSAAsyncGetHostByAddr()</A><B>,
</B><A HREF="080_L3_WSAAsyncGetHostByNam.html">WSAAsyncGetHostByName()</A><B>,
</B><A HREF="082_L3_WSAAsyncGetProtoByNu.html">WSAAsyncGetProtoByNumber()</A><B>,
</B><A HREF="081_L3_WSAAsyncGetProtoByNa.html">WSAAsyncGetProtoByName()</A><B>,
</B><A HREF="080_L3_WSAAsyncGetHostByNam.html">WSAAsyncGetHostByName()</A><B>,
</B><A HREF="084_L3_WSAAsyncGetServByPor.html">WSAAsyncGetServByPort()</A><B>,
</B><A HREF="083_L3_WSAAsyncGetServByNam.html">WSAAsyncGetServByName()</A>
<P>


<P><HR>

<A HREF="085_L3_WSAAsyncSelect.html">[Back: WSAAsyncSelect()]</A> <BR>
<A HREF="087_L3_WSACancelBlockingCal.html">[Next: WSACancelBlockingCall()]</A> 
</BODY>
</HTML>
