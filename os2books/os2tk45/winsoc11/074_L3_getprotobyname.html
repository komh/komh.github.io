<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>getprotobyname()</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>getprotobyname()</H1><!-- entering slot 86 -->
<P>
<B>Description</B>
<P>
Get protocol information corresponding to a protocol name.
<P>

<PRE>#include &lt;winsock.h&gt;</PRE>
 
<P>
<B>struct protoent FAR * PASCAL FAR getprotobyname ( const char FAR *</B><I> name</I><B>);
</B><!-- lm: 0x2 1 -->
<UL>
<P>
<I>name</I><!-- lm: 0x11 3 -->
<UL> A pointer to a protocol name.<!-- lm: 0x2 1 -->
</UL>
<P>
<B>Remarks</B>
<P>
<B>getprotobyname</B>() returns a pointer to the following structure which
contains the name(s) and protocol number which correspond to the given protocol
<I>name</I>. 
<PRE>struct protoent {        char FAR *      p_name;
        char FAR * FAR *p_aliases;
        short           p_proto;
};
</PRE>

<P>
The members of this structure are:<!-- lm: 0x2 1 -->
<P>
<I>p_name</I><!-- lm: 0x11 3 -->
<UL> Official name of the protocol.<!-- lm: 0x2 1 -->
</UL><I> p_aliases
</I><!-- lm: 0x11 3 -->
<UL>A NULL-terminated array of alternate names.
<!-- lm: 0x2 1 -->
</UL><I>p_proto</I><!-- lm: 0x11 3 -->
<UL> The protocol
number, in host byte order.<!-- lm: 0x2 1 -->
</UL>
<P>
The pointer which is returned points to a structure which is allocated by
the Windows Sockets library.  The application must never attempt to modify
this structure or to free any of its components.  Furthermore only one copy
of this structure is allocated per thread, and so the application should
copy any information which it needs before issuing any other Windows Sockets
API calls.
<P>
<B>Return Value</B>
<P>
If no error occurs,<B> getprotobyname()</B> returns a pointer to the protoent
structure described above.  Otherwise it returns a NULL pointer and a specific
error number may be retrieved by calling <A HREF="089_L3_WSAGetLastError.html">WSAGetLastError()</A>.

<P>
<B>Error Codes</B>
<P>
<!-- lm: 0x2 1 -->
<P>
WSANOTINITIALISED<!-- lm: 0x11 11 -->
<UL> A successful <A HREF="093_L3_WSAStartup.html">WSAStartup()
</A>must occur before using this API.<!-- lm: 0x2 1 -->
</UL> WSAENETDOWN
<!-- lm: 0x11 11 -->
<UL>The Windows Sockets implementation has detected
that the network subsystem has failed.<!-- lm: 0x2 1 -->
</UL> WSANO_RECOVERY
<!-- lm: 0x11 11 -->
<UL>Non recoverable errors, FORMERR, REFUSED, NOTIMP.
<!-- lm: 0x2 1 -->
</UL>WSANO_DATA<!-- lm: 0x11 11 -->
<UL> Valid name,
no data record of requested type.<!-- lm: 0x2 1 -->
</UL> WSAEINPROGRESS
<!-- lm: 0x11 11 -->
<UL>A blocking Windows Sockets operation is in progress.
<!-- lm: 0x2 1 -->
</UL>WSAEINTR<!-- lm: 0x11 11 -->
<UL> The (blocking)
call was canceled via <A HREF="087_L3_WSACancelBlockingCal.html">WSACancelBlockingCall()
</A><!-- lm: 0x2 1 -->
</UL>
<P>
<B>See Also</B>
<P>
<A HREF="081_L3_WSAAsyncGetProtoByNa.html">WSAAsyncGetProtoByName()</A><B>,
</B><A HREF="075_L3_getprotobynumber.html">getprotobynumber()</A>
<P>


<P><HR>

<A HREF="073_L3_gethostname.html">[Back: gethostname()]</A> <BR>
<A HREF="075_L3_getprotobynumber.html">[Next: getprotobynumber()]</A> 
</BODY>
</HTML>
