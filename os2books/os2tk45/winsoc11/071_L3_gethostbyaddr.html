<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>gethostbyaddr()</TITLE>
</HEAD>
<BODY>
<H1>gethostbyaddr()</H1><!-- entering slot 83 -->
<P>
<B>Description</B>
<P>
Get host information corresponding to an address.
<P>

<PRE>#include &lt;winsock.h&gt;</PRE>
 
<P>
<B>struct hostent FAR * PASCAL FAR gethostbyaddr ( const char FAR *</B><I> addr</I><B>,
int</B><I> len</I><B>, int</B><I> type</I><B> );</B><!-- lm: 0x2 1 -->
<UL>
<P>
<I>addr</I><!-- lm: 0x11 3 -->
<UL> A pointer to an address in network byte
order.<!-- lm: 0x2 1 -->
</UL><I> len</I><!-- lm: 0x11 3 -->
<UL> The length
of the address, which must be 4 for PF_INET addresses.<!-- lm: 0x2 1 -->
</UL><I> type
</I><!-- lm: 0x11 3 -->
<UL>The type of the address, which must be PF_INET.
<!-- lm: 0x2 1 -->
</UL>
<P>
<B>Remarks</B>
<P>
<B>gethostbyaddr</B>() returns a pointer to the following structure which
contains the name(s) and address which correspond to the given address.

<P>

<PRE>struct hostent {        char FAR *      h_name;
        char FAR * FAR *h_aliases;
        short           h_addrtype;
        short           h_length;
        char FAR * FAR *h_addr_list;
};
</PRE>

<P>
The members of this structure are:<!-- lm: 0x2 1 -->
<P>
<I>h_name</I><!-- lm: 0x11 3 -->
<UL> Official name of the host (PC).<!-- lm: 0x2 1 -->
</UL><I> h_aliases
</I><!-- lm: 0x11 3 -->
<UL>A NULL -terminated array of alternate names.
<!-- lm: 0x2 1 -->
</UL><I>h_addrtype</I><!-- lm: 0x11 3 -->
<UL> The type
of address being returned; for Windows Sockets this is always PF_INET.<!-- lm: 0x2 1 -->
</UL><I> h_length
</I><!-- lm: 0x11 3 -->
<UL>The length, in bytes, of each address; for PF_INET,
this is always 4.<!-- lm: 0x2 1 -->
</UL><I> h_addr_list</I><!-- lm: 0x11 3 -->
<UL> A
NULL-terminated list of addresses for the host.  Addresses are returned
in network byte order.<!-- lm: 0x2 1 -->
</UL>
<P>
The macro h_addr is defined to be h_addr_listφ0∙ for compatibility with
older software.
<P>
The pointer which is returned points to a structure which is allocated by
the Windows Sockets implementation.  The application must never attempt
to modify this structure or to free any of its components.  Furthermore,
only one copy of this structure is allocated per thread, and so the application
should copy any information which it needs before issuing any other Windows
Sockets API calls.
<P>
<B>Return Value</B>
<P>
If no error occurs,<B> gethostbyaddr()</B> returns a pointer to the hostent
structure described above.  Otherwise it returns a NULL pointer and a specific
error number may be retrieved by calling <A HREF="089_L3_WSAGetLastError.html">WSAGetLastError()
</A>
<P>
<B>Error Codes</B>
<P>
<!-- lm: 0x2 1 -->
<P>
WSANOTINITIALISED<!-- lm: 0x11 11 -->
<UL> A successful <A HREF="093_L3_WSAStartup.html">WSAStartup()
</A>must occur before using this API.<!-- lm: 0x2 1 -->
</UL> WSAENETDOWN
<!-- lm: 0x11 11 -->
<UL>The Windows Sockets implementation has detected
that the network subsystem has failed.<!-- lm: 0x2 1 -->
</UL> WSAHOST_NOT_FOUND
<!-- lm: 0x11 11 -->
<UL>Authoritative Answer Host not found.<!-- lm: 0x2 1 -->
</UL> WSATRY_AGAIN
<!-- lm: 0x11 11 -->
<UL>Non-Authoritative Host not found, or SERVERFAIL.
<!-- lm: 0x2 1 -->
</UL>WSANO_RECOVERY<!-- lm: 0x11 11 -->
<UL> Non recoverable
errors, FORMERR, REFUSED, NOTIMP.<!-- lm: 0x2 1 -->
</UL> WSANO_DATA<!-- lm: 0x11 11 -->
<UL> Valid
name, no data record of requested type.<!-- lm: 0x2 1 -->
</UL> WSAEINPROGRESS
<!-- lm: 0x11 11 -->
<UL>A blocking Windows Sockets operation is in progress.
<!-- lm: 0x2 1 -->
</UL>WSAEINTR<!-- lm: 0x11 11 -->
<UL> The (blocking)
call was canceled via <A HREF="087_L3_WSACancelBlockingCal.html">WSACancelBlockingCall()
</A><!-- lm: 0x2 1 -->
</UL>
<P>
<B>See Also</B>
<P>
<A HREF="079_L3_WSAAsyncGetHostByAdd.html">WSAAsyncGetHostByAddr()</A><B>,
</B><A HREF="072_L3_gethostbyname.html">gethostbyname()</A><B>,</B>
<P>


<P><HR>

<A HREF="070_L2_DatabaseRoutines.html">[Back: Database Routines]</A> <BR>
<A HREF="072_L3_gethostbyname.html">[Next: gethostbyname()]</A> 
</BODY>
</HTML>
