<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>WSAUnhookBlockingHook()</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>WSAUnhookBlockingHook()</H1><!-- entering slot 118 -->
<P>
<B>Description</B>
<P>
Restore the default blocking hook function.
<P>

<PRE>#include &lt;winsock.h&gt;</PRE>
 
<P>
<B>int PASCAL FAR WSAUnhookBlockingHook ( void );</B>
<P>
<B>Remarks</B>
<P>
This function removes any previous blocking hook that has been installed
and reinstalls the default blocking mechanism.
<P>
<B>WSAUnhookBlockingHook()</B> will always install the<B> default</B> mechanism,
not the<B> previous</B> mechanism.  If an application wish to nest blocking
hooks -- i.e. to establish a temporary blocking hook function and then revert
to the previous mechanism (whether the default or one established by an
earlier <A HREF="091_L3_WSASetBlockingHook.html">WSASetBlockingHook()</A>)
- it must save and restore the value returned by <A HREF="091_L3_WSASetBlockingHook.html">WSASetBlockingHook()</A>;
it cannot use<B> WSAUnhookBlockingHook()</B>.
<P>
In multithreaded versions of Windows such as Windows NT, there is no default
blocking hook.  Calling<B> WSAUnhookBlockingHook()</B> disables any blocking
hook installed by the application and any blocking calls made block the
thread which made the call.
<P>
<B>Return Value</B>
<P>
The return value is 0 if the operation was successful. Otherwise the value
SOCKET_ERROR is returned, and a specific error number may be retrieved by
calling <A HREF="089_L3_WSAGetLastError.html">WSAGetLastError()</A>.
<P>
<B>Error Codes</B>
<P>
<!-- lm: 0x2 1 -->
<UL>
<P>
WSANOTINITIALISED<!-- lm: 0x11 11 -->
<UL> A successful <A HREF="093_L3_WSAStartup.html">WSAStartup()
</A>must occur before using this API.<!-- lm: 0x2 1 -->
</UL> 
<P>
<B>See Also</B>
<P>
<A HREF="091_L3_WSASetBlockingHook.html">WSASetBlockingHook()</A>
<P>


<P><HR>

<A HREF="093_L3_WSAStartup.html">[Back: WSAStartup()]</A> <BR>
<A HREF="095_L1_Appendices.html">[Next: Appendices]</A> 
</BODY>
</HTML>
