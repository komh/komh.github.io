<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>WinWaitEventSem - Example Code</TITLE>
</HEAD>
<BODY>
<H1>WinWaitEventSem - Example Code</H1><!-- entering slot 3554 -->
<P>
This example causes the calling thread to wait until the specified event
semaphore is posted.  Assume that the handle of the semaphore has been placed
into<I> hev</I> already.
<P>
<I>ulTimeout</I> is the number of milliseconds that the calling thread will
wait for the event semaphore to be posted.  If the specified event semaphore
is not posted during this time interval, the request times out.
<PRE>#define INCL_DOSSEMAPHORES   /* Semaphore values               */
#define INCL_WINMESSAGEMGR
#include &lt;os2.h&gt;
#include &lt;stdio.h&gt;

#ifndef ERROR_TIMEOUT
  #define  ERROR_TIMEOUT    640
  #define  ERROR_INTERRUPT  95
#endif

HEV   hev;                   /* Event semaphore handle         */
ULONG ulTimeout;             /* Number of milliseconds to wait */
ULONG rc;                    /* Return code                    */

ulTimeout = 60000;           /* Wait for a maximum of 1 minute */

rc = WinWaitEventSem(hev, ulTimeout);

if (rc == ERROR_TIMEOUT)
   {
     printf("WinWaitEventSem call timed out");
     return;
   }

if (rc == ERROR_INTERRUPT)
   {
     printf("WinWaitEventSem call was interrupted");
     return;
   }

if (rc != 0)
   {
     printf("WinWaitEventSem error: return code = %ld", rc);
     return;
   }

</PRE>


<P><HR>

<A HREF="3538_L2H_WinWaitEventSemRelat.html">[Back: WinWaitEventSem - Related Functions]</A> <BR>
<A HREF="3540_L2H_WinWaitEventSemTopic.html">[Next: WinWaitEventSem - Topics]</A> 
</BODY>
</HTML>
