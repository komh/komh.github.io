<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>WinSetDesktopBkgnd - Example Code</TITLE>
</HEAD>
<BODY>
<H1>WinSetDesktopBkgnd - Example Code</H1><!-- entering slot 2853 -->
<P>
This example sets the desktop background with a bit map if it is not already
set.
<PRE>#define INCL_WINDESKTOP
#define INCL_WINWINDOWMGR
#include &lt;OS2.H&gt;

HWND    hwndDeskTop;
HAB     hab;
DESKTOP DeskTopState;
HBITMAP hbm;
HBITMAP hbm_user;

WinQueryDesktopBkgnd(HWND_DESKTOP,
                     &amp;DeskTopState);

if (hbm_user != DeskTopState.hbm)
{

 DeskTopState.fl = SDT_LOADFILE;
               /* the szFile is used to load the bit map because*/
               /* the fl parameter is set to SDT_LOADFILE.      */
 strcpy(DeskTopState.szFile,"fruit.bmp");
 DeskTopState.hbm = hbm_user;
 WinSetDesktopBkgnd(hwndDeskTop,
                    &amp;DeskTopState);
}
</PRE>


<P><HR>

<A HREF="2844_L2H_WinSetDesktopBkgndRe.html">[Back: WinSetDesktopBkgnd - Related Functions]</A> <BR>
<A HREF="2846_L2H_WinSetDesktopBkgndTo.html">[Next: WinSetDesktopBkgnd - Topics]</A> 
</BODY>
</HTML>
