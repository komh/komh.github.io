<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>WinQueryDesktopBkgnd - Example Code</TITLE>
</HEAD>
<BODY>
<H1>WinQueryDesktopBkgnd - Example Code</H1><!-- entering slot 1977 -->
<P>
This example uses WinQueryDesktopBkgnd to query the current desktop background
bit map before setting it to a new bit map with WinSetDesktopBkgnd.
<PRE>#define INCL_WINDESKTOP
#define INCL_WINWINDOWMGR
#include &lt;OS2.H&gt;
HAB hab;
HWND    hwndDeskTop;
DESKTOP DeskTopState;
HBITMAP  hbm;
HBITMAP hbm_user;


WinQueryDesktopBkgnd(HWND_DESKTOP,
                     &amp;DeskTopState);

if (hbm_user != DeskTopState.hbm)
{

 DeskTopState.fl = SDT_LOADFILE;
               /* the szFile is used to load the bit map because */
               /* the fl parameter is set to SDT_LOADFILE.      */
 strcpy(DeskTopState.szFile,"fruit.bmp");
 DeskTopState.hbm = hbm_user;
 WinSetDesktopBkgnd(hwndDeskTop,
                    &amp;DeskTopState);
}
</PRE>


<P><HR>

<A HREF="1974_L2H_WinQueryDesktopBkgnd.html">[Back: WinQueryDesktopBkgnd - Related Functions]</A> <BR>
<A HREF="1976_L2H_WinQueryDesktopBkgnd.html">[Next: WinQueryDesktopBkgnd - Topics]</A> 
</BODY>
</HTML>
