<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>WinSetMsgInterest - Example Code</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>WinSetMsgInterest - Example Code</H1><!-- entering slot 2961 -->
<P>
This example uses the WinSetMsgInterest call to set the message interest
of a window to only WM_SHOW messages.
<PRE>#define INCL_WINMESSAGEMGR
#define INCL_WINHOOKS
#include &lt;OS2.H&gt;

HWND hwnd;
HAB  hab;
BOOL fSuccess;
   /* Hook Procedure Prototype */

BOOL MsgCtlHook(HAB hab,LONG  idContext,    /* this hook can */
               HWND hwnd, PSZ pszClassname,     /* be given any */
               ULONG  ulMsgclass,               /* name.        */
               LONG  idControl, PBOOL fSuccess);

main()
{
/* This function passes the hook procedure address to the system. */

WinSetHook(hab,
          (HMQ)0,
          MCHK_CLASSMSGINTEREST,
          (PFN)MsgCtlHook,
          (HMODULE)0); /* hook is into application queue. */

 /* This function sets the message interest of a window class. */
     WinSetMsgInterest(hwnd,
                       WM_SHOW,
                       SMI_AUTODISPATCH); /* interested in the */
                                 /* messages, but they are to     */
                                 /* be automatically dispatched   */
                                 /* to the window procedure.      */
}

BOOL MsgCtlHook(HAB hab, LONG idContext,       /* this hook can */
               HWND hwnd, PSZ pszClassname,    /* be given any  */
               ULONG ulMsgclass,               /* name.         */
               LONG idControl, PBOOL fSuccess)
{
/* ... */
}
</PRE>


<P><HR>

<A HREF="2952_L2H_WinSetMsgInterestRel.html">[Back: WinSetMsgInterest - Related Functions]</A> <BR>
<A HREF="2954_L2H_WinSetMsgInterestTop.html">[Next: WinSetMsgInterest - Topics]</A> 
</BODY>
</HTML>
