<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>WinFreeFileDlgList - Example Code</TITLE>
</HEAD>
<BODY>
<H1>WinFreeFileDlgList - Example Code</H1><!-- entering slot 981 -->
<P>
This example uses the WinFreeFileDlgList function to deallocate the table
of file name pointers returned by the <A HREF="900_L2_WinFileDlg.html">WinFileDlg
</A>function when the field of the<A><!-- external link: 1D F5 C7 2A --> FILEDLG
</A>structure.
<PRE>#define INCL_WINSTDFILE  /* Window Standard File Functions       */
#include &lt;os2.h&gt;

BOOL    fSuccess;        /* Success indicator                    */
FILEDLG pfdFiledlg;      /* File dialog info structure           */
HWND    hwndMain;        /* Window that owns the file dialog     */
HWND    hwndDlg;         /* File dialog window                   */

/*****************************************************************/
/* initialize FILEDLG structure                                  */
/*****************************************************************/
pfdFiledlg.cbSize = sizeof(FILEDLG); /* Size of structure        */
pfdFiledlg.fl = FDS_MULTIPLESEL | FDS_HELPBUTTON | FDS_CENTER |
                FDS_OPEN_DIALOG;     /* FDS_* flags              */

/*****************************************************************/
/* Set remaining fields here                                     */
/*****************************************************************/
.
.
.

/*****************************************************************/
/* Display the dialog and get the files                          */
/*****************************************************************/

hwndDlg = WinFileDlg(HWND_DESKTOP, hwndMain, &amp;pfdFiledlg);

if (hwndDlg &amp;&amp; (pfdFiledlg.lReturn == DID_OK))
{

   /**************************************************************/
   /* Upon successful return of the files, open them for further */
   /* processing using the table of file name pointers           */
   /**************************************************************/

   /**************************************************************/
   /* Find out whether the pointer array was allocated           */
   /**************************************************************/

   if (pfdFiledlg.papszFQFilename)

      /***********************************************************/
      /* If so, free the table of file name pointers             */
      /***********************************************************/

      fSuccess = WinFreeFileDlgList(pfdFiledlg.papszFQFilename);
}
</PRE>


<P><HR>

<A HREF="979_L2H_WinFreeFileDlgListRe.html">[Back: WinFreeFileDlgList - Remarks]</A> <BR>
<A HREF="981_L2H_WinFreeFileDlgListTo.html">[Next: WinFreeFileDlgList - Topics]</A> 
</BODY>
</HTML>
