<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>WinSetDesktopBkgnd - Remarks</TITLE>
</HEAD>
<BODY>
<H1>WinSetDesktopBkgnd - Remarks</H1><!-- entering slot 2850 -->
<P>
This function allows an application to present an image in the background
of the desktop window.  This application must be acting as the OS/2 PM shell
in place of the IBM supplied shell.  If the IBM supplied shell is executing
it maintains control of the background of the desktop window, and WinSetDesktopBkgnd
will have no effect on the desktop window background, but will indicate
a successful return code. The background of the desktop window is that portion
of the desktop on which no other windows have been painted.
<P>
The system assumes ownership of the bit map which forms the desktop background.
This implies that once the bit map is set to form the desktop background,
it is no longer available to an application and therefore must not be associated
with any application presentation space or any symbol set LCID. The system
repaints the desktop background automatically to show any changes.
<P>
The most recent invocation of this function sets the state of the desktop
background. Consequently, any application which sets the desktop background
must be aware that changing the desktop background every time the application
is activated, which implies the repainting of the whole desktop, could be
distracting, if not disorienting, to the user. Therefore, such an application
should determine if the correct desktop background is already showing by
processing the<A><!-- external link: 1D 4C C7 FC --> WM_ACTIVATE</A> message
and if its determining the desktop background state by using the <A HREF="1966_L2_WinQueryDesktopBkgnd.html">WinQueryDesktopBkgnd
</A>function and checking the bit-map handle of the current desktop background
with the desired bit-map handle.
<P>
When setting a new desktop background, it is important to ensure that any
previous desktop background bit map is destroyed, in order to prevent the
system becoming cluttered with unused bit maps.

<P><HR>

<A HREF="2841_L2H_WinSetDesktopBkgndPa.html">[Back: WinSetDesktopBkgnd - Parameters]</A> <BR>
<A HREF="2843_L2H_WinSetDesktopBkgndEr.html">[Next: WinSetDesktopBkgnd - Errors]</A> 
</BODY>
</HTML>
