<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>WinQueryLboxItemText - Example Code</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>WinQueryLboxItemText - Example Code</H1><!-- entering slot 2065 -->
<P>
This example uses WinQueryLboxItemText to copy all of the list box items
into a buffer.
<PRE>#define INCL_WINLISTBOXES
#define INCL_WINWINDOWMGR
#include &lt;OS2.H&gt;

LONG  cWindows;
char *szTemp;
HWND hwndLB;
SHORT maxchar, index = 0;

cWindows = WinQueryLboxCount(hwndLB);

/* allocate a buffer for cWindows items. */

DosAllocMem((PPVOID)&amp;szTemp,
            (ULONG)cWindows*256*sizeof(char),
             PAG_READ |
             PAG_WRITE |
             PAG_COMMIT);

/* loop through all of the items;  copying each */
/* one the buffer.                              */

while (index &lt;= cWindows)
{
   maxchar = WinQueryLboxItemTextLength(hwndLB,index);
   WinQueryLboxItemText(hwndLB,
                       index++,
                       szTemp,
                       maxchar);
   (*szTemp)+=maxchar*sizeof(char); /* increment pointer by number */
                                    /* of bytes copied. */
}
</PRE>


<P><HR>

<A HREF="2062_L2H_WinQueryLboxItemText.html">[Back: WinQueryLboxItemText - Related Messages]</A> <BR>
<A HREF="2064_L2H_WinQueryLboxItemText.html">[Next: WinQueryLboxItemText - Topics]</A> 
</BODY>
</HTML>
