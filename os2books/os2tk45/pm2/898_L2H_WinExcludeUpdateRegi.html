<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>WinExcludeUpdateRegion - Example Code</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>WinExcludeUpdateRegion - Example Code</H1><!-- entering slot 899 -->
<P>
This example uses WinExcludeUpdateRegion to prevent drawing into the window's
known invalid regions (to optimize updates) by excluding the window's update
region from the clipping region of the presentation space.  The clipping
region will need to be reset later by the application, which can accomplished
using GpiIntersectClipRectangle with the rectangle comprising the window
as input.
<PRE>#define INCL_WINWINDOWMGR       /* Window Manager Functions     */
#define INCL_GPIREGIONS         /* Region functions             */
#include &lt;os2.h&gt;

LONG  lComplexity;      /* clipping complexity/error return     */
HWND    hwnd;           /* parent window                        */
RECTL  rcl;             /* update region                        */
HPS    hps;             /* presentation-space handle            */

 case WM_PAINT:
     lComplexity = WinExcludeUpdateRegion(hps, hwnd);

     hps = WinBeginPaint(hwnd,   /* handle of the window           */
         NULLHANDLE,             /* get a cache presentation space */
         &amp;rcl);                  /* receives update rectangle  */
     WinFillRect(hps, &amp;rcl, CLR_WHITE);
     WinEndPaint(hps);
</PRE>


<P><HR>

<A HREF="897_L2H_WinExcludeUpdateRegi.html">[Back: WinExcludeUpdateRegion - Related Functions]</A> <BR>
<A HREF="899_L2H_WinExcludeUpdateRegi.html">[Next: WinExcludeUpdateRegion - Topics]</A> 
</BODY>
</HTML>
