<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Coding Considerations</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Coding Considerations</H1><!-- entering slot 135 -->
<P>
Instrumentation code, whether for an overlay program or a direct-interface
program, must be designed to process the following DMI commands:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->DmiGetAttributeCmd<!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 -->DmiSetAttributeCmd<!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 -->DmiSetReserveAttributeCmd<!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 -->DmiSetReleaseAttributeCmd<!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 -->DmiGetRowCmd<!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 -->DmiGetFirstRowCmd<!-- lm: 0x2 3 -->
<BR>
<LI><!-- lm: 0x2 6 -->DmiGetNextRowCmd<!-- lm: 0x2 1 -->
</UL>
<P>
These commands are all accessed through the DmiCiInvoke function call, which
is sent from the service layer. In addition to these commands, the instrumentation
code must also issue the pConfirmFunc function call for every command, including
set commands and commands that generate errors.
<P>
For the DmiGetFirstRowCmd and DmiGetNextRowCmd commands, the DmiGetRowCnf
structure is generated by the service layer before it issues the DmiCiInvoke
function call. The GroupKeyData structures are also allocated, and the oGroupKeyList
variable in the DmiGetRowCnf structure is supplied. Your instrumentation
code can only modify the confirm buffer and not the DmiInvoke command buffer.

<P>
For a complete description of the commands and structures used by the DMI,
read <A HREF="089_L1_DMICommandBlocks.html">DMI Command Blocks</A>
<P>
The SystemView Agent program also includes the DMI procedures library (DMIAPI)
to simplify the writing of instrumentation code. By using the procedures
provided by the DMI API and by patterning your code after the sample programs
included in the SystemView Agent, many considerations regarding function
calls and DMI commands are resolved for you. For a detailed explanation
of the DMI procedures library, read <A HREF="136_L1_DMIProcedureLibraryD.html">DMI
Procedure Library (DMIAPI)</A>.

<P><HR>

<A HREF="129_L3_DirectinterfaceProgr.html">[Back: Direct-interface Programs]</A> <BR>
<A HREF="131_L4_OverlayPrograms.html">[Next: Overlay Programs]</A> 
</BODY>
</HTML>
