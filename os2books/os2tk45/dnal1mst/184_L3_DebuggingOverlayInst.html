<HTML>
<HEAD>
<TITLE>Debugging Overlay Instrumentation on Windows NT</TITLE>
</HEAD>
<BODY>
<H1>Debugging Overlay Instrumentation on Windows NT</H1><!-- entering slot 189 -->
<P>
Overlay component instrumentation can be difficult to debug because of its
transitory nature. To facilitate this kind of debugging, you can use a debug
option when running the service layer on Windows NT. Refer to the<I> SystemView
Agent for Win32 User's Guide</I> for information on how to stop the service
layer.
<P>
Because the service layer normally runs as a background process, you must
stop the service layer (if it's already running) before you use this option.

<P>
To start the service layer with the debug option, enter the following command
from a DOS command prompt:
<PRE>START DMISLSRV DEBUG
</PRE>

<P>
If the subdirectory containing the service layer executable file is not
in your PATH statement, enter the appropriate drive and path as part of
the command.
<P>
When the service layer is loaded, a debug address is displayed. When you
set a breakpoint at this address, execution stops just before the DmiCiInvoke()
function call is issued. At this point the overlay component DLL is already
loaded, and you can specify breakpoints in the instrumentation wherever
you need them.
<P>
You can display the version of the service layer on Windows NT by issuing
the following from a DOS command prompt:
<PRE>DMISLSRV VERSION
</PRE>

<P>
This displays version information without starting the service layer. You
can issue this command while the service layer is running.

<P><HR>

<A HREF="183_L3_SynchronousandAsynch.html">[Back: Synchronous and Asynchronous Components]</A> <BR>
<A HREF="185_L3_ServiceLayerTimeout.html">[Next: Service Layer Time-out]</A> 
</BODY>
</HTML>
