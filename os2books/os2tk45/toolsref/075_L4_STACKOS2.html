<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>/STACKOS2</TITLE>
</HEAD>
<BODY>
<H1>/STACKOS2</H1><!-- entering slot 77 --><B>Set OS/2 Stack Allocation (/STACKOS2)</B>
<P>
Syntax:   /STACKOS2:<I>nnnn</I>
<P>
This option sets the size of the stack in the OS/2 header. The field<I> nnnn
</I>contains the stack size in bytes. This option is equivalent to the <A HREF="177_L4_ControlStackSizeST.html">Control
Stack Size (/ST)</A> (in LINK386 Help). OS/2 16-bit NE modules have a maximum
stack size of 65,535. OS/2 32-bit LX modules have a maximum stack size of
4,294,967,295. The /STACKOS2 only changes the OS/2 header and has no effect
on the DOS stub in the same module.
<P>
You can specify<I> nnnn</I> in decimal, hexadecimal, or octal radix using
standard C language notation. For instance, an OS/2 stack size of 32,768
bytes can be expressed as any of the following:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 --><LI>STACKOS2:32768<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><LI>STACKOS2:0x8000<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 --><LI>STACKOS2:0100000<!-- lm: 0x2 1 -->
</UL>
<P>
Compare to <A HREF="074_L4_STACKDOS.html">/STACKDOS</A>.
<P>
<B>DO NOT USE /STACK</B>
<P>
There is an old EXEHDR option /STACK that performed a function similar to
/STACKDOS and /STACKOS2 combined. The /STACK option has serious limitations
and has the potential to corrupt the header of an executable module. It
it very strongly recommended that you<U><I> do not use /STACK</I></U>, and
begin using /STACKDOS and /STACKOS2 instead.<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->For a<B> DOS-only</B> application, the /STACK option
will work correctly.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->For a 32-bit OS/2 application, the /STACK option will
only change the stack value in the header of the DOS stub; it will<B> not
</B>modify the OS/2 header, which is what the user may have intended.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->For a 16-bit OS/2 application, the /STACK option will
attempt to change both the DOS stub and OS/2 application stack values to
the same<I> nnnn</I> value.  This can lead to application failures. The
headers of the DOS stub and the OS/2 application should therefore be modified
independently of each other using the /STACKDOS and /STACKOS2 options.<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="074_L4_STACKDOS.html">[Back: /STACKDOS]</A> <BR>
<A HREF="076_L4_VERBOSE.html">[Next: /V[ERBOSE]]</A> 
</BODY>
</HTML>
