<HTML>
<HEAD>
<TITLE>Raccept()</TITLE>
</HEAD>
<BODY>
<H1>Raccept()</H1><!-- entering slot 299 -->
<P>
The Raccept() socket call accepts a connection request from a SOCKS server.

<P>
<B>Syntax</B>
<PRE>#include &lt;types.h&gt;
#include &lt;sys\socket.h&gt;
#include &lt;netinet\in.h&gt;
int Raccept(<I>s</I>, <I>name</I>, <I>namelen</I>)
int <I>s;</I>
sockaddr <I>*name;</I>
int *<I>namelen;</I>
</PRE>

<P>
<B>Parameters</B><!-- lm: 0x2 0 -->
<P>
<I>s</I><!-- lm: 0x11 2 -->
<UL> Socket descriptor.<!-- lm: 0x2 0 -->
</UL><I> name
</I><!-- lm: 0x11 2 -->
<UL>Pointer to a sockaddr structure that contains
the socket address of the connection client when the Raccept() call returns.
The format of<I> name</I> is determined by the communications domain where
the client resides. This parameter can be NULL if the caller is not interested
in the client address.<!-- lm: 0x2 0 -->
</UL><I> namelen</I><!-- lm: 0x11 2 -->
<UL> Must
initially point to an integer that contains the size in bytes of the storage
pointed to by<I> name</I>.  On return, that integer contains the size of
the data returned in the storage pointed to by<I> name</I>. If<I> name</I> is
NULL,<I> namelen</I> is ignored and can be NULL.<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Description</B>
<P>
This call is used to accept the first pending connection on the socket.
If the socket was bound through a SOCKS server using Rbind(), it will block
until the SOCKS server accepts a connection on its behalf. If the socket
was not bound through a SOCKS server, this call is equivalent to accept().

<P>
<B>Return Values</B>
<P>
A non-negative socket descriptor indicates success; the value -1 indicates
an error. You can get the specific error code by calling sock_errno() or
psock_errno().<!-- lm: 0x2 0 -->
<P>
<B>Error Code</B><!-- lm: 0x2 23 -->
<UL><B>Description</B><!-- lm: 0x2 0 -->
</UL>SOCENOTSOCK<!-- lm: 0x12 23 -->
<UL>The<I>s</I>parameterisnotavalidsocketdescriptor
.<!-- lm: 0x2 0 -->
</UL>SOCEFAULT<!-- lm: 0x12 23 -->
<UL>Using<I>name</I>and<I>namelen</I>wouldresultinanattempttocopytheaddressintoaportionofthecalleraddressspaceintowhichinformationcannotbewritten
.<!-- lm: 0x2 0 -->
</UL>SOCEINTR<!-- lm: 0x12 23 -->
<UL>Interruptedsystemcall
.<!-- lm: 0x2 0 -->
</UL>SOCEINVAL<!-- lm: 0x12 23 -->
<UL>Listen ( )wasnotcalledforsocket<I>s
</I>.<!-- lm: 0x2 0 -->
</UL>SOCENOBUFS<!-- lm: 0x12 23 -->
<UL>Insufficientbufferspaceavailabletocreatethenewsocket
.<!-- lm: 0x2 0 -->
</UL>SOCEOPNOTSUPP<!-- lm: 0x12 23 -->
<UL>The<I>s</I>parameterisnotconnection
- oriented .<!-- lm: 0x2 0 -->
</UL>SOCEWOULDBLOCK<!-- lm: 0x12 23 -->
<UL>The<I>s</I>parameterisinnonblockingmodeandnoconnectionsareonthequeue
.<!-- lm: 0x2 0 -->
</UL>SOCECONNABORTED<!-- lm: 0x12 23 -->
<UL>Thesoftwarecausedaconnectionclose
.<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Related Calls</B><!-- lm: 0x2 5 -->
<UL>
<P>
<A HREF="179_L2_accept.html">accept()</A><!-- lm: 0x2 5 --> <A HREF="183_L2_connect.html">connect()
</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="263_L2_Rbind.html">Rbind()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="264_L2_Rconnect.html">Rconnect()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="273_L2_Rgetsockname.html">Rgetsockname()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="274_L2_Rlisten.html">Rlisten()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="205_L2_sock_errno.html">sock_errno()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="206_L2_socket.html">socket()</A><!-- lm: 0x2 0 -->
</UL>

<P><HR>

<A HREF="261_L2_putshort.html">[Back: putshort()]</A> <BR>
<A HREF="263_L2_Rbind.html">[Next: Rbind()]</A> 
</BODY>
</HTML>
