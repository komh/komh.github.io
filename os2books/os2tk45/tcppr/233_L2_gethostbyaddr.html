<HTML>
<HEAD>
<TITLE>gethostbyaddr()</TITLE>
</HEAD>
<BODY>
<H1>gethostbyaddr()</H1><!-- entering slot 268 -->
<P>
The gethostbyaddr() call returns a pointer to information about a host specified
by an internet address.
<P>
<B>Syntax</B>
<PRE>#include &lt;netdb.h&gt;
struct hostent *gethostbyaddr(<I>addr</I>, <I>addrlen</I>, <I>addrfam</I>)
char *<I>addr</I>;
int <I>addrlen</I>;
int <I>addrfam</I>;
</PRE>

<P>
<B>Parameters</B><!-- lm: 0x2 0 -->
<P>
<I>addr</I><!-- lm: 0x11 2 -->
<UL> Pointer to a 32-bit internet address
in network-byte order.<!-- lm: 0x2 0 -->
</UL><I> addrlen</I><!-- lm: 0x11 2 -->
<UL> Size
of<I> addr</I> in bytes.<!-- lm: 0x2 0 -->
</UL><I> addrfam</I><!-- lm: 0x11 2 -->
<UL> Address
family supported (AF_INET).<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Description</B>
<P>
This call resolves the host name through a name server, if one is present.
If a name server is not present or cannot resolve the host name, gethostbyaddr()
uses the default name services ordering: first it queries DNS/BIND, then
it searches the ETC\HOSTS file in sequence until a matching host address
is found or an end-of-file (EOF) marker is reached. This search order can
be reversed by adding the following statement in your CONFIG.SYS file:
<PRE>SET USE_HOSTS_FIRST=1</PRE>

<P>
When using DNS/BIND name service resolution, if the ETC\RESOLV file exists
the  gethostbyaddr() call queries the domain name server. The gethostbyaddr()
call recognizes domain name servers as described in RFC 883.
<P>
The gethostbyaddr() call also searches the local ETC\HOSTS file when indicated
to do so.
<P>
The gethostbyaddr() call returns a pointer to a hostent structure, which
contains information obtained from one of the name resolutions services.
The hostent structure is defined in the &lt;NETDB.H&gt; file.
<P>

<P>
<B>Return Values</B>
<P>
The return value points to static data that subsequent API calls can modify.
This call returns a pointer to a hostent structure for the host address
specified on the call and indicates success. A NULL pointer indicates an
error.
<P>
The &lt;NETDB.H&gt; header file defines the hostent structure and contains
the following elements:<!-- lm: 0x2 0 -->
<P>
<B>Element</B><!-- lm: 0x2 15 -->
<UL><B>Description</B><!-- lm: 0x2 0 -->
</UL><I>h _ name</I><!-- lm: 0x12 15 -->
<UL>Officialnameofthehost<!-- lm: 0x2 0 -->
</UL><I>h _ aliases</I><!-- lm: 0x12 15 -->
<UL>Zero - terminatedarrayofalternativenamesforthehost<!-- lm: 0x2 0 -->
</UL><I>h _ addrtype</I><!-- lm: 0x12 15 -->
<UL>Theaddressfamilyofthenetworkaddressbeingreturned
,alwayssettoAF _ INET<!-- lm: 0x2 0 -->
</UL><I>h _ length</I><!-- lm: 0x12 15 -->
<UL>Lengthoftheaddressinbytes<!-- lm: 0x2 0 -->
</UL><I>h _ addr</I><!-- lm: 0x12 15 -->
<UL>Pointertothenetworkaddressofthehost<!-- lm: 0x2 0 -->
</UL>
<P>
The value of h_errno indicates the specific error.
<PRE> <B>h_errno Value</B>   <B>Code</B>  <B>Description</B>

 NETDB_INTERNAL   -1   Generic error value. Call sock_errno() or
                       psock_errno() to get a more detailed error
                       code (or error message).

 HOST_NOT_FOUND   1    The host specified by the <I>addr</I> parameter is
                       not found.

 TRY_AGAIN        2    The local server does not receive a response
                       from an authorized server. Try again later.

 NO_RECOVERY      3    This error code indicates an unrecoverable
                       error.

 NO_DATA          4    The requested <I>addr</I> is valid, but does not
                       have an Internet address at the name server.

 NO_ADDRESS       4    The requested <I>addr</I> is valid, but does not
                       have an Internet address at the name server.

</PRE>

<P>
<B>Related Calls</B><!-- lm: 0x2 5 -->
<UL>
<P>
<A HREF="229_L2_endhostent.html">endhostent()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="234_L2_gethostbyname.html">gethostbyname()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="235_L2_gethostent.html">gethostent()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="252_L2_inet_addr.html">inet_addr()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="275_L2_sethostent.html">sethostent()</A><!-- lm: 0x2 0 -->
</UL>

<P><HR>

<A HREF="232_L2_endservent.html">[Back: endservent()]</A> <BR>
<A HREF="234_L2_gethostbyname.html">[Next: gethostbyname()]</A> 
</BODY>
</HTML>
