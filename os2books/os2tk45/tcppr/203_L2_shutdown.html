<HTML>
<HEAD>
<TITLE>shutdown()</TITLE>
</HEAD>
<BODY>
<H1>shutdown()</H1><!-- entering slot 234 -->
<P>
The socket call shuts down all or part of a full-duplex connection.
<P>
<B>Syntax</B>
<PRE>#include &lt;sys\socket.h&gt;
int shutdown(<I>s</I>, <I>howto</I>)
int <I>s</I>;
int <I>howto</I>;
</PRE>

<P>
<B>Parameters</B><!-- lm: 0x2 0 -->
<P>
<I>s</I><!-- lm: 0x11 2 -->
<UL> Socket descriptor.<!-- lm: 0x2 0 -->
</UL><I> howto
</I><!-- lm: 0x11 2 -->
<UL>Condition of the shutdown.<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Description</B>
<P>
This call shuts down all or part of a full-duplex connection. Since data
flows in one direction are independent of data flows in the other direction,
the shutdown call allows you to independently stop data flow in either direction
or all data flows with one API call. For example, you may want to stop the
sender(s) from sending data to you, but you still want to send data.
<P>
Using the shutdown() call is optional.
<P>
The<I> howto</I> parameter sets the condition for shutting down the connection
to socket<I> s</I>. It can be set to one of the following:<!-- lm: 0x2 2 -->
<UL>
<P>
<LI><!-- lm: 0x2 5 --><LI><LI>no more data can be received on socket<I> s</I>.
<!-- lm: 0x2 2 --><!-- lm: 0x2 5 -->
<UL>1 - no more output to be allowed
on the socket<I> s</I>.<!-- lm: 0x2 2 -->
</UL><!-- lm: 0x2 5 -->
<UL>2 - no more data can be sent or received on
socket<I> s</I>.<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Note: </B> In the NetBIOS domain, the shutdown() call has no effect.
 When called, shutdown() will return a successful return code, but no shutdown
occurs.<!-- lm: 0x2 0 -->
<P>

<P>
<B>Return Values</B>
<P>
The value 0 indicates success; the value -1 indicates an error. You can
get the specific error code by calling sock_errno() or psock_errno().<!-- lm: 0x2 0 -->
<P>
<B>Error Code</B><!-- lm: 0x2 19 -->
<UL><B>Description</B><!-- lm: 0x2 0 -->
</UL>SOCENOTSOCK<!-- lm: 0x12 19 -->
<UL>The<I>s</I>parameterisnotavalidsocketdescriptor
.<!-- lm: 0x2 0 -->
</UL>SOCEINVAL<!-- lm: 0x12 19 -->
<UL>The<I>howto</I>parameterwasnotsettooneofthevalidvalues
.<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Related Calls</B><!-- lm: 0x2 5 -->
<UL>
<P>
<A HREF="179_L2_accept.html">accept()</A><!-- lm: 0x2 5 --> <A HREF="183_L2_connect.html">connect()
</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="186_L2_getsockopt.html">getsockopt()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="192_L2_readv.html">readv()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="193_L2_recv.html">recv()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="194_L2_recvfrom.html">recvfrom()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="195_L2_recvmsg.html">recvmsg()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="197_L2_select.html">select()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="198_L2_send.html">send()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="201_L2_sendto.html">sendto()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="202_L2_setsockopt.html">setsockopt()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="205_L2_sock_errno.html">sock_errno()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="207_L2_soclose.html">soclose()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="206_L2_socket.html">socket()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="223_L2_writev.html">writev()</A><!-- lm: 0x2 0 -->
</UL>

<P><HR>

<A HREF="202_L2_setsockopt.html">[Back: setsockopt()]</A> <BR>
<A HREF="204_L2_so_cancel.html">[Next: so_cancel()]</A> 
</BODY>
</HTML>
