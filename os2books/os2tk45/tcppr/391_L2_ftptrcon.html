<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>ftptrcon()</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>ftptrcon()</H1><!-- entering slot 429 -->
<P>
The ftptrcon() call opens the trace file specified and starts tracing.
<P>
<B>Syntax</B>
<PRE>#include &lt;ftpapi.h&gt;

int ftptrcon(<I>fileSpec, mode</I>)
char *<I>fileSpec;</I>
int <I>mode;</I>
</PRE>

<P>
<B>Parameters</B><!-- lm: 0x2 0 -->
<P>
<I>fileSpec</I><!-- lm: 0x11 2 -->
<UL> Identifies the name of the trace
file.<!-- lm: 0x2 0 -->
</UL><I> mode</I><!-- lm: 0x11 2 -->
<UL> Specifies
the trace mode as overwrite or append.  Use M_OVERLAY for trace data which
overwrites previous information.  Use M_APPEND for trace data which appends
to previous information.<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Description</B>
<P>
The ftptrcon() call opens the trace file specified and starts tracing of
the command and reply sequences sent over the control connection between
the local and remote hosts.  The trace file can be written over or appended
to.
<P>
No notification is provided if writing of trace data fails.
<P>
Telnet command and reply sequences are not traced nor are command and reply
sequences between the local host and a proxy host.
<P>
<B>Return Values</B>
<P>
There are three possible return values for ftptrcon():<!-- lm: 0x2 2 -->
<UL>
<P>
<LI><!-- lm: 0x2 5 --><LI>when successful<!-- lm: 0x2 2 --> <!-- lm: 0x2 5 -->
<UL>TRCMODE
indicates the value set into mode was not valid<!-- lm: 0x2 2 -->
</UL><!-- lm: 0x2 5 -->
<UL>TRCOPEN indicates the trace file could not
be opened<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Examples</B>
<P>
To write the trace data into a file named api.trc in the C:\WORK directory,
use :
<PRE>int rc;rc = ftptrcon("c\\work\\api.trc", M_OVERLAY);
</PRE>

<P>
If the file already existed, the new trace data overwrites the previous
trace data (overlay mode).

<P><HR>

<A HREF="390_L2_ftptrcoff.html">[Back: ftptrcoff()]</A> <BR>
<A HREF="392_L2_ftpver.html">[Next: ftpver()]</A> 
</BODY>
</HTML>
