<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>getservbyport()</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>getservbyport()</H1><!-- entering slot 281 -->
<P>
The getservbyport() call returns a pointer to the ETC\SERVICES file entry
specified by a port number.
<P>
<B>Syntax</B>
<PRE>#include &lt;netdb.h&gt;
struct servent *getservbyport(<I>port</I>, <I>proto</I>)
int <I>port</I>;
char *<I>proto</I>;
</PRE>

<P>
<B>Parameters</B><!-- lm: 0x2 0 -->
<P>
<I>port</I><!-- lm: 0x11 2 -->
<UL> Specified port.<!-- lm: 0x2 0 -->
</UL><I> proto
</I><!-- lm: 0x11 2 -->
<UL>Pointer to the specified protocol.<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Description</B>
<P>
This call sequentially searches the ETC\SERVICES file for the specified
port number, which must match the protocol if a protocol is stated.
<P>
The getservbyport() call retrieves an entry from the ETC\SERVICES file using
the<I> port</I> parameter as a search key.
<P>
An application program can use this call to access a service, service aliases,
the protocol for the service, and a protocol port number for the service.

<P>
The getservbyname() call searches the ETC\SERVICES file sequentially from
the start of the file until it finds one of the following:<!-- lm: 0x2 2 -->
<UL>
<P>
<LI><!-- lm: 0x2 5 -->Matching protocol and port number<!-- lm: 0x2 2 --> <!-- lm: 0x2 5 -->
<UL>Matching
protocol when the<I> port</I> parameter is set to 0<!-- lm: 0x2 2 -->
</UL><!-- lm: 0x2 5 -->
<UL>End of the file<!-- lm: 0x2 0 -->
</UL> Upon locating a matching protocol and port number-or upon locating
a matching protocol only (if the<I> port</I> parameter equals 0-the getservbyport()
call returns a pointer to the servent structure. This structure contains
fields for a line of information from the ETC\SERVICES file. The &lt;NETDB.H&gt;
file defines the servent structure and structure fields.
<P>
Use the endservent() call to close the ETC\SERVICES file.
<P>
<B>Return Values</B>
<P>
The getservbyport() call returns a pointer to a servent structure for the
port number specified on the call. The return value points to static data
that subsequent API calls can modify. A pointer to a servent structure indicates
success. A NULL pointer indicates an error or EOF.
<P>
The servent structure is defined in the &lt;NETDB.H&gt; header file and
contains the following elements:<!-- lm: 0x2 0 -->
<P>
<B>Element</B><!-- lm: 0x2 15 -->
<UL><B>Description</B><!-- lm: 0x2 0 -->
</UL><I>s _ name</I><!-- lm: 0x12 15 -->
<UL>Officialnameoftheservice<!-- lm: 0x2 0 -->
</UL><I>s _ aliases</I><!-- lm: 0x12 15 -->
<UL>Array ,terminatedwithaNULLpointer
,ofalternativenamesfortheservice<!-- lm: 0x2 0 -->
</UL><I>s _ port</I><!-- lm: 0x12 15 -->
<UL>Portnumberoftheservice<!-- lm: 0x2 0 -->
</UL><I>s _ proto</I><!-- lm: 0x12 15 -->
<UL>Requiredprotocoltocontacttheservice<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Related Calls</B><!-- lm: 0x2 5 -->
<UL>
<P>
<A HREF="231_L2_endprotoent.html">endprotoent()</A><!-- lm: 0x2 5 --> <A HREF="232_L2_endservent.html">endservent()
</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="242_L2_getprotobyname.html">getprotobyname()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="244_L2_getprotoent.html">getprotoent()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="245_L2_getservbyname.html">getservbyname()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="247_L2_getservent.html">getservent()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="277_L2_setprotoent.html">setprotoent()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="278_L2_setservent.html">setservent()</A><!-- lm: 0x2 0 -->
</UL>

<P><HR>

<A HREF="245_L2_getservbyname.html">[Back: getservbyname()]</A> <BR>
<A HREF="247_L2_getservent.html">[Next: getservent()]</A> 
</BODY>
</HTML>
