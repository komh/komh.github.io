<HTML>
<HEAD>
<TITLE>ftpping()</TITLE>
</HEAD>
<BODY>
<H1>ftpping()</H1><!-- entering slot 416 -->
<P>
The ftpping() call resolves a host name and sends a ping to the remote host
to determine if the host is responding.
<P>
<B>Syntax</B>
<PRE>#include &lt;ftpapi.h&gt;

int ftpping(<I>host, len, addr</I>)
char *<I>host</I>;
int <I>len</I>;
unsigned long *<I>addr</I>;
</PRE>

<P>
<B>Parameters</B><!-- lm: 0x2 0 -->
<P>
<I>host</I><!-- lm: 0x11 2 -->
<UL> Host running the FTP server.<!-- lm: 0x2 0 -->
</UL><I> len
</I><!-- lm: 0x11 2 -->
<UL>Length of the ping packets.<!-- lm: 0x2 0 -->
</UL><I> addr
</I><!-- lm: 0x11 2 -->
<UL>Buffer in which to return the host internet
address.<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Description</B>
<P>
The ftpping() call tries to resolve the host name through a name server.
If the name server is not present, ftpping() searches the TCPIP\ETC\HOSTS
file for a matching host name.  Unlike the ping() call, ftpping() could
take several seconds because it must resolve the host name before it sends
a ping. For this reason, use ftpping() only in the first try to determine
if the host is responding.  The ftpping() call sets the<I> addr</I> parameter
to the internet address of the host.  After the first try, use this address
value to call ping.
<P>
If the ftpping() return value is positive, the return value is the number
of milliseconds it took for the echo to return.  If the return value is
negative, it contains an error code.  The parameter<I> len</I> specifies
the length of the ping packet(s).
<P>
<B>Return Values</B>
<P>
The following are ftpping() call return codes and their corresponding descriptions:
<!-- lm: 0x2 0 -->
<P>
<B>Return Code</B><!-- lm: 0x2 20 -->
<UL><B>Description</B><!-- lm: 0x2 0 -->
</UL>PINGREPLY<!-- lm: 0x12 20 -->
<UL>Hostdoesnotreply<!-- lm: 0x2 0 -->
</UL>PINGSOCKET<!-- lm: 0x12 20 -->
<UL>Unabletoobtainsocket<!-- lm: 0x2 0 -->
</UL>PINGPROTO<!-- lm: 0x12 20 -->
<UL>UnknownprotocolICMP<!-- lm: 0x2 0 -->
</UL>PINGSEND<!-- lm: 0x12 20 -->
<UL>Sendfailed<!-- lm: 0x2 0 -->
</UL>PINGRECV<!-- lm: 0x12 20 -->
<UL>Recv ( )failed<!-- lm: 0x2 0 -->
</UL>PINGHOST<!-- lm: 0x12 20 -->
<UL>Unknownhost<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Examples</B>
<PRE>int              rc;unsigned long    addr;

rc = ftpping("conypc", 256, &amp;addr);
</PRE>

<P>
The ftpping() call sends a 256-byte ping packet to the host conypc.

<P><HR>

<A HREF="377_L2_ftpmkd.html">[Back: ftpmkd()]</A> <BR>
<A HREF="379_L2_ftpproxy.html">[Next: ftpproxy()]</A> 
</BODY>
</HTML>
