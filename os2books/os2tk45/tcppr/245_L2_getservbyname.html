<HTML>
<HEAD>
<TITLE>getservbyname()</TITLE>
</HEAD>
<BODY>
<H1>getservbyname()</H1><!-- entering slot 280 -->
<P>
The getservbyname() call returns a pointer to the ETC\SERVICES file entry
specified by a service name.
<P>
<B>Syntax</B>
<PRE>#include &lt;netdb.h&gt;
struct servent *getservbyname(<I>name</I>, <I>proto</I>)
char *<I>name</I>;
char *<I>proto</I>;
</PRE>

<P>
<B>Parameters</B><!-- lm: 0x2 0 -->
<P>
<I>name</I><!-- lm: 0x11 2 -->
<UL> Pointer to the service name.<!-- lm: 0x2 0 -->
</UL><I> proto
</I><!-- lm: 0x11 2 -->
<UL>Pointer to the specified protocol.<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Description</B>
<P>
This call searches the ETC\SERVICES file for the specified service name,
which must match the protocol if a protocol is stated.
<P>
The getservbyname() call retrieves an entry from the ETC\SERVICES file using
the<I> name</I> parameter as a search key.
<P>
An application program can use this call to access a service, service aliases,
the protocol for the service, and a protocol port number for the service.

<P>
The getservbyname() call searches the ETC\SERVICES file sequentially from
the start of the file until it finds one of the following:<!-- lm: 0x2 2 -->
<UL>
<P>
<LI><!-- lm: 0x2 5 -->Matching name and protocol number<!-- lm: 0x2 2 --> <!-- lm: 0x2 5 -->
<UL>Matching
name when the<I> proto</I> parameter is set to 0<!-- lm: 0x2 2 -->
</UL><!-- lm: 0x2 5 -->
<UL>End of the file<!-- lm: 0x2 0 -->
</UL> Upon locating a matching name and protocol, the getservbyname() call
returns a pointer to the servent structure, which contains fields for a
line of information from the ETC\SERVICES file. The &lt;NETDB.H&gt; file
defines the servent structure and structure fields.
<P>
Use the endservent() call to close the ETC\SERVICES file.
<P>
<B>Return Values</B>
<P>
The call returns a pointer to a servent structure for the network service
specified on the call. The return value points to static data that subsequent
API calls can modify. A pointer to a servent structure indicates success.
A NULL pointer indicates an error or EOF.
<P>
The servent structure is defined in the &lt;NETDB.H&gt; header file and
contains the following elements:<!-- lm: 0x2 0 -->
<P>
<B>Element</B><!-- lm: 0x2 15 -->
<UL><B>Description</B><!-- lm: 0x2 0 -->
</UL><I>s _ name</I><!-- lm: 0x12 15 -->
<UL>Officialnameoftheservice<!-- lm: 0x2 0 -->
</UL><I>s _ aliases</I><!-- lm: 0x12 15 -->
<UL>Array ,terminatedwithaNULLpointer
,ofalternativenamesfortheservice<!-- lm: 0x2 0 -->
</UL><I>s _ port</I><!-- lm: 0x12 15 -->
<UL>Portnumberoftheservice<!-- lm: 0x2 0 -->
</UL><I>s _ proto</I><!-- lm: 0x12 15 -->
<UL>Requiredprotocoltocontacttheservice<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Related Calls</B><!-- lm: 0x2 5 -->
<UL>
<P>
<A HREF="231_L2_endprotoent.html">endprotoent()</A><!-- lm: 0x2 5 --> <A HREF="232_L2_endservent.html">endservent()
</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="242_L2_getprotobyname.html">getprotobyname()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="243_L2_getprotobynumber.html">getprotobynumber()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="244_L2_getprotoent.html">getprotoent()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="246_L2_getservbyport.html">getservbyport()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="247_L2_getservent.html">getservent()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="277_L2_setprotoent.html">setprotoent()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="278_L2_setservent.html">setservent()</A><!-- lm: 0x2 0 -->
</UL>

<P><HR>

<A HREF="244_L2_getprotoent.html">[Back: getprotoent()]</A> <BR>
<A HREF="246_L2_getservbyport.html">[Next: getservbyport()]</A> 
</BODY>
</HTML>
