<HTML>
<HEAD>
<TITLE>soclose()</TITLE>
</HEAD>
<BODY>
<H1>soclose()</H1><!-- entering slot 239 -->
<P>
The socket call shuts down a socket and frees resources allocated to the
socket.
<P>
<B>Syntax</B>
<PRE>#include &lt;types.h&gt;
#include &lt;unistd.h&gt;
int soclose(<I>s</I>)
int <I>s</I>;
</PRE>

<P>
<B>Parameters</B><!-- lm: 0x2 0 -->
<P>
<I>s</I><!-- lm: 0x11 2 -->
<UL> Socket descriptor.<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Description</B>
<P>
This call shuts down the socket associated with the socket descriptor<I> s</I>,
and frees resources allocated to the socket.  If<I> s</I> refers to a connected
socket, the connection is closed.
<P>
If the SO_LINGER socket option is enabled (see <A HREF="202_L2_setsockopt.html">setsockopt()
</A>for additional information), then the task will try to send any queued
data. If the SO_LINGER socket option is disabled, then the task will flush
any data queued to be sent.
<P>
<B>Return Values</B>
<P>
The value 0 indicates success; the value -1 indicates an error. You can
get the specific error code by calling sock_errno() or psock_errno().<!-- lm: 0x2 0 -->
<P>
<B>Error Code</B><!-- lm: 0x2 19 -->
<UL><B>Description</B><!-- lm: 0x2 0 -->
</UL>SOCENOTSOCK<!-- lm: 0x12 19 -->
<UL>The<I>s</I>parameterisnotavalidsocketdescriptor
.<!-- lm: 0x2 0 -->
</UL>SOCEALREADY<!-- lm: 0x12 19 -->
<UL>Thesocket<I>s</I>ismarkednonblocking
,andapreviousconnectionattempthasnotcompleted .<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Related Calls</B><!-- lm: 0x2 5 -->
<UL>
<P>
<A HREF="179_L2_accept.html">accept()</A><!-- lm: 0x2 5 --> <A HREF="186_L2_getsockopt.html">getsockopt()
</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="202_L2_setsockopt.html">setsockopt()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="205_L2_sock_errno.html">sock_errno()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="206_L2_socket.html">socket()</A><!-- lm: 0x2 0 -->
</UL>

<P><HR>

<A HREF="206_L2_socket.html">[Back: socket()]</A> <BR>
<A HREF="208_L2_sysctl.html">[Next: sysctl()]</A> 
</BODY>
</HTML>
