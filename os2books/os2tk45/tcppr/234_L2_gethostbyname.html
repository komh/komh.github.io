<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>gethostbyname()</TITLE>
</HEAD>
<BODY>
<H1>gethostbyname()</H1><!-- entering slot 269 -->
<P>
The gethostbyname() call returns a pointer to information about a host specified
by a host name.
<P>
<B>Syntax</B>
<PRE>#include &lt;netdb.h&gt;
struct hostent *gethostbyname(<I>name</I>)
char *<I>name</I>;
</PRE>

<P>
<B>Parameters</B><!-- lm: 0x2 0 -->
<P>
<I>name</I><!-- lm: 0x11 2 -->
<UL> Pointer to the name of the host being
queried.<!-- lm: 0x2 0 -->
</UL>
<P>
<B>Description:</B>
<P>
The following diagram illustrates gethostbyname() processing: gethostbyname
( )Processing
<BR>
<!-- Unable to decode bitmap format --><IMG SRC="234_L2_gethostbyname_12.gif" WIDTH=236 HEIGHT=229>
<P>
If you are using a SOCKS server, gethostbyname() calls Rgethostbyname().
To avoid having to change your applications should there be changes in SOCKS
support, it is recommended you use gethostbyname() rather than Rgethostbyname().

<P>
See <A HREF="089_L2_SocketSecureSupport.html">Socket Secure Support</A> for
information about SOCKS.
<P>
The gethostbyname() call resolves the host name through a name server, if
one is present. If a name server is not present or is unable to resolve
the host name, gethostbyname() searches the ETC\HOSTS file in sequence until
a matching host name is found or an EOF marker is reached. This search order
can be reversed by the following statement in your CONFIG.SYS file:
<PRE>SET USE_HOSTS_FIRST=1
</PRE>

<P>
<B>Return Values</B>
<P>
The return value points to static data that subsequent API calls can modify.
This call returns a pointer to a hostent structure for the host address
specified on the call and indicates success. A NULL pointer indicates an
error.
<P>
The &lt;NETDB.H&gt; header file defines the hostent structure and contains
the following elements:<!-- lm: 0x2 0 -->
<P>
<B>Element</B><!-- lm: 0x2 15 -->
<UL><B>Description</B><!-- lm: 0x2 0 -->
</UL><I>h _ name</I><!-- lm: 0x12 15 -->
<UL>Officialnameofthehost<!-- lm: 0x2 0 -->
</UL><I>h _ aliases</I><!-- lm: 0x12 15 -->
<UL>Zero - terminatedarrayofalternativenamesforthehost<!-- lm: 0x2 0 -->
</UL><I>h _ addrtype</I><!-- lm: 0x12 15 -->
<UL>Theaddressfamilyofthenetworkaddressbeingreturned
,alwayssettoAF _ INET<!-- lm: 0x2 0 -->
</UL><I>h _ length</I><!-- lm: 0x12 15 -->
<UL>Lengthoftheaddressinbytes<!-- lm: 0x2 0 -->
</UL><I>h _ addr</I><!-- lm: 0x12 15 -->
<UL>Pointertothenetworkaddressofthehost<!-- lm: 0x2 0 -->
</UL>
<P>
The value of h_errno indicates the specific error.
<PRE> <B>h_errno Value</B>   <B>Code</B>  <B>Description</B>

 NETDB_INTERNAL   -1   Generic error value. Call sock_errno() or
                       psock_errno()  to get a more detailed error
                       code (or error message).

 HOST_NOT_FOUND   1    The host specified by the <I>name</I> parameter is
                       not found.

 TRY_AGAIN        2    The local server does not receive a response
                       from an authorized server. Try again later.

 NO_RECOVERY      3    This error code indicates an unrecoverable
                       error.

 NO_DATA          4    The requested <I>name</I> is valid, but does not
                       have an Internet address at the name server.

 NO_ADDRESS       4    The requested <I>name</I> is valid, but does not
                       have an Internet address at the name server.

</PRE>

<P>
<B>Related Calls</B><!-- lm: 0x2 5 -->
<UL>
<P>
<A HREF="229_L2_endhostent.html">endhostent()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="233_L2_gethostbyaddr.html">gethostbyaddr()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="235_L2_gethostent.html">gethostent()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="252_L2_inet_addr.html">inet_addr()</A><!-- lm: 0x2 5 -->
<BR>
<A HREF="275_L2_sethostent.html">sethostent()</A><!-- lm: 0x2 0 -->
</UL>

<P><HR>

<A HREF="233_L2_gethostbyaddr.html">[Back: gethostbyaddr()]</A> <BR>
<A HREF="235_L2_gethostent.html">[Next: gethostent()]</A> 
</BODY>
</HTML>
