<HTML>
<HEAD>
<TITLE>C++ Considerations</TITLE>
</HEAD>
<BODY>
<H1>C++ Considerations</H1><!-- entering slot 22 -->
<P>
This section contains several topics you should take into consideration
if you are using C++ to develop applications.
<P>

<BR>
A Few Words on Typedefs
<P>
The OS/2 header files can be used with either C or C++ compilers. If __cplusplus
has been defined, the header files will produce code that is compatible
with C++.  This is done since several of the typedefs have been changed
to support C++. For example, many items that are unsigned char in the "C
header files" are char when compiled with __cplusplus. For instance,
<PRE>
typedef unsigned char BYTE;

</PRE>
has changed to
<PRE>
typedef char BYTE;

</PRE>

<P>
The existing samples that are included in the IBM Developer's Toolkit for
OS/2 Warp Version 3 can be compiled with either C or C++.
<P>
<B>Note: </B> Prior versions of the IBM Developer's Toolkit for OS/2 Warp
Version 3 provided two sets of header files:  one set for use with C compilers,
another set for use with C++ compilers. The same set of header files are
now used by either compiler.<!-- lm: 0x2 1 -->
<UL>
<P>

<BR>
PCSZ Data Type
<P>
If a function takes as a parameter a string that is not changed by the function,
the string parameter can be declared as a "const" string, or a<A><!-- external link: 1D E2 C5 FC --> PCSZ</A>.
<A><!-- external link: 1D E2 C5 6F -->PCSZ</A> is defined in the header
files as a "const" pointer to a NULL-delimited string.
<P>
The "const" means that the function will not change the contents of the
string. The use of the "const" keyword is not specific to C++, many C compilers
support it as well.  However, the use of<A><!-- external link: 1D E2 C5 6F --> PCSZ
</A>allows for better optimization by the compiler and is more semantically
compatible with C++.
<P>
The<A><!-- external link: 1D E2 C5 6F --> PCSZ</A> data type is defined
in addition to the<A><!-- external link: 1D ED C5 77 --> PSZ</A> data type.
 Existing code that calls functions that use<A><!-- external link: 1D ED C5 77 --> PSZ
</A>will continue to work correctly, though they may cause warning or error
messages when compiled.
<P>

<BR>
LINK386
<P>
The C++ compiler will provide a dynamic link library which is be used by
LINK386, or other OS/2 linker, when generating error messages. This DLL
will convert a compiler generated mangled name into the function prototype.
If the DLL is not present, an error message will be displayed and LINK386
will display the compiler-generated mangled name in error messages.

<P><HR>

<A HREF="017_L3_StackSize.html">[Back: Stack Size]</A> <BR>
<A HREF="019_L1_WorkplaceObjectClass.html">[Next: Workplace Object Classes]</A> 
</BODY>
</HTML>
