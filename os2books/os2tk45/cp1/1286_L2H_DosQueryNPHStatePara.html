<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>DosQueryNPHState - Parameters</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosQueryNPHState - Parameters</H1><!-- entering slot 1303 --><!-- lm: 0x2 1 -->
<UL>
<P>
<B>hpipe</B> (<A><!-- external link: 1D 9E C4 68 -->HPIPE</A>) - input<!-- lm: 0x11 4 -->
<UL> The
named-pipe handle to query.
<P>
The server handle is returned by <A HREF="251_L2_DosCreateNPipe.html">DosCreateNPipe</A>;
the client handle is returned by <A HREF="754_L2_DosOpen.html">DosOpen</A>.
<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>pState</B> (<A><!-- external link: 1D DB C4 99 -->PULONG</A>) - output
<!-- lm: 0x11 4 -->
<UL>A pointer to the named-pipe handle state.
<P>
This parameter contains the following bit fields:<!-- lm: 0x2 4 -->
<P>
Bit<!-- lm: 0x2 19 -->
<UL> Description<!-- lm: 0x2 4 -->
</UL> 31-16<!-- lm: 0x2 19 -->
<UL> Reserved.
<!-- lm: 0x2 4 -->
</UL>15<!-- lm: 0x2 19 -->
<UL> Blocking mode. Blocking
mode is defined as either "blocking" or "nonblocking," as follows:<!-- lm: 0x2 19 -->
<P>
<LI><!-- lm: 0x2 28 -->NP_WAIT (0x0000) Blocking mode: <A HREF="1413_L2_DosRead.html">DosRead
</A>and <A HREF="1994_L2_DosWrite.html">DosWrite</A> block if no data is
available.<!-- lm: 0x2 19 -->
<P>
<LI><!-- lm: 0x2 28 -->NP_NOWAIT (0x8000)
<BR>
Nonblocking mode: <A HREF="1413_L2_DosRead.html">DosRead</A> and <A HREF="1994_L2_DosWrite.html">DosWrite
</A>return immediately if no data is available.<!-- lm: 0x2 19 -->
<P>
<A HREF="1413_L2_DosRead.html">DosRead</A> normally blocks until at least
partial data can be returned. <A HREF="1994_L2_DosWrite.html">DosWrite</A> blocks
by default until all of the requested bytes have been written. Nonblocking
mode changes this behavior as follows:
<P>
<A HREF="1413_L2_DosRead.html">DosRead</A> returns immediately with a value
of zero for<I> pcbActual</I> if no data is available.
<P>
<A HREF="1994_L2_DosWrite.html">DosWrite</A> returns immediately with a
value of zero for<I> pcbActual</I> if there is not enough buffer space available
in the pipe; otherwise, the entire data area is transferred.<!-- lm: 0x2 4 -->
</UL> 14
<!-- lm: 0x2 19 -->
<UL>Specifies whether the handle is for the server or
client end of the pipe, as follows:<!-- lm: 0x2 19 -->
<P>
<LI><!-- lm: 0x2 28 -->NP_END_CLIENT (0x0000)
<BR>
The handle is for the client end of the pipe.<!-- lm: 0x2 19 -->
<P>
<LI><!-- lm: 0x2 28 -->NP_END_SERVER (0x4000)
<BR>
The handle is for the server end of the pipe.<!-- lm: 0x2 19 --><!-- lm: 0x2 4 -->
</UL> 13-12
<!-- lm: 0x2 19 -->
<UL>Reserved.<!-- lm: 0x2 4 -->
</UL> 11-10<!-- lm: 0x2 19 -->
<UL> Type
of named pipe. The pipe type is defined as follows:<!-- lm: 0x2 19 -->
<P>
00<!-- lm: 0x2 29 -->
<UL> NP_TYPE_BYTE (0x0000)
<BR>
The pipe is a byte pipe; that is, data is written to the pipe as an undifferentiated
stream of bytes.<!-- lm: 0x2 19 -->
</UL> 01<!-- lm: 0x2 29 -->
<UL> NP_TYPE_MESSAGE
(0x0400)
<BR>
The pipe is a message pipe; that is, data is written to the pipe as messages.
The system records the length of each message in the first two bytes of
the message, which are called the<I> message header</I>.<!-- lm: 0x2 19 --><!-- lm: 0x2 4 -->
</UL> 9-8
<!-- lm: 0x2 19 -->
<UL>Read mode. The read mode is defined as follows:
<!-- lm: 0x2 19 -->
<P>
00<!-- lm: 0x2 29 -->
<UL> NP_READMODE_BYTE (0x0000)
<BR>
Byte-read mode: Read the pipe as a byte stream.<!-- lm: 0x2 19 -->
</UL> 01
<!-- lm: 0x2 29 -->
<UL>NP_READMODE_MESSAGE (0x0100)
<BR>
Message-read mode: Read the pipe as a message stream.<!-- lm: 0x2 19 --><!-- lm: 0x2 4 -->
</UL> 7-0
<!-- lm: 0x2 19 -->
<UL>Instance count: When the first instance of a named
pipe is created, this field specifies how many instances (including the
first instance) can be created. Possible values are:<!-- lm: 0x2 19 -->
<P>
Value<!-- lm: 0x2 42 -->
<UL> Definition<!-- lm: 0x2 19 -->
</UL> 1<!-- lm: 0x2 42 -->
<UL> This
is the only instance permitted (the pipe is unique).<!-- lm: 0x2 19 -->
</UL> 1
&lt; value &lt; 255<!-- lm: 0x2 42 -->
<UL> The number of instances is limited
to the value specified.<!-- lm: 0x2 19 -->
</UL> -1<!-- lm: 0x2 42 -->
<UL> NP_UNLIMITED_INSTANCES
(0x00FF)
<BR>
The number of instances is unlimited.<!-- lm: 0x2 19 -->
</UL> 0<!-- lm: 0x2 42 -->
<UL> Reserved
value.<!-- lm: 0x2 19 --><!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>ulrc</B> (<A><!-- external link: 1D 67 C4 27 -->APIRET</A>) - returns
<!-- lm: 0x11 4 -->
<UL>Return Code.
<P>
DosQueryNPHState returns one of the following values:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 19 -->NO_ERROR<!-- lm: 0x2 4 --> 87<!-- lm: 0x2 19 -->
<UL> ERROR_INVALID_PARAMETER
<!-- lm: 0x2 4 -->
</UL>230<!-- lm: 0x2 19 -->
<UL> ERROR_BAD_PIPE<!-- lm: 0x2 4 -->
</UL>233<!-- lm: 0x2 19 -->
<UL> ERROR_PIPE_NOT_CONNECTED<!-- lm: 0x2 4 -->
</UL> For
a full list of error codes, see<A><!-- external link: 1D E8 C4 FC --> Errors</A>.
<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="1285_L2H_DosQueryNPHStateRetu.html">[Back: DosQueryNPHState Return Value - ulrc]</A> <BR>
<A HREF="1287_L2H_DosQueryNPHStateRema.html">[Next: DosQueryNPHState - Remarks]</A> 
</BODY>
</HTML>
