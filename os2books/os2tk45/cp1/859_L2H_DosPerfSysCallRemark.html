<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>DosPerfSysCall - Remarks</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosPerfSysCall - Remarks</H1><!-- entering slot 871 -->
<P>
DosPerfSysCall is a general purpose performance function.  This function
accepts four parameters.  The first parameter is the command requested.
The other three parameters are command specific.  DosPerfSysCall is intended
to be extended by IBM in the future for other performance related functions.

<P>
Some functions of DosPerfSysCall may have a dependency on Intel Pentium
or Pentium-Pro support.  If a function cannot be provided because OS/2 is
not running on an processor with the required features, a return code will
indicate an attempt to use an unsupported function.
<P>
The<B> perfutil.h</B> file referenced in the example code may or may not
be shipped as part of the Toolkit.  In the event that it is not, its contents
are:
<PRE>#ifdef __cplusplus
  extern "C" {
#endif

#ifndef  PERFCALL_INCLUDED
#define  PERFCALL_INCLUDED

/*
   DosPerfSysCall Function Prototype
*/

/* The  ordinal for DosPerfSysCall (in BSEORD.H) */
/* is defined as ORD_DOS32PERFSYSCALL         */

APIRET APIENTRY DosPerfSysCall(ULONG ulCommand, ULONG ulParm1, ULONG ulParm2, ULONG ulParm3);

/***
 *
 * CPU Utilization
 * ---------------
 *
 **/

#define   CMD_KI_RDCNT    (0x63)

 typedef struct _CPUUTIL {
   ULONG ulTimeLow;     /* Low 32 bits of time stamp      */
   ULONG ulTimeHigh;    /* High 32 bits of time stamp     */
   ULONG ulIdleLow;     /* Low 32 bits of idle time       */
   ULONG ulIdleHigh;    /* High 32 bits of idle time      */
   ULONG ulBusyLow;     /* Low 32 bits of busy time       */
   ULONG ulBusyHigh;    /* High 32 bits of busy time      */
   ULONG ulIntrLow;     /* Low 32 bits of interrupt time  */
   ULONG ulIntrHigh;    /* High 32 bits of interrupt time */
  } CPUUTIL;

 typedef CPUUTIL *PCPUUTIL;

#ifdef __cplusplus
  }
#endif
</PRE>

<P>
It may also be necessary to define the ordinal for this function:
<PRE>#define ORD_DOS32PERFSYSCALL            976
</PRE>


<P><HR>

<A HREF="858_L2H_DosPerfSysCallParame.html">[Back: DosPerfSysCall - Parameters]</A> <BR>
<A HREF="860_L2H_DosPerfSysCallRelate.html">[Next: DosPerfSysCall - Related Functions]</A> 
</BODY>
</HTML>
