<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>DosAllocMem - Remarks</TITLE>
</HEAD>
<BODY>
<H1>DosAllocMem - Remarks</H1><!-- entering slot 64 -->
<P>
DosAllocMem can be used to reserve, or reserve and commit, linear address
space for a private memory object.
<P>
The operating system allocates a range of private pages large enough to
fulfill the specified allocation request from the private virtual-address
space of the subject process. The base address of the object is returned
in the<I> ppb</I> parameter.
<P>
The allocated memory object is rounded up to a multiple of 4KB in size.

<P>
The committed memory allocated by DosAllocMem can be swapped.
<P>
Any access protection can be applied to committed pages within a private
memory object. Committed pages are initially allocated and backed by demand
pages. The first attempt to read or write the page causes a page of zeros
to be created.
<P>
If a failure occurs during the allocation, no pages are allocated, and an
appropriate error code is returned.
<P>
With the Intel 80386 processor, execute and read access are equivalent.
Also, write access implies both read and execute access.
<P>
The guard-page attribute is intended to provide automatic stack-growth and
stack-limit checking. An application may also use it in other data structures.

<P>
Reserved pages that are not committed are given an access protection of
"no access".
<P>
<B>Note: </B> DosAllocMem and DosAllocSharedMem both allocate a block of
memory of the size requested rounded up to the nearest page.  On OS/2 Warp,
the system allocates a 64K object without attributes on every allocation.

<P>
For example, for a DosAllocMem call with a size of 1, the system allocates
a 4096-byte block of committed memory plus 61440 bytes without attributes.

<P>
<B>Note: </B>
<P>
When you allocate a memory object with the PAG_EXECUTE attribute, it is
implied that this memory object also has the PAG_READ attribute. However,
when querying the attributes of a memory object, you will get the following
results:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->On OS/2 Warp Connect, both PAG_EXECUTE and PAG_READ
attributes are returned.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->On OS/2 Warp, only the PAG_EXECUTE attribute is returned.
However, PAG_READ is still implied.<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="060_L2H_DosAllocMemParameter.html">[Back: DosAllocMem - Parameters]</A> <BR>
<A HREF="062_L2H_DosAllocMemRelatedFu.html">[Next: DosAllocMem - Related Functions]</A> 
</BODY>
</HTML>
