<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>DosQueryCp - Example Code</TITLE>
</HEAD>
<BODY>
<H1>DosQueryCp - Example Code</H1><!-- entering slot 1107 -->
<P>
This example gets the current code page and up to three other prepared code
pages.
<PRE>#define INCL_DOSNLS     /* National Language Support values */
#define INCL_DOSERRORS  /* DOS error values                 */
#include &lt;os2.h&gt;
#include &lt;stdio.h&gt;

int main(VOID) {
   ULONG  aulCpList[8]  = {0},                /* Code page list        */
          ulBufSize     = 8 * sizeof(ULONG),  /* Size of output list   */
          ulListSize    = 0,                  /* Size of list returned */
          indx          = 0;                  /* Loop index            */
   APIRET rc            = NO_ERROR;           /* Return code           */

   rc = DosQueryCp(ulBufSize,      /* Length of output code page list  */
                   aulCpList,      /* List of code pages               */
                   &amp;ulListSize);   /* Length of list returned          */

   if (rc != NO_ERROR) {
      printf("DosQueryCp error: return code = %u\n",rc);
      return 1;
   } else {
      for (indx=0; indx &lt; ulListSize/sizeof(ULONG); indx++)
         printf ("aulCpList[%u] = %u\n", indx, aulCpList[indx]);
   }

   return NO_ERROR;
}
</PRE>


<P><HR>

<A HREF="1090_L2H_DosQueryCpRelatedFun.html">[Back: DosQueryCp - Related Functions]</A> <BR>
<A HREF="1092_L2H_DosQueryCpTopics.html">[Next: DosQueryCp - Topics]</A> 
</BODY>
</HTML>
