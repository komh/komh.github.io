<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>DosPeekQueue - Parameters</TITLE>
</HEAD>
<BODY>
<H1>DosPeekQueue - Parameters</H1><!-- entering slot 858 --><!-- lm: 0x2 1 -->
<UL>
<P>
<B>hq</B> (<A><!-- external link: 1D 9F C4 5D -->HQUEUE</A>) - input<!-- lm: 0x11 4 -->
<UL> The
handle of the queue from which an element is to be examined.<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>pRequest</B> (<A><!-- external link: 1D C9 C4 91 -->PREQUESTDATA</A>)
- output<!-- lm: 0x11 4 -->
<UL>  A pointer to the<A><!-- external link: 1D C9 C4 9D --> REQUESTDATA
</A>in which PID and event codes are returned.<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>pcbData</B> (<A><!-- external link: 1D DB C4 97 -->PULONG</A>) - output
<!-- lm: 0x11 4 -->
<UL>A pointer to the length of the examined data.
<P>
This field is the same as the<I> pcbData</I> that was furnished by <A HREF="2006_L2_DosWriteQueue.html">DosWriteQueue
</A>when the element was added to the queue.<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>ppbuf</B> (<A><!-- external link: 1D C6 C4 8F -->PPVOID</A>) - output
<!-- lm: 0x11 4 -->
<UL>A pointer to the address of the element that is
to be examined.
<P>
This field may or may not be the same as the<I> ppbuf</I> that was returned
by <A HREF="2006_L2_DosWriteQueue.html">DosWriteQueue</A> when the element
was added to the queue. If QUE_CONVERT_ADDRESS was specified when the queue
was created, then the addresses of any elements that are written to the
queue by the 16-bit <A HREF="2006_L2_DosWriteQueue.html">DosWriteQueue</A> function
are converted to 32-bit addresses.<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>element</B> (<A><!-- external link: 1D DB C4 97 -->PULONG</A>) - in/out
<!-- lm: 0x11 4 -->
<UL>A pointer to an indicator that specifies whether
to start at the beginning of the queue or at a particular element.
<P>
Possible values are described in the following list:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 27 -->Set by the application to indicate "examine the first
element in the queue," according to the order that was specified when the
queue was created (FIFO, LIFO, or priority).<!-- lm: 0x2 4 -->
<P>
Any Other Value<!-- lm: 0x2 27 -->
<UL> Set by the DosPeekQueue function
to identify the element that has been examined (output), or by the owner
to indicate "examine the next element" (input).<!-- lm: 0x2 4 -->
</UL><B> Note:
 </B>By contrast, when a <A HREF="1425_L2_DosReadQueue.html">DosReadQueue
</A>request follows DosPeekQueue, <A HREF="1425_L2_DosReadQueue.html">DosReadQueue
</A>removes the same element that is identified by<I> element</I>, not the
next element in the queue.<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>nowait</B> (<A><!-- external link: 1D 6C C4 2E -->BOOL32</A>) - input
<!-- lm: 0x11 4 -->
<UL>The action to be performed when there are no elements
in the queue.
<P>
Possible values are shown in the following list:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 13 -->DCWW_WAIT The requesting thread waits until an element
is placed in the queue.<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 13 -->DCWW_NOWAIT
<BR>
The requesting thread does not wait, and DosPeekQueue returns with ERROR_QUE_EMPTY.
<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>ppriority</B> (<A><!-- external link: 1D 6D C4 85 -->PBYTE</A>) - output
<!-- lm: 0x11 4 -->
<UL>A pointer to the element's priority value.
<P>
This is the value that was specified for<I> ppriority</I> when <A HREF="2006_L2_DosWriteQueue.html">DosWriteQueue
</A>added the element to the queue.<I> ppriority</I> is a numeric value
in the range of 0 to 15, with 15 being the highest priority.<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>hsem</B> (<A><!-- external link: 1D 97 C4 5A -->HEV</A>) - input<!-- lm: 0x11 4 -->
<UL> The
handle of an event semaphore that is to be posted when the data is added
to the queue and<I> nowait</I> is set to 1.
<P>
The semaphore may be either private or shared, depending on whether the
queue is shared across processes.
<P>
<I>hsem</I> is ignored if<I> nowait</I> is set to 0.
<P>
<B>Note: </B> The first time an event-semaphore handle is supplied in a
DosPeekQueue or <A HREF="1425_L2_DosReadQueue.html">DosReadQueue</A> request
for which<I> nowait</I> is set to 1, the handle is saved by the system.
The same handle must be supplied in all subsequent DosPeekQueue and <A HREF="1425_L2_DosReadQueue.html">DosReadQueue
</A>requests that are issued for that queue.<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>ulrc</B> (<A><!-- external link: 1D 67 C4 23 -->APIRET</A>) - returns
<!-- lm: 0x11 4 -->
<UL>Return Code.
<P>
DosPeekQueue returns one of the following values:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 19 -->NO_ERROR<!-- lm: 0x2 4 --> 87<!-- lm: 0x2 19 -->
<UL> ERROR_INVALID_PARAMETER
<!-- lm: 0x2 4 -->
</UL>330<!-- lm: 0x2 19 -->
<UL> ERROR_QUE_PROC_NOT_OWNED<!-- lm: 0x2 4 -->
</UL>333<!-- lm: 0x2 19 -->
<UL> ERROR_QUE_ELEMENT_NOT_EXIST<!-- lm: 0x2 4 -->
</UL>337<!-- lm: 0x2 19 -->
<UL> ERROR_QUE_INVALID_HANDLE<!-- lm: 0x2 4 -->
</UL>340<!-- lm: 0x2 19 -->
<UL> ERROR_QUE_PREV_AT_END<!-- lm: 0x2 4 -->
</UL>342<!-- lm: 0x2 19 -->
<UL> ERROR_QUE_EMPTY<!-- lm: 0x2 4 -->
</UL>433<!-- lm: 0x2 19 -->
<UL> ERROR_QUE_INVALID_WAIT<!-- lm: 0x2 4 -->
</UL> For
a full list of error codes, see<A><!-- external link: 1D E8 C4 FC --> Errors</A>.
<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="845_L2H_DosPeekQueueReturnVa.html">[Back: DosPeekQueue Return Value - ulrc]</A> <BR>
<A HREF="847_L2H_DosPeekQueueRemarks.html">[Next: DosPeekQueue - Remarks]</A> 
</BODY>
</HTML>
