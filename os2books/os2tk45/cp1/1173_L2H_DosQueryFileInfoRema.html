<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>DosQueryFileInfo - Remarks</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosQueryFileInfo - Remarks</H1><!-- entering slot 1189 -->
<P>
In the FAT file system, only date and time information contained in Level
1 file information can be modified. Zero is returned for the creation and
access dates and times.
<P>
To return information contained in any of the file information levels, DosQueryFileInfo
must be able to read the open file. DosQueryFileInfo works only when the
file is opened for read access, with a deny-write sharing mode specified
for access by other processes. If another process that has specified conflicting
sharing and access modes has already opened the file, any call to <A HREF="754_L2_DosOpen.html">DosOpen
</A>will fail.
<P>
<A HREF="409_L2_DosEnumAttribute.html">DosEnumAttribute</A> returns the
lengths of EAs. This information can be used to calculate what size<I> pInfo
</I>needs to be to hold full-extended-attribute (FEA) information returned
by DosQueryFileInfo when Level 3 is specified. The size of the buffer is
calculated as follows:<!-- lm: 0x2 6 -->
<UL>
<P>
Four bytes (for<I> oNextEntryOffset</I>) +<!-- lm: 0x2 6 -->
<BR>
One byte (for<I> fEA</I> +<!-- lm: 0x2 6 -->
<BR>
One byte (for<I> cbName</I>) +<!-- lm: 0x2 6 -->
<BR>
Two bytes (for<I> cbValue</I>) +<!-- lm: 0x2 6 -->
<BR>
Value of<I> cbName</I> (for the name of the EA) +<!-- lm: 0x2 6 -->
<BR>
One byte (for terminating NULL in<I> cbName</I>) +<!-- lm: 0x2 6 -->
<BR>
Value of<I> cbValue</I> (for the value of the EA)<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="1172_L2H_DosQueryFileInfoPara.html">[Back: DosQueryFileInfo - Parameters]</A> <BR>
<A HREF="1174_L2H_DosQueryFileInfoRela.html">[Next: DosQueryFileInfo - Related Functions]</A> 
</BODY>
</HTML>
