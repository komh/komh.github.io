<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>DosSetFileLocks - Parameters</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosSetFileLocks - Parameters</H1><!-- entering slot 1638 --><!-- lm: 0x2 1 -->
<UL>
<P>
<B>hFile</B> (<A><!-- external link: 1D 98 C4 42 -->HFILE</A>) - input<!-- lm: 0x11 4 -->
<UL> File
handle.<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>pflUnlock</B> (<A><!-- external link: 1D 88 C4 64 -->PFILELOCK</A>) -
input<!-- lm: 0x11 4 -->
<UL> Address of the structure containing the offset
and length of a range to be unlocked.<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>pflLock</B> (<A><!-- external link: 1D 88 C4 64 -->PFILELOCK</A>) - input
<!-- lm: 0x11 4 -->
<UL>Address of the structure containing the offset and
length of a range to be locked.<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>timeout</B> (<A><!-- external link: 1D DB C4 84 -->ULONG</A>) - input
<!-- lm: 0x11 4 -->
<UL>The maximum time, in milliseconds, that the process
is to wait for the requested locks.<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>flags</B> (<A><!-- external link: 1D DB C4 84 -->ULONG</A>) - input<!-- lm: 0x11 4 -->
<UL> Flags
that describe the action to be taken.
<P>
This parameter has the following bit fields:<!-- lm: 0x2 4 -->
<P>
Bit<!-- lm: 0x2 19 -->
<UL> Description<!-- lm: 0x2 4 -->
</UL> 31-2<!-- lm: 0x2 19 -->
<UL> Reserved
flags<!-- lm: 0x2 4 -->
</UL> 1<!-- lm: 0x2 19 -->
<UL> Atomic
<P>
This bit defines a request for atomic locking. If this bit is set to 1 and
the lock range is equal to the unlock range, an atomic lock occurs. If this
bit is set to 1 and the lock range is not equal to the unlock range, an
error is returned.
<P>
If this bit is set to 0, then the lock may or may not occur atomically with
the unlock.<!-- lm: 0x2 4 -->
</UL> 0<!-- lm: 0x2 19 -->
<UL> Share
<P>
This bit defines the type of access that other processes may have to the
file range that is being locked.
<P>
If this bit is set to 0 (the default), other processes have no access to
the locked file range. The current process has exclusive access to the locked
file range, which must not overlap any other locked file range.
<P>
If this bit is set to 1, the current process and other processes have shared
read-only access to the locked file range. A file range with shared access
may overlap any other file range with shared access, but must not overlap
any other file range with exclusive access.<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>ulrc</B> (<A><!-- external link: 1D 67 C4 19 -->APIRET</A>) - returns
<!-- lm: 0x11 4 -->
<UL>Return Code.
<P>
DosSetFileLocks returns one of the following values:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 19 -->NO_ERROR<!-- lm: 0x2 4 --> 1<!-- lm: 0x2 19 -->
<UL> ERROR_INVALID_FUNCTION
<!-- lm: 0x2 4 -->
</UL>6<!-- lm: 0x2 19 -->
<UL> ERROR_INVALID_HANDLE<!-- lm: 0x2 4 -->
</UL>33<!-- lm: 0x2 19 -->
<UL> ERROR_LOCK_VIOLATION<!-- lm: 0x2 4 -->
</UL>36<!-- lm: 0x2 19 -->
<UL> ERROR_SHARING_BUFFER_EXCEEDED<!-- lm: 0x2 4 -->
</UL>87<!-- lm: 0x2 19 -->
<UL> ERROR_INVALID_PARAMETER<!-- lm: 0x2 4 -->
</UL>95<!-- lm: 0x2 19 -->
<UL> ERROR_INTERRUPT<!-- lm: 0x2 4 -->
</UL>174<!-- lm: 0x2 19 -->
<UL> ERROR_ATOMIC_LOCK_NOT_SUPPORTED<!-- lm: 0x2 4 -->
</UL>175<!-- lm: 0x2 19 -->
<UL> ERROR_READ_LOCKS_NOT_SUPPORTED<!-- lm: 0x2 4 -->
</UL> For
a full list of error codes, see<A><!-- external link: 1D E8 C4 FC --> Errors</A>.
<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="1619_L2H_DosSetFileLocksRetur.html">[Back: DosSetFileLocks Return Value - ulrc]</A> <BR>
<A HREF="1621_L2H_DosSetFileLocksRemar.html">[Next: DosSetFileLocks - Remarks]</A> 
</BODY>
</HTML>
