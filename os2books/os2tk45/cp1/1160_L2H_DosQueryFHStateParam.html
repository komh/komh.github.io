<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>DosQueryFHState - Parameters</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>DosQueryFHState - Parameters</H1><!-- entering slot 1176 --><!-- lm: 0x2 1 -->
<UL>
<P>
<B>hFile</B> (<A><!-- external link: 1D 98 C4 85 -->HFILE</A>) - input<!-- lm: 0x11 4 -->
<UL> Handle
of the file to be queried.<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>pMode</B> (<A><!-- external link: 1D DB C4 BF -->PULONG</A>) - output
<!-- lm: 0x11 4 -->
<UL>Address of the contents of the open-mode word defined
in a previous <A HREF="754_L2_DosOpen.html">DosOpen</A> function.
<P>
<!-- lm: 0x2 4 -->
<P>
Bit<!-- lm: 0x2 19 -->
<UL> Description<!-- lm: 0x2 4 -->
</UL> 15<!-- lm: 0x2 19 -->
<UL> OPEN_FLAGS_DASD
(0x00008000) Direct Open flag:<!-- lm: 0x2 19 -->
<P>
<LI><!-- lm: 0x2 28 --><I>pszFileName</I> field in <A HREF="754_L2_DosOpen.html">DosOpen
</A>represents a file to be opened normally.<!-- lm: 0x2 19 -->
<P>
<LI><!-- lm: 0x2 28 --><I>pszFileName</I> is the "drive:" (such as C: or
A:). It represents a mounted disk or diskette volume to be opened for direct
access.<!-- lm: 0x2 19 --><!-- lm: 0x2 4 -->
</UL> 14<!-- lm: 0x2 19 -->
<UL> OPEN_FLAGS_WRITE_THROUGH
(0x00004000)
<BR>
Write-Through flag:<!-- lm: 0x2 19 -->
<P>
<LI><!-- lm: 0x2 28 -->Write operations to the file go through the file
system buffer cache.<!-- lm: 0x2 19 -->
<P>
<LI><!-- lm: 0x2 28 -->Write operations to the file may go through the file
system buffer cache, but the sectors are written (the actual file I/O operation
is completed) before a synchronous write call returns. This state of the
file defines it as a synchronous file. For synchronous files, this bit is
set to 1 because the data must be written to the medium for synchronous
write operations.<!-- lm: 0x2 19 -->
<P>
The Write-Through flag bit is not inherited by child processes.<!-- lm: 0x2 4 -->
</UL> 13
<!-- lm: 0x2 19 -->
<UL>OPEN_FLAGS_FAIL_ON_ERROR (0x00002000)
<BR>
Fail-Errors flag. Media I/O errors are handled as follows:<!-- lm: 0x2 19 -->
<P>
<LI><!-- lm: 0x2 28 -->Reported through the system critical-error handler.
<!-- lm: 0x2 19 -->
<BR>
<LI><!-- lm: 0x2 28 -->Reported directly to the caller by a return code.
<!-- lm: 0x2 19 -->
<P>
Media I/O errors generated through<A><!-- external link: 1D B6 C5 41 --> Category
08h Logical Disk Control IOCtl Commands</A> always are reported directly
to the caller by a return code. The Fail-Errors function applies only to
non-IOCtl handle-based file I/O functions.
<P>
The Fail-Errors flag bit is not inherited by child processes.<!-- lm: 0x2 4 -->
</UL> 12
<!-- lm: 0x2 19 -->
<UL>OPEN_FLAGS_NO_CACHE (0x00001000)
<BR>
Cache or No-Cache:<!-- lm: 0x2 19 -->
<P>
<LI><!-- lm: 0x2 28 -->The disk driver should place data from I/O operations
into the cache on this file.<!-- lm: 0x2 19 -->
<P>
<LI><!-- lm: 0x2 28 -->I/O operations to the file need not be done through
the disk-driver cache.<!-- lm: 0x2 19 -->
<P>
The setting of this bit determines whether it is worth caching the data
for file-systems drivers and device drivers. This bit, like the Write-Through
bit, is a per-handle bit.
<P>
This bit is not inherited by child processes.<!-- lm: 0x2 4 -->
</UL> 11-8
<!-- lm: 0x2 19 -->
<UL>Reserved bits.<!-- lm: 0x2 4 -->
</UL> 7<!-- lm: 0x2 19 -->
<UL> OPEN_FLAGS_NOINHERIT
(0x00000080) Inheritance flag:<!-- lm: 0x2 19 -->
<P>
<LI><!-- lm: 0x2 28 -->The file handle is inherited by a process that is
created by issuing <A HREF="445_L2_DosExecPgm.html">DosExecPgm</A>.<!-- lm: 0x2 19 -->
<P>
<LI><!-- lm: 0x2 28 -->The file handle is private to the current process.
<!-- lm: 0x2 19 -->
<P>
This bit is not inherited by child processes.<!-- lm: 0x2 4 -->
</UL> 6-4
<!-- lm: 0x2 19 -->
<UL>Sharing-Mode flags:  Define the operations other
processes can perform on the file:<!-- lm: 0x2 19 -->
<P>
001<!-- lm: 0x2 30 -->
<UL> OPEN_SHARE_DENYREADWRITE
<BR>
Deny read and write access.<!-- lm: 0x2 19 -->
</UL> 010<!-- lm: 0x2 30 -->
<UL> OPEN_SHARE_DENYWRITE

<BR>
Deny write access.<!-- lm: 0x2 19 -->
</UL> 011<!-- lm: 0x2 30 -->
<UL> OPEN_SHARE_DENYREAD

<BR>
Deny read access.<!-- lm: 0x2 19 -->
</UL> 100<!-- lm: 0x2 30 -->
<UL> OPEN_SHARE_DENYNONE

<BR>
Deny neither read nor write access (deny none).<!-- lm: 0x2 19 -->
</UL> Any
other value is invalid.<!-- lm: 0x2 4 -->
</UL> 3<!-- lm: 0x2 19 -->
<UL> Reserved.
<!-- lm: 0x2 4 -->
</UL>2-0<!-- lm: 0x2 19 -->
<UL> Access-Mode flags. File
access is assigned as follows:<!-- lm: 0x2 19 -->
<P>
000<!-- lm: 0x2 30 -->
<UL> OPEN_ACCESS_READONLY
<BR>
Read-only access.<!-- lm: 0x2 19 -->
</UL> 001<!-- lm: 0x2 30 -->
<UL> OPEN_ACCESS_WRITEONLY

<BR>
Write-only access.<!-- lm: 0x2 19 -->
</UL> 010<!-- lm: 0x2 30 -->
<UL> OPEN_ACCESS_READWRITE

<BR>
Read and write access.<!-- lm: 0x2 19 -->
</UL> Any other value is invalid.
<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>ulrc</B> (<A><!-- external link: 1D 67 C4 2A -->APIRET</A>) - returns
<!-- lm: 0x11 4 -->
<UL>Return Code.
<P>
DosQueryFHState returns one of the following values:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 19 -->NO_ERROR<!-- lm: 0x2 4 --> 6<!-- lm: 0x2 19 -->
<UL> ERROR_INVALID_HANDLE
<!-- lm: 0x2 4 -->
</UL>For a full list of error codes, see<A><!-- external link: 1D E8 C4 FC --> Errors</A>.
<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="1159_L2H_DosQueryFHStateRetur.html">[Back: DosQueryFHState Return Value - ulrc]</A> <BR>
<A HREF="1161_L2H_DosQueryFHStateRemar.html">[Next: DosQueryFHState - Remarks]</A> 
</BODY>
</HTML>
