<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>DosQueryFSAttach - Parameters</TITLE>
</HEAD>
<BODY>
<H1>DosQueryFSAttach - Parameters</H1><!-- entering slot 1201 --><!-- lm: 0x2 1 -->
<UL>
<P>
<B>pszDeviceName</B> (<A><!-- external link: 1D C1 C4 93 -->PSZ</A>) - input
<!-- lm: 0x11 4 -->
<UL>A drive designation or the name of a character or
pseudocharacter device.
<P>
If it is a drive designation,<I> pszDeviceName</I> is an ASCIIZ string consisting
of a drive name followed by a colon. If it is a character or pseudocharacter
device name,<I> pszDeviceName</I> is an ASCIIZ string consisting of a file
name and the subdirectory, DEV.<I> pszDeviceName</I> is ignored if level
2 or 3 is specified for<I> ulFSAInfoLevel</I>.<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>ulOrdinal</B> (<A><!-- external link: 1D DB C4 B9 -->ULONG</A>) - input
<!-- lm: 0x11 4 -->
<UL>An index into the list of character or pseudocharacter
devices, or the set of drives.
<P>
<I>ulOrdinal</I> always starts at 1. The ordinal position of an item in
a list has no significance.<I> ulOrdinal</I> is used only to step through
the list. The mapping from<I> ulOrdinal</I> to the item is volatile, and
may change from one call to DosQueryFSAttach to the next.<I> ulOrdinal</I> is
ignored if level 1 is specified for<I> ulFSAInfoLevel</I>.<!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>ulFSAInfoLevel</B> (<A><!-- external link: 1D DB C4 B9 -->ULONG</A>)
- input<!-- lm: 0x11 4 -->
<UL> Level of information returned in<I> pfsqb</I>.

<P>
Possible levels are described in the following list:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 13 -->FSAIL_QUERYNAME Returns data for the drive or device
name specified in<I> pszDeviceName</I>.<I> ulOrdinal</I> is ignored.<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 13 -->FSAIL_DEVNUMBER
<BR>
Returns data for the entry in the list of character or pseudocharacter devices
selected by<I> ulOrdinal</I>.<I> pszDeviceName</I> is ignored.<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 13 -->FSAIL_DRVNUMBER
<BR>
Returns data for the entry in the list of drives selected by<I> ulOrdinal</I>.
<I>pszDeviceName</I> is ignored.<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>pfsqb</B> (<A><!-- external link: 1D 91 C4 8B -->PFSQBUFFER2</A>) - output
<!-- lm: 0x11 4 -->
<UL>Address of the buffer for returned information.

<P>

<P>
<B>Note: </B> The<I> szName</I> is the file-system driver name exported
by the file-system driver. This name is not necessarily the same as the
file-system driver name in the boot sector.
<P>
For local character devices (<I>iType</I> = 1),<I> cbFSDName</I> = 0, and
<I>szName</I> contains only a terminating null byte;<I> cbFSAData</I> =
0.
<P>
For local drives (<I>iType</I> = 3),<I> szName</I> contains the name of
the file-system driver attached to the drive at the time of the call. This
information changes dynamically. If the drive is attached to the kernel's
resident file system,<I> szName</I> contains FAT or an unknown name. Since
the resident file system gets attached to any disk that other file-system
drivers refuse to mount, it is possible to have a disk that does not contain
a recognizable file system, but yet gets attached to the resident file system.
In this case, it is possible to detect the difference, and this information
would help programs to preserve data on a disk that was not properly recognized.
<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>pcbBuffLength</B> (<A><!-- external link: 1D DB C4 95 -->PULONG</A>)
- in/out<!-- lm: 0x11 4 -->
<UL> Address of the length, in bytes, of the
data buffer.
<P>
<!-- lm: 0x2 4 -->
<P>
Input<!-- lm: 0x2 17 -->
<UL> The address of the length, in bytes, of the
return buffer (<I>pfsqb</I>).<!-- lm: 0x2 4 -->
</UL> Output<!-- lm: 0x2 17 -->
<UL> The
length, in bytes, of the data returned in<I> pfsqb</I> by the file-system
driver.<!-- lm: 0x2 4 --><!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>
<B>ulrc</B> (<A><!-- external link: 1D 67 C4 1B -->APIRET</A>) - returns
<!-- lm: 0x11 4 -->
<UL>Return Code.
<P>
DosQueryFSAttach returns one of the following values:<!-- lm: 0x2 4 -->
<P>
<LI><!-- lm: 0x2 19 -->NO_ERROR<!-- lm: 0x2 4 --> 15<!-- lm: 0x2 19 -->
<UL> ERROR_INVALID_DRIVE
<!-- lm: 0x2 4 -->
</UL>111<!-- lm: 0x2 19 -->
<UL> ERROR_BUFFER_OVERFLOW<!-- lm: 0x2 4 -->
</UL>124<!-- lm: 0x2 19 -->
<UL> ERROR_INVALID_LEVEL<!-- lm: 0x2 4 -->
</UL>259<!-- lm: 0x2 19 -->
<UL> ERROR_NO_MORE_ITEMS<!-- lm: 0x2 4 -->
</UL> For
a full list of error codes, see<A><!-- external link: 1D E8 C4 FC --> Errors</A>.
<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="1184_L2H_DosQueryFSAttachRetu.html">[Back: DosQueryFSAttach Return Value - ulrc]</A> <BR>
<A HREF="1186_L2H_DosQueryFSAttachRema.html">[Next: DosQueryFSAttach - Remarks]</A> 
</BODY>
</HTML>
