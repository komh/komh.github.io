<HTML XPOS=30% YPOS=TOP WIDTH=70% HEIGHT=100%HIDDEN>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<!-- extra bytes: 03 00 14 1E 00 04 00 11 46 00 64 00 --><TITLE>DosDevConfig - Example Code</TITLE>
</HEAD>
<BODY>
<H1>DosDevConfig - Example Code</H1><!-- entering slot 345 -->
<P>
This example gets information about the installed devices and displays it.
Some return code checking was omitted for brevity.
<PRE> #define INCL_DOSDEVICES   /* Device values */
 #define INCL_DOSERRORS    /* Error values */
 #include &lt;os2.h&gt;
 #include &lt;stdio.h&gt;

int main(VOID) {

 BYTE    Model      = 0,  /* Model number */
         SubModel   = 0,  /* Submodel */
         Adapter    = 0,  /* Display adapter type */
         CoProc     = 0,  /* Math coprocessor installed? */
         Printers   = 0;  /* Number of printers */

 APIRET  rc         = NO_ERROR; /* Return code */

    rc = DosDevConfig(&amp;Model, DEVINFO_MODEL);
    if (rc != NO_ERROR) {
       printf("DosDevConfig error:  return code = %u\n", rc);
       return 1;
    }

    rc = DosDevConfig(&amp;SubModel, DEVINFO_SUBMODEL);
    printf("    Model/SubModel:  %d / %d\n", Model, SubModel);

    rc = DosDevConfig(&amp;Adapter, DEVINFO_ADAPTER);
    printf("      Display type:  %s\n", (Adapter ? "Color" : "Monochrome"));

    rc = DosDevConfig(&amp;CoProc, DEVINFO_COPROCESSOR);
    printf(" Math co-processor?  %s\n", (CoProc ? "Yes" : "No"));

    rc = DosDevConfig(&amp;Printers, DEVINFO_PRINTER);
    printf("Number of printers:  %d\n", Printers);

    return NO_ERROR;
}
</PRE>


<P><HR>

<A HREF="340_L2H_DosDevConfigRelatedF.html">[Back: DosDevConfig - Related Functions]</A> <BR>
<A HREF="342_L2H_DosDevConfigTopics.html">[Next: DosDevConfig - Topics]</A> 
</BODY>
</HTML>
