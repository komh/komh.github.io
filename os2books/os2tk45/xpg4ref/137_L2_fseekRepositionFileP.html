<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>fseek - Reposition File Position</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>fseek - Reposition File Position</H1><!-- entering slot 143 -->fseek - Reposition File Position<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;stdio.h&gt;
int fseek(FILE *<I>stream</I>, long int <I>offset</I>, int <I>origin</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
fseek changes the current file position associated with<I> stream</I> to
a new location within the file. The next operation on the<I> stream</I> takes
place at the new location.  On a<I> stream</I> open for update, the next
operation can be either a reading or a writing operation.
<P>
The<I> origin</I> must be one of the following constants defined in &lt;stdio.h&gt;:
 compact break=fit.<B><!-- lm: 0x2 10 -->
<P>
Origin<!-- lm: 0x2 22 -->
<UL> Definition</B><!-- lm: 0x2 10 -->
</UL> SEEK_SET
<!-- lm: 0x2 22 -->
<UL>Beginning of file<!-- lm: 0x2 10 -->
</UL> SEEK_CUR
<!-- lm: 0x2 22 -->
<UL>Current position of file pointer<!-- lm: 0x2 10 -->
</UL> SEEK_END
<!-- lm: 0x2 22 -->
<UL>End of file<!-- lm: 0x2 10 -->
</UL>
<P>
For a binary stream, you can also change the position beyond the end of
the file.  An attempt to position before the beginning of the file causes
an error. If successful, fseek clears the end-of-file indicator, even when
<I>origin</I> is SEEK_END, and undoes the effect of any preceding ungetc
function on the same stream.
<P>
<B>Note: </B> For streams opened in text mode, fseek has limited use because
some system translations (such as those between carriage-return-line-feed
and new line) can produce unexpected results.  The only fseek operations
that can be relied upon to work on streams opened in text mode are seeking
with an offset of zero relative to any of the origin values or seeking from
the beginning of the file with an offset value returned from a call to ftell.
See the chapter "Performing I/O Operations" in the<I> VisualAge C++ Programming
Guide</I> for more information.<!-- lm: 0x2 10 -->
<P>
<!-- lm: 0x2 1 -->
</UL>Returns
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
fseek returns 0 if it successfully moves the pointer.  A nonzero return
value indicates an error.  On devices that cannot seek, such as terminals
and printers, the return value is nonzero.<!-- lm: 0x2 1 -->
</UL> Example
Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example opens a file myfile.dat for reading. After performing input
operations (not shown), fseek moves the file pointer to the beginning of
the file.
<PRE>#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;

int main(void)
{
   FILE *stream;
   int result;

   stream = fopen("myfile.dat", "r");

   result = fseek(stream, 0L, SEEK_SET);   /* moves the pointer to the
                                              beginning of the file           */

   if (result)                           /* fail to move the pointer to the   */
      return EXIT_FAILURE;               /* beginning of the file             */
   fclose(stream);
   return 0;
}
</PRE>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="117_L2_fgetposGetFilePositi.html">fgetpos
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="138_L2_fsetposSetFilePositi.html">fsetpos
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="140_L2_ftellGetCurrentPosit.html">ftell
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="227_L2_rewindAdjustCurrentF.html">rewind
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="313_L2_ungetcPushByteontoIn.html">ungetc
</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="136_L2_fscanfReadFormattedD.html">[Back: fscanf - Read Formatted Data]</A> <BR>
<A HREF="138_L2_fsetposSetFilePositi.html">[Next: fsetpos - Set File Position]</A> 
</BODY>
</HTML>
