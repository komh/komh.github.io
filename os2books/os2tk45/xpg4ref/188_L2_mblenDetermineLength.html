<HTML>
<HEAD>
<TITLE>mblen - Determine Length of Multibyte Character</TITLE>
</HEAD>
<BODY>
<H1>mblen - Determine Length of Multibyte Character</H1><!-- entering slot 197 -->mblen - Determine Length of Multibyte Character
<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;stdlib.h&gt;
int mblen(const char *<I>string</I>, size_t <I>n</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
mblen determines the length in bytes of the multibyte character pointed
to by<I> string</I>. A maximum of<I> n</I> bytes is examined.
<P>
The behavior of mblen is affected by the LC_CTYPE category of the current
locale.<!-- lm: 0x2 1 -->
</UL> Returns
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
If<I> string</I> is NULL, mblen returns 0.
<P>
If<I> string</I> is not NULL, mblen returns:<!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><LI>if<I> string</I> points to the null character
<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->The number of bytes comprising the multibyte character
<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->The value -1 if<I> string</I> does not point to a
valid multibyte character.<!-- lm: 0x2 10 -->
</UL><!-- lm: 0x2 1 -->
</UL>Example Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example uses mblen and mbtowc to convert a multibyte character into
a single wide character.
<PRE>#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;
#include &lt;wchar.h&gt;
#include &lt;locale.h&gt;

int main(void)
{
   char     mb_string[] = "\x81\x41\x81\xc2" "b";
   int      length;
   wchar_t  widechar;

   if (NULL == setlocale(LC_ALL, "ja_jp.ibm-932")) {
      printf("setlocale failed.\n");
      exit(EXIT_FAILURE);
   }
   length = mblen(mb_string, MB_CUR_MAX);
   mbtowc(&amp;widechar, mb_string, length);
   printf("The wide character %lc has length of %d.\n", widechar, length);
   return 0;

   /****************************************************************************
      The output should be similar to :

      The wide character žA has length of 2.
   ****************************************************************************/
}
</PRE>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="189_L2_mbstowcsConvertMulti.html">mbstowcs
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="190_L2_mbtowcConvertMultiby.html">mbtowc
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="237_L2_setlocaleSettheLocal.html">setlocale
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="265_L2_strlenDetermineStrin.html">strlen
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="332_L2_wcslenCalculateLengt.html">wcslen
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="349_L2_wctombConvertWideCha.html">wctomb
</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="187_L2_maxReturnLargerofTwo.html">[Back: max - Return Larger of Two Values]</A> <BR>
<A HREF="189_L2_mbstowcsConvertMulti.html">[Next: mbstowcs - Convert Multibyte String to Wide-Character String]</A> 
</BODY>
</HTML>
