<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>fopen - Open Files</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>fopen - Open Files</H1><!-- entering slot 131 -->fopen - Open Files<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;stdio.h&gt;
FILE *fopen(const char *<I>filename</I>, const char *<I>mode</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
fopen opens the file specified by<I> filename</I>.<I> mode</I> is a character
string specifying the type of access requested for the file. The<I> mode
</I>variable contains one positional parameter followed by optional keyword
parameters.
<P>
The possible values for the positional parameters are:<B><!-- lm: 0x2 10 -->
<P>
Mode<!-- lm: 0x2 26 -->
<UL> Description</B><!-- lm: 0x2 10 -->
</UL>r<!-- lm: 0x12 26 -->
<UL> Open a text file for reading.  The file
must exist.<!-- lm: 0x2 10 -->
</UL>w<!-- lm: 0x12 26 -->
<UL> Create a text file for writing. If the given
file exists, its contents are destroyed.<!-- lm: 0x2 10 -->
</UL>a<!-- lm: 0x12 26 -->
<UL> Open a text file in append mode for writing
at the end of the file. fopen creates the file if it does not exist.<!-- lm: 0x2 10 -->
</UL>r+<!-- lm: 0x12 26 -->
<UL> Open a text file for both reading and writing.
 The file must exist.<!-- lm: 0x2 10 -->
</UL>w+<!-- lm: 0x12 26 -->
<UL> Create a text file for both reading and
writing. If the given file exists, its contents are destroyed.<!-- lm: 0x2 10 -->
</UL>a+<!-- lm: 0x12 26 -->
<UL> Open a text file in append mode for reading
or updating at the end of the file.  fopen creates the file if it does not
exist.<!-- lm: 0x2 10 -->
</UL>rb<!-- lm: 0x12 26 -->
<UL> Open a binary file for reading.  The file
must exist.<!-- lm: 0x2 10 -->
</UL>wb<!-- lm: 0x12 26 -->
<UL> Create an empty binary file for writing.
If the file exists, its contents are destroyed.<!-- lm: 0x2 10 -->
</UL>ab<!-- lm: 0x12 26 -->
<UL> Open a binary file in append mode for writing
at the end of the file. fopen creates the file if it does not exist.<!-- lm: 0x2 10 -->
</UL>r+b<I> or</I> rb+<!-- lm: 0x12 26 -->
<UL> Open a binary file for both
reading and writing. The file must exist.<!-- lm: 0x2 10 -->
</UL>w+b<I> or</I> wb+<!-- lm: 0x12 26 -->
<UL> Create an empty binary file
for both reading and writing. If the file exists, its contents will be destroyed.
<!-- lm: 0x2 10 -->
</UL>a+b<I> or</I> ab+<!-- lm: 0x12 26 -->
<UL> Open a binary file in append
mode for writing at the end of the file.  fopen creates the file if it does
not exist.<!-- lm: 0x2 10 -->
</UL>
<P>
<B>Warning:</B> Use the w, w+, wb, w+b, and wb+ parameters with care;  data
in existing files of the same name will be lost.
<P>

<P>
<I>Text files</I> contain printable characters and control characters organized
into lines. Each line ends with a new-line character, except for the last
line, which does not require one. The system may insert or convert control
characters in an output text stream.
<P>
<B>Note: </B> Data output to a text stream may not compare as equal to the
same data on input.<!-- lm: 0x2 10 -->
<P>

<P>
<I>Binary files</I> contain a series of characters.  For binary files, the
system does not translate control characters on input or output.
<P>
When you open a file with a, a+, ab, a+b or ab+ mode, all write operations
take place at the end of the file.  Although you can reposition the file
pointer using fseek or rewind, the write functions move the file pointer
back to the end of the file before they carry out any operation. This action
prevents you from overwriting existing data.
<P>
When you specify the update mode (using + in the second or third position),
you can both read from and write to the file.  However, when switching between
reading and writing, you must include an intervening positioning function
such as fseek, fsetpos, rewind, or fflush.  Output may immediately follow
input if the end-of-file was detected.
<P>
The keyword parameters are:<!-- lm: 0x2 10 -->
<P>
blksize=<I>value</I><!-- lm: 0x12 25 -->
<UL> Specifies the maximum length,
in bytes, of a physical block of records. For fixed-length records, the
maximum size is 32760 bytes.  For variable-length records, the maximum is
32756. The default buffer size is 4096 bytes.<!-- lm: 0x2 10 -->
</UL> lrecl=<I>value
</I><!-- lm: 0x12 25 -->
<UL>Specifies the length, in bytes, for fixed-length
records and the maximum length for variable-length records. For fixed-length
records, the maximum length is 32760 bytes.  For variable-length records,
the maximum is 32756. If the value of LRECL is larger than the value of
BLKSIZE, the LRECL value is ignored.<!-- lm: 0x2 10 -->
</UL> recfm=<I>value
</I><!-- lm: 0x12 25 -->
<UL><I>value</I> can be:<!-- lm: 0x2 25 -->
<P>
F<!-- lm: 0x12 35 -->
<UL> fixed-length, unblocked records<!-- lm: 0x2 25 -->
</UL>V<!-- lm: 0x12 35 -->
<UL> variable-length, unblocked records<!-- lm: 0x2 25 --> The
default for<I> The Developer's Toolkit</I> compiler is fixed-length record
format.<!-- lm: 0x2 10 -->
</UL> type=<I>value</I><!-- lm: 0x12 25 -->
<UL><I> value
</I>can be:
<P>
<B>memory</B>  This parameter identifies this file as a memory file that
is accessible only from C programs. This is the default.<!-- lm: 0x2 10 -->
</UL>
<P>
<I>The Developer's Toolkit</I> compiler does not support record I/O.
<P>
fopen generally fails if parameters are mismatched.
<P>
The file attributes can be altered only if the open mode specified with
the fopen function is one of the write modes (w, w+, wb, or wb+). The system
deletes the existing file and creates a new file with the attributes specified
in fopen.<!-- lm: 0x2 1 -->
</UL> Returns
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
fopen returns a pointer to a file structure that can be used to access the
open file. A NULL pointer return value<!-- entering slot 132 --> indicates
an error.<!-- lm: 0x2 1 -->
</UL> Example Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example attempts to open a file for reading.
<PRE>#include &lt;stdio.h&gt;
int main(void)
{
   FILE *stream;

   if (NULL == (stream = fopen("myfile.dat", "r")))
      printf("Could not open data file\n");
   else
      fclose(stream);

    /* The following call opens a fixed record length file                    */
    /* for reading and writing in record mode.                                */

   if (NULL == (stream = fopen("myfile.dat",
                        "rb+, lrecl=80, blksize=240, recfm=f, type=record")))
      printf("Could not open data file\n");
   else
      fclose(stream);
   return 0;

   /****************************************************************************
      The output should be:

      Could not open data file
   ****************************************************************************/
}
</PRE>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="089_L2_creatCreateNewFile.html">creat</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="109_L2_fcloseCloseStream.html">fclose</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="115_L2_fflushWriteBuffertoF.html">fflush
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="132_L2_freadReadItems.html">fread</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="134_L2_freopenRedirectOpenF.html">freopen
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="205_L2_openOpenFile.html">open</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="243_L2__sopenOpenSharedFile.html"><LI>sopen
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="137_L2_fseekRepositionFileP.html">fseek
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="138_L2_fsetposSetFilePositi.html">fsetpos
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="143_L2_fwriteWriteItems.html">fwrite</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="227_L2_rewindAdjustCurrentF.html">rewind
</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="125_L2_fmodCalculateFloatin.html">[Back: fmod - Calculate Floating-Point Remainder]</A> <BR>
<A HREF="127_L2_fprintfWriteFormatte.html">[Next: fprintf - Write Formatted Data to a Stream]</A> 
</BODY>
</HTML>
