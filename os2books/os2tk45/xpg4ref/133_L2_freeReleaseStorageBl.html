<HTML>
<HEAD>
<TITLE>free - Release Storage Blocks</TITLE>
</HEAD>
<BODY>
<H1>free - Release Storage Blocks</H1><!-- entering slot 139 -->free - Release Storage Blocks<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;stdlib.h&gt;  /* also in &lt;malloc.h&gt; */
void free(void *<I>ptr</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
free frees a block of storage.<I> ptr</I> points to a block previously reserved
with a call to one of the memory allocation functions (such as calloc, _umalloc,
or _trealloc). The number of bytes freed is the number of bytes specified
when you reserved (or reallocated, in the case of realloc) the block of
storage.  If<I> ptr</I> is NULL, free simply returns.
<P>
<B>Note: </B> Attempting to free a block of storage not allocated with a
C memory management function or a block that was previously freed can affect
the subsequent reserving of storage and lead to undefined results.<!-- lm: 0x2 10 -->
<P>
<!-- lm: 0x2 1 -->
</UL>Returns
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
There is no return value.<!-- lm: 0x2 1 -->
</UL> Example Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example uses calloc to allocate storage for<I> x</I> array elements
and then calls free to free them.
<PRE>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(void)
{
   long *array;                              /* start of the array            */
   long *index;                                           /* index variable   */
   int i;                                                 /* index variable   */
   int num = 100;                       /* number of entries of the array     */

   printf("Allocating memory for %d long integers.\n", num);


   /* allocate num entries                                                    */

   if ((index = array = calloc(num, sizeof(long))) != NULL) {

     /*.......................................................................*/
     /*.......................................................................*/
            /*  do something with the array                                   */
     /*.......................................................................*/

      free(array);                                        /* deallocates array*/
   }
   else {                                                 /* Out of storage   */
      perror("Error: out of storage");
      abort();
   }
   return 0;

   /****************************************************************************
      The output should be:

      Allocating memory for 100 long integers.
   ****************************************************************************/
}
</PRE>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><LI>Managing Memory" in the<I> VisualAge C++ Programming
Guide</I><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="072_L2_callocReserveandInit.html">calloc
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="185_L2_mallocReserveStorage.html">malloc
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="220_L2_reallocChangeReserve.html">realloc
</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="132_L2_freadReadItems.html">[Back: fread - Read Items]</A> <BR>
<A HREF="134_L2_freopenRedirectOpenF.html">[Next: freopen - Redirect Open Files]</A> 
</BODY>
</HTML>
