<HTML>
<HEAD>
<TITLE>_onexit - Record Termination Function</TITLE>
</HEAD>
<BODY>
<H1>_onexit - Record Termination Function</H1><!-- entering slot 213 -->_onexit - Record Termination Function<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;stdlib.h&gt;
onexit_t _onexit(onexit_t <I>func</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
<LI>onexit records the address of a function<I> func</I> to call when the
program ends normally.  Successive calls to _onexit create a stack of functions
that run in a last-in-first-out order. The functions passed to _onexit cannot
take parameters.
<P>
You can record up to 32 termination functions with calls to _onexit and
atexit. If you exceed 32 functions, _onexit returns the value NULL.
<P>
<B>Note: </B> For portability, use the ANSI/ISO standard atexit function,
which is equivalent to _onexit.<!-- lm: 0x2 10 -->
<P>
<!-- lm: 0x2 1 -->
</UL>Returns
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
If successful, _onexit returns a pointer to the function; otherwise, it
returns a NULL value.<!-- lm: 0x2 1 -->
</UL> Example Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example specifies and defines four distinct functions that run consecutively
at the completion of main.
<PRE>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int fn1(void)
{
   printf("next.\n");
}

int fn2(void)
{
   printf("run ");
}

int fn3(void)
{
   printf("is ");
}

int fn4(void)
{
   printf("This ");
}

int main(void)
{
   _onexit(fn1);
   _onexit(fn2);
   _onexit(fn3);
   _onexit(fn4);
   printf("This is run first.\n");
   return 0;

   /****************************************************************************
      The output should be:

      This is run first.
      This is run next.
   ****************************************************************************/
}
</PRE>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="056_L2_abortStopaProgram.html">abort</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="064_L2_atexitRecordProgramT.html">atexit
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="105_L2_exitEndProgram.html">exit</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="106_L2__exitEndProcess.html"><LI>exit</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="203_L2_nl_langinfoRetrieveL.html">[Back: nl_langinfo - Retrieve Locale Information]</A> <BR>
<A HREF="205_L2_openOpenFile.html">[Next: open - Open File]</A> 
</BODY>
</HTML>
