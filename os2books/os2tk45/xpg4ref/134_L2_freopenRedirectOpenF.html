<HTML>
<HEAD>
<TITLE>freopen - Redirect Open Files</TITLE>
</HEAD>
<BODY>
<H1>freopen - Redirect Open Files</H1><!-- entering slot 140 -->freopen - Redirect Open Files<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;stdio.h&gt;
FILE *freopen(const char *<I>filename</I>, const char *<I>mode</I>, FILE *<I>stream</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
freopen closes the file currently associated with<I> stream</I> and reassigns
<I>stream</I> to the file specified by<I> filename</I>. The freopen function
opens the new file associated with<I> stream</I> with the given<I> mode</I>,
which is a character string specifying the type of access requested for
the file. You can also use the freopen function to redirect the standard
stream files stdin, stdout, and stderr to files that you specify.
<P>
If<I> filename</I> is an empty string, freopen closes and reopens the stream
to the new open mode, rather than reassigning it to a new file or device.
You can use freopen with no file name specified to change the mode of a
standard stream from text to binary without redirecting the stream, for
example:
<PRE>   fp = freopen("", "rb", stdin);
</PRE>

<P>
You can use the same method to change the mode from binary back to text.

<P>
<B>Portability Note </B> This method is included in the SAA C definition,
but not in the ANSI/ISO C standard.<!-- lm: 0x2 10 -->
<P>

<P>
See <A HREF="126_L2_fopenOpenFiles.html">fopen</A> for a description of
the<I> mode</I> parameter.<!-- lm: 0x2 1 -->
</UL> Returns
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
freopen returns a pointer to the newly opened stream. If an error occurs,
freopen closes the original file and returns a NULL pointer value.<!-- lm: 0x2 1 -->
</UL> Example
Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example closes the stream1 data stream and reassigns its stream pointer.
Note that stream1 and stream2 will have the same value, but they will not
necessarily have the same value as stream.
<PRE>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(void)
{
   FILE *stream,*stream1,*stream2;

   stream = fopen("myfile.dat", "r");
   stream1 = stream;
   if (NULL == (stream2 = freopen("", "w+", stream1)))
      return EXIT_FAILURE;
   fclose(stream2);
   return 0;
}
</PRE>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="084_L2_closeCloseFileAssoci.html">close
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="109_L2_fcloseCloseStream.html">fclose</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="110_L2__fcloseallCloseAllOp.html"><LI>fcloseall
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="126_L2_fopenOpenFiles.html">fopen</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="205_L2_openOpenFile.html">open</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="243_L2__sopenOpenSharedFile.html"><LI>sopen
</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="133_L2_freeReleaseStorageBl.html">[Back: free - Release Storage Blocks]</A> <BR>
<A HREF="135_L2_frexpSeparateFloatin.html">[Next: frexp - Separate Floating-Point Value]</A> 
</BODY>
</HTML>
