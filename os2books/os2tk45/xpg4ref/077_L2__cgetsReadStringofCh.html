<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>_cgets - Read String of Characters from Keyboard</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>_cgets - Read String of Characters from Keyboard</H1><!-- entering slot 77 -->_cgets - Read String of Characters from Keyboard
<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;conio.h&gt;
char *_cgets(char *<I>str</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL><LI>cgets reads a string of characters directly
from the keyboard and stores the string and its length in the location pointed
to by<I> str</I>.
<P>
_cgets continues to read characters until it meets a carriage return followed
by a line feed (CR-LF) or until it reads the specified number of characters.
It stores the string starting at<I> str</I>[2]. If _cgets reads a CR-LF
combination, it replaces this combination with a null character ('\0') before
storing the string. _cgets then stores the actual length of the string in
the second array element,<I> str</I>[1].
<P>
The<I> str</I> variable must be a pointer to a character array. The first
element of the array,<I> str</I>[0], must contain the maximum length, in
characters, of the string to be read.  The array must have enough elements
to hold the string, a final null character, and 2 additional bytes.<!-- lm: 0x2 1 -->
</UL> Returns

<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
If successful, _cgets returns a pointer to the actual start of the string,
<I>str</I>[2]. Otherwise, _cgets returns NULL.<!-- lm: 0x2 1 -->
</UL> Example
Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example creates a buffer and initializes the first byte to the size
of the buffer. The program then accepts an input string using _cgets and
displays the size and text of that string.
<PRE>#include &lt;conio.h&gt;
#include &lt;stdio.h&gt;

void nothing(void)
{
}

int main(void)
{
   char buffer[82] =  { 84,0 };
   char *buffer2;
   int i;

   _cputs("\nPress any key to continue.");
   printf("\n");
   while (0 == _kbhit()) {
      nothing();
   }
   _getch();
   _cputs("\nEnter a line of text:");
   printf("\n");
   buffer2 = _cgets(buffer);
   printf("\nText entered was: %s", buffer2);
   return 0;

   /****************************************************************************
      The output should be similar to:

      Press any key to continue.

      Enter a line of text:
      This is a simple test.
      Text entered was: This is a simple test.

   ****************************************************************************/
}
</PRE>

<P>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
<!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="088_L2__cputsWriteStringtoS.html"><LI>cputs
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="118_L2_fgetsReadaString.html">fgets</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="153_L2_getsReadaLine.html">gets</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="147_L2__getch_getcheReadCha.html"><LI>getch
- _getche</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="076_L2_ceilFindIntegerArgum.html">[Back: ceil - Find Integer >= Argument]</A> <BR>
<A HREF="078_L2_chdirChangeCurrentWo.html">[Next: chdir - Change Current Working Directory]</A> 
</BODY>
</HTML>
