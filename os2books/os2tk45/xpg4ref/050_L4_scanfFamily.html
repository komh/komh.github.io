<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>scanf Family</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>scanf Family</H1><!-- entering slot 50 -->
<P>
The scanf family of functions includes the functions scanf, fscanf, and
sscanf. When reading in floating-point numbers, these functions convert
the strings INFINITY, INF, and NAN (in uppercase, lowercase, or mixed case)
to the corresponding floating-point value. The sign of the value is determined
by the format specification.
<P>
Given a string that consists of NAN, INF, or INFINITY, followed by other
characters, the scanf functions read in only the NaN or infinity value,
and consider the rest of the string to be a second input field. For example,
Nancy would be scanned as two fields,<I> Nan</I> and<I> cy</I>.
<P>
<B>Note: </B> In the case of a string that begins with INF, the functions
check the fourth letter. If that letter is not I (in uppercase or lowercase),
INF is read and converted and the rest of the string is left for the next
format specification. If the fourth letter is I, the functions continue
to scan for the full INFINITY string. If the string is other than INFINITY,
the entire string is discarded.<!-- lm: 0x2 1 -->
<UL>
<P>

<P>

<P>
<B>Example:</B>   In the following example, fscanf converts NAN and INFINITY
strings to their numeric values.
<PRE>#include &lt;stdio.h&gt;

int main(void)
{
   int n, count;
   double d1, d2, d3;
   FILE *stream;

   stream = tmpfile();

   fputs(" INFINITY NAn INF", stream);

   rewind(stream);

   n = fscanf(stream, "%lF%lf%lF%n", &amp;d1, &amp;d2, &amp;d3, &amp;count);

   if (n != EOF)
   {
      printf("Number of fields converted = %d\n", n);
      printf("Number of characters read = %d\n", count);
      printf("Output = %f %F %F\n", d1, d2, d3);
   }

   return 0;

   /* The expected output is:

      Number of fields converted = 3
      Number of characters read = 17
      Output = infinity NAN INFINITY  */

}
</PRE>

<P>
For more information on the scanf, fscanf, and sscanf functions, see the
entries for each function in <A HREF="055_L1_LibraryFunctions.html">Library
Functions</A>.
<P>


<P><HR>

<A HREF="049_L3_InfinityandNaNinLibr.html">[Back: Infinity and NaN in Library Functions]</A> <BR>
<A HREF="051_L4_printfFamily.html">[Next: printf Family]</A> 
</BODY>
</HTML>
