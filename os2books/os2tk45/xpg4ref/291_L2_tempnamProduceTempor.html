<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>tempnam - Produce Temporary File Name</TITLE>
</HEAD>
<BODY>
<H1>tempnam - Produce Temporary File Name</H1><!-- entering slot 317 -->tempnam - Produce Temporary File Name<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;stdio.h&gt;
char *tempnam(char *<I>dir</I>, char *<I>prefix</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
tempnam creates a temporary file name in another directory.  The<I> prefix
</I>is the prefix to the file name. tempnam tests for the existence of the
file with the given name in the following directories, listed in order of
precedence:<!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 -->If the TMP environment variable is set and the directory
specified by TMP exists, the directory is specified by TMP.<!-- lm: 0x2 12 -->
<P>
<LI><!-- lm: 0x2 15 -->If the TMP environment variable is not set or the
directory specified by TMP does not exist, the directory is specified by
the<I> dir</I> argument to tempnam.<!-- lm: 0x2 12 -->
<P>
<LI><!-- lm: 0x2 15 -->If the<I> dir</I> argument is NULL, or<I> dir</I> is
the name of nonexistent directory, the directory is pointed to by P_tmpdir
(defined in &lt;stdio.h&gt;).<!-- lm: 0x2 12 -->
<P>
<LI><!-- lm: 0x2 15 -->If P_tmpdir does not exist, the directory is the
current working directory.<!-- lm: 0x2 10 -->
</UL>
<P>
<B>Note: </B><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 -->Because tempnam uses malloc to reserve space for
the created file name, you must free this space when you no longer need
it.<!-- lm: 0x2 12 -->
<P>
<LI><!-- lm: 0x2 15 -->In earlier releases of C Set ++, tempnam began with
an underscore (_tempnam). Because it is defined by the X/Open standard,
the underscore has been removed. For compatibility,<I> The Developer's Toolkit
</I>will map _tempnam to tempnam for you.<!-- lm: 0x2 10 -->
</UL><!-- lm: 0x2 10 -->
<P>
<!-- lm: 0x2 1 -->
</UL>Returns
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
tempnam returns a pointer to the temporary name, if successful. If the name
cannot be created or it already exists, tempnam returns the value NULL.
<!-- lm: 0x2 1 -->
</UL>Example Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example creates a temporary file name using the directory a:\tmp:
<PRE>#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;

int main(void)
{
   char *name1;

   if ((name1 = tempnam("d:\\tmp", "stq")) != NULL)
      printf("%s is safe to use as a temporary file.\n", name1);
   else {
      printf("Cannot create unique filename\n");
      return EXIT_FAILURE;
   }
   return 0;

   /****************************************************************************
      The output should be similar to:

      D:\tmp\stqU3CP2.C2T is safe to use as a temporary file.
   ****************************************************************************/
}
</PRE>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="185_L2_mallocReserveStorage.html">malloc
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="231_L2__rmtmpRemoveTemporar.html"><LI>rmtmp
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="294_L2_tmpfileCreateTempora.html">tmpfile
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="295_L2_tmpnamProduceTempora.html">tmpnam
</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="290_L2__tellGetPointerPosit.html">[Back: _tell - Get Pointer Position]</A> <BR>
<A HREF="292_L2__threadstoreAccessTh.html">[Next: _threadstore - Access Thread-Specific Storage]</A> 
</BODY>
</HTML>
