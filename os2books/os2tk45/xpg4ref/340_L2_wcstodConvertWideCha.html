<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>wcstod - Convert Wide-Character String to Double</TITLE>
</HEAD>
<BODY>
<H1>wcstod - Convert Wide-Character String to Double</H1><!-- entering slot 368 -->wcstod - Convert Wide-Character String to Double
<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;wchar.h&gt;
double wcstod(const wchar_t *<I>nptr</I>, wchar_t **<I>endptr</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
wcstod converts the wide-character string pointed to by<I> nptr</I> to a
double value. The<I> nptr</I> parameter points to a sequence of characters
that can be interpreted as a numerical value of type double. wcstod stops
reading the string at the first character that it cannot recognize as part
of a number. This character can be the wchar_t null character at the end
of the string.
<P>
wcstod expects<I> nptr</I> to point to a string with the following form:
┌──────────────────────────────────────────────────────────────────────────────┐
<BR>
│                                        │
<BR>
│ &gt;&gt;──┬─────────────┬──┬───┬──┬───────────────────────────┬──&gt;
        │
<BR>
│   └─white-space─┘  ├─+─┤  ├─digits──┬───┬──┬────────┬─┤           │
<BR>
│            └─┴─┘  │     └─.─┘  └─digits─┘ │           │
<BR>
│               └─.──digits─────────────────┘           │
<BR>
│                                        │
<BR>
│ &gt;──┬──────────────────────┬──&gt;&lt;                        │
<BR>
│   └─┬─e─┬──┬───┬──digits─┘                          │
<BR>
│    └─E─┘  ├─+─┤                               │
<BR>
│       └─┴─┘                               │
<BR>
│                                        │
<BR>
└──────────────────────────────────────────────────────────────────────────────┘
<BR>

<P>
<B>Note: </B> The character used for the decimal point (shown as . in the
above diagram) depends on the LC_NUMERIC category of the current locale.
<!-- lm: 0x2 10 -->
<P>

<P>
The white space character is determined by the LC_CTYPE category of the
current locale.<!-- lm: 0x2 1 -->
</UL> Returns
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
wcstod function returns the converted double value. If no conversion could
be performed, wcstod returns 0. If the correct value is outside the range
of representable values, wcstod returns +HUGE_VAL or -HUGE_VAL (according
to the sign of the value), and sets errno to ERANGE. If the correct value
would cause underflow, wcstod returns 0 and sets errno to ERANGE.
<P>
If the string<I> nptr</I> points to is empty or does not have the expected
form, no conversion is performed, and the value of<I> nptr</I> is stored
in the object pointed to by<I> endptr</I>, provided that<I> endptr</I> is
not a null pointer.<!-- lm: 0x2 1 -->
</UL> Example Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example uses wcstod to convert the string wcs to a floating-point value.

<PRE>#include &lt;stdio.h&gt;
#include &lt;wchar.h&gt;

int main(void)
{
   wchar_t *wcs = L"3.1415926This stopped it";
   wchar_t *stopwcs;

   printf("wcs = \"%ls\"\n", wcs);
   printf("   wcstod = %f\n", wcstod(wcs, &amp;stopwcs));
   printf("   Stop scanning at \"%ls\"\n", stopwcs);
   return 0;

   /****************************************************************************
      The output should be similar to :

      wcs = "3.1415926This stopped it"
         wcstod = 3.141593
         Stop scanning at "This stopped it"
   ****************************************************************************/
}
</PRE>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="279_L2_strtodConvertCharact.html">strtod
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="281_L2_strtolConvertCharact.html">strtol
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="282_L2_strtoldConvertString.html">strtold
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="283_L2_strtoulConvertString.html">strtoul
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="342_L2_wcstolConvertWideCha.html">wcstol
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="344_L2_wcstoulConvertWideCh.html">wcstoul
</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="339_L2_wcsstrLocateWideChar.html">[Back: wcsstr - Locate Wide-Character Substring]</A> <BR>
<A HREF="341_L2_wcstokTokenizeWideCh.html">[Next: wcstok - Tokenize Wide-Character String]</A> 
</BODY>
</HTML>
