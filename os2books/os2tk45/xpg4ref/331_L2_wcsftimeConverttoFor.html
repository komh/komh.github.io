<HTML>
<HEAD>
<TITLE>wcsftime - Convert to Formatted Date and Time</TITLE>
</HEAD>
<BODY>
<H1>wcsftime - Convert to Formatted Date and Time</H1><!-- entering slot 359 -->wcsftime - Convert to Formatted Date and Time
<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;wchar.h&gt;
size_t wcsftime(wchar_t *<I>wdest</I>, size_t <I>maxsize</I>,
                const wchar_t *<I>format</I>, const struct tm *<I>timeptr</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
wcsftime converts the time and date specification in the<I> timeptr</I> structure
into a wide-character string. It then stores the null-terminated string
in the array pointed to by<I> wdest</I> according to the format string pointed
to by<I> format</I>.<I> maxsize</I> specifies the maximum number of wide
characters that can be copied into the array.
<P>
wcsftime works just like strftime, except that it uses wide characters.

<P>
The format string is a wide character string containing:<!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 -->Conversion specification characters.<!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 -->Ordinary wide characters, which are copied into the
array unchanged.<!-- lm: 0x2 10 -->
</UL>
<P>
The characters that are converted are determined by the LC_TIME category
of the current locale and by the values in the time structure pointed to
by<I> timeptr</I>. The time structure pointed to by<I> timeptr</I> is usually
obtained by calling the gmtime or localtime function.
<P>
For details on the conversion specifiers you can use in the format string,
see <A HREF="263_L2_strftimeConverttoFor.html">strftime</A>.<!-- lm: 0x2 1 -->
</UL> Returns

<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
If the total number of wide characters in the resulting string, including
the terminating null wide character, does not exceed<I> maxsize</I>, wcsftime
returns the number of wide characters placed into the array pointed to by
<I>wdest</I>, not including the terminating null wide character; otherwise,
wcsftime returns 0 and the contents of the array are indeterminate.<!-- lm: 0x2 1 -->
</UL> Example
Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example obtains the date and time using localtime, formats the information
with wcsftime, and prints the date and time.
<PRE>#include &lt;stdio.h&gt;#include &lt;time.h&gt;
#include &lt;wchar.h&gt;

int main(void)
{
   struct tm *timeptr;
   wchar_t   dest[100];
   time_t    temp;
   size_t    rc;

   temp = time(NULL);
   timeptr = localtime(&amp;temp);
   rc = wcsftime(dest, sizeof(dest)-1,L" Today is %A,"
                L" %b %d.\n Time: %I:%M %p", timeptr);
   printf("%d characters placed in string to make:\n\n%ls\n", rc, dest);
   return 0;

   /****************************************************************************
      The output should be similar to :

      43 characters placed in string to make:

       Today is Thursday, Nov 10.
       Time: 04:56 PM
   ****************************************************************************/
}
</PRE>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="156_L2_gmtimeConvertTime.html">gmtime</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="178_L2_localtimeConvertTime.html">localtime
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="263_L2_strftimeConverttoFor.html">strftime
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="273_L2_strptimeConverttoFor.html">strptime
</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="330_L2_wcscspnFindOffsetofF.html">[Back: wcscspn - Find Offset of First Wide-Character Match]</A> <BR>
<A HREF="332_L2_wcslenCalculateLengt.html">[Next: wcslen - Calculate Length of Wide-Character String]</A> 
</BODY>
</HTML>
