<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>tzset - Set Time Zone Information</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>tzset - Set Time Zone Information</H1><!-- entering slot 325 -->tzset - Set Time Zone Information<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;time.h&gt;
void tzset(void);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
tzset uses the environment variable TZ to change the time zone and daylight
saving time (DST) zone values. These values are used by the gmtime and localtime
functions to make corrections from Coordinated Universal Time (formerly
GMT) to local time.
<P>
To use tzset, set the TZ variable to the appropriate values. (For the possible
values for TZ, see the chapter on run-time environment variables in the
<I>VisualAge C++ Programming Guide</I>.) Then call tzset to incorporate
the changes in the time zone information into your current locale.
<P>
To set TZ from within a program, use putenv before calling tzset.
<P>
<B>Note: </B> The time and date functions begin at 00:00:00 Coordinated
Universal Time, January 1, 1970.<!-- lm: 0x2 10 -->
<P>
<!-- lm: 0x2 1 -->
</UL>Returns
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
There is no return value.<!-- lm: 0x2 1 -->
</UL> Example Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example uses putenv and tzset to set the time zone to Central Time.

<PRE>#include &lt;time.h&gt;
#include &lt;stdio.h&gt;

int main(void)
{
   time_t currentTime;
   struct tm *ts;

   /* Get the current time                                                    */

   (void)time(&amp;currentTime);
   printf("The GMT time is %s", asctime(gmtime(&amp;currentTime)));
   ts = localtime(&amp;currentTime);
   if (ts-&gt;tm_isdst &gt; 0)  /* check if Daylight Saving Time is in effect       */
      {
      printf("The local time is %s", asctime(ts));
      printf("Daylight Saving Time is in effect.\n");
   }
   else {
      printf("The local time is %s", asctime(ts));
      printf("Daylight Saving Time is not in effect.\n");
   }
   printf("**** Changing to Central Time ****\n");
   putenv("TZ=CST6CDT");
   tzset();
   ts = localtime(&amp;currentTime);
   if (ts-&gt;tm_isdst &gt; 0)  /* check if Daylight Saving Time is in effect       */
      {
      printf("The local time is %s", asctime(ts));
      printf("Daylight Saving Time is in effect.\n");
   }
   else {
      printf("The local time is %s", asctime(ts));
      printf("Daylight Saving Time is not in effect.\n");
   }

   return 0;

   /****************************************************************************
      The output should be similar to:

      The GMT time is Fri Jan 13 21:49:26 1995
      The local time is Fri Jan 13 16:49:26 1995
      Daylight Saving Time is not in effect.
      **** Changing to Central Time ****
      The local time is Fri Jan 13 15:49:26 1995
      Daylight Saving Time is not in effect.
   ****************************************************************************/
}
</PRE>

<P>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="060_L2_asctimeConvertTimeto.html">asctime
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="141_L2__ftimeStoreCurrentTi.html"><LI>ftime
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="156_L2_gmtimeConvertTime.html">gmtime</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="178_L2_localtimeConvertTime.html">localtime
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="200_L2_mktimeConvertLocalTi.html">mktime
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="211_L2_putenvModifyEnvironm.html">putenv
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="263_L2_strftimeConverttoFor.html">strftime
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="293_L2_timeDetermineCurrent.html">time</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="298_L2_towlowertowupperConv.html">[Back: towlower - towupper - Convert Wide Character Case]</A> <BR>
<A HREF="300_L2__uaddmemAddMemorytoa.html">[Next: _uaddmem - Add Memory to a Heap]</A> 
</BODY>
</HTML>
