<HTML>
<HEAD>
<TITLE>vfprintf - Print Argument Data to Stream</TITLE>
</HEAD>
<BODY>
<H1>vfprintf - Print Argument Data to Stream</H1><!-- entering slot 349 -->vfprintf - Print Argument Data to Stream<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;stdarg.h&gt;
#include &lt;stdio.h&gt;
int vfprintf(FILE *<I>stream</I>, const char *<I>format</I>, va_list <I>arg_ptr</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
vfprintf formats and writes a series of characters and values to the output
<I>stream</I>. vfprintf works just like fprintf, except that<I> arg_ptr
</I>points to a list of arguments whose number can vary from call to call
in the program. These arguments should be initialized by va_start for each
call. In contrast, fprintf can have a list of arguments, but the number
of arguments in that list is fixed when you compile the program.
<P>
vfprintf converts each entry in the argument list according to the corresponding
format specifier in<I> format</I>. The<I> format</I> has the same form and
function as the format string for printf. For a description of the format
string, see <A HREF="208_L2_printfPrintFormatted.html">printf</A>.
<P>
In extended mode, vfprintf also converts floating-point values of NaN and
infinity to the strings "NAN" or "nan" and "INFINITY" or "infinity". The
case and sign of the string is determined by the format specifiers.  See
<A HREF="048_L2_InfinityandNaNSuppor.html">Infinity and NaN Support</A> for
more information on infinity and NaN values.<!-- lm: 0x2 1 -->
</UL> Returns

<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
If successful, vfprintf returns the number of bytes written to<I> stream</I>.
If an error occurs, the function returns a negative value.<!-- lm: 0x2 1 -->
</UL> Example
Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example prints out a variable number of strings to the file vfprintf.out.

<PRE>#include &lt;stdarg.h&gt;
#include &lt;stdio.h&gt;

#define FILENAME "vfprintf.o"

void vout(FILE *stream, char *fmt,...);

char fmt1[] = "%s  %s  %s  %s\n";

int main(void)
{
   FILE *stream;

   stream = fopen(FILENAME, "w");
   vout(stream, fmt1, "Sat", "Sun", "Mon", "Tue");
   fclose(stream);
   return 0;

   /****************************************************************************
      After running the program, the output file should contain:

      Sat  Sun  Mon  Tue
   ****************************************************************************/
}

void vout(FILE *stream, char *fmt,...)
{
   va_list arg_ptr;

   va_start(arg_ptr, fmt);
   vfprintf(stream, fmt, arg_ptr);
   va_end(arg_ptr);
}
</PRE>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="127_L2_fprintfWriteFormatte.html">fprintf
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="208_L2_printfPrintFormatted.html">printf
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="320_L2_va_argva_endva_start.html">va_arg
- va_end - va_start</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="322_L2_vprintfPrintArgument.html">vprintf
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="323_L2_vsprintfPrintArgumen.html">vsprintf
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="048_L2_InfinityandNaNSuppor.html">Infinity
and NaN Support</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="320_L2_va_argva_endva_start.html">[Back: va_arg - va_end - va_start - Access Function Arguments]</A> <BR>
<A HREF="322_L2_vprintfPrintArgument.html">[Next: vprintf - Print Argument Data]</A> 
</BODY>
</HTML>
