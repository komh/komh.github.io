<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>fgets - Read a String</TITLE>
</HEAD>
<BODY>
<H1>fgets - Read a String</H1><!-- entering slot 123 -->fgets - Read a String<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;stdio.h&gt;
char *fgets (char *<I>string</I>, int <I>n</I>, FILE *<I>stream</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
fgets reads bytes from the current<I> stream</I> position up to and including
the first new-line character (\n), up to the end of the stream, or until
the number of bytes read is equal to<I> n</I>-1, whichever comes first.
 fgets stores the result in<I> string</I> and adds a null character (\0)
to the end of the string.  The<I> string</I> includes the new-line character,
if read.  If<I> n</I> is equal to 1, the<I> string</I> is empty.<!-- lm: 0x2 1 -->
</UL> Returns

<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
fgets returns a pointer to the<I> string</I> buffer if successful.  A NULL
return value indicates an error or an end-of-file condition.  Use feof or
ferror to determine whether the NULL value indicates an error or the end
of the file. In either case, the value of the string is unchanged.<!-- lm: 0x2 1 -->
</UL> Example
Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example gets a line of input from a data stream.  The example reads
no more than MAX_LEN - 1 characters, or up to a new-line character, from
the stream.
<PRE>#include &lt;stdio.h&gt;

#define  MAX_LEN       100

int main(void)
{
   FILE *stream;
   char line[MAX_LEN],*result;

   stream = fopen("myfile.dat", "rb");
   if ((result = fgets(line, MAX_LEN, stream)) != NULL)
      printf("The string is %s\n", result);
   if (fclose(stream))
      perror("fclose error");
   return 0;

   /****************************************************************************
      If myfile.dat contains: This is my data file.

      The output should be:

      The string is This is my data file.
   ****************************************************************************/
}
</PRE>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="113_L2_feofTestEndofFileInd.html">feof</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="114_L2_ferrorTestforReadWri.html">ferror
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="129_L2_fputsWriteString.html">fputs</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="153_L2_getsReadaLine.html">gets</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="212_L2_putsWriteaString.html">puts</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="117_L2_fgetposGetFilePositi.html">[Back: fgetpos - Get File Position]</A> <BR>
<A HREF="119_L2_fgetwcReadWideCharac.html">[Next: fgetwc - Read Wide Character from Stream]</A> 
</BODY>
</HTML>
