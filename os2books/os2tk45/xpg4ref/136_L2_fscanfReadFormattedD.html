<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>fscanf - Read Formatted Data</TITLE>
</HEAD>
<BODY>
<H1>fscanf - Read Formatted Data</H1><!-- entering slot 142 -->fscanf - Read Formatted Data<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;stdio.h&gt;
int fscanf (FILE *<I>stream</I>, const char *<I>format-string</I>, <I>argument-list</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
fscanf reads data from the current position of the specified<I> stream</I> into
the locations given by the entries in<I> argument-list</I>, if any.  Each
entry in<I> argument-list</I> must be a pointer to a variable with a type
that corresponds to a type specifier in<I> format-string</I>.
<P>
The<I> format-string</I> controls the interpretation of the input fields
and has the same form and function as the<I> format-string</I> argument
for the scanf function.  See <A HREF="232_L2_scanfReadData.html">scanf</A> for
a description of<I> format-string</I>.
<P>
In extended mode, the fscanf function also reads in the strings "INFINITY",
"INF", and "NAN" (in uppercase or lowercase) and converts them to the corresponding
floating-point value.  The sign of the value is determined by the format
specification. See <A HREF="048_L2_InfinityandNaNSuppor.html">Infinity and
NaN Support</A> for more information on infinity and NaN values.<!-- lm: 0x2 1 -->
</UL> Returns

<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
fscanf returns the number of fields that it successfully converted and assigned.
 The return value does not include fields that fscanf read but did not assign.

<P>
The return value is EOF if an input failure occurs before any conversion,
or the number of input items assigned if successful.<!-- lm: 0x2 1 -->
</UL> Example
Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example opens the file myfile.dat for reading and then scans this file
for a string, a long integer value, a character, and a floating-point value.

<PRE>#include &lt;stdio.h&gt;

#define  MAX_LEN       80

int main(void)
{
   FILE *stream;
   long l;
   float fp;
   char s[MAX_LEN+1];
   char c;

   stream = fopen("myfile.dat", "r");

    /* Put in various data.                                                   */

   fscanf(stream, "%s", &amp;s[0]);
   fscanf(stream, "%ld", &amp;l);
   fscanf(stream, "%c", &amp;c);
   fscanf(stream, "%f", &amp;fp);
   printf("string = %s\n", s);
   printf("long %ld\n", l);
   printf("char = %c\n", c);
   printf("float = %f\n", fp);
   return 0;

   /****************************************************************************
      If myfile.dat contains:
      abcdefghijklmnopqrstuvwxyz 343.2.

      The output should be:

      string = abcdefghijklmnopqrstuvwxyz
      long double = 343
      char = .
      float = 2.000000
   ****************************************************************************/
}
</PRE>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="048_L2_InfinityandNaNSuppor.html">Infinity
and NaN Support</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="092_L2__cscanfReadDatafromK.html"><LI>cscanf
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="127_L2_fprintfWriteFormatte.html">fprintf
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="232_L2_scanfReadData.html">scanf</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="249_L2_sscanfReadData.html">sscanf</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="135_L2_frexpSeparateFloatin.html">[Back: frexp - Separate Floating-Point Value]</A> <BR>
<A HREF="137_L2_fseekRepositionFileP.html">[Next: fseek - Reposition File Position]</A> 
</BODY>
</HTML>
