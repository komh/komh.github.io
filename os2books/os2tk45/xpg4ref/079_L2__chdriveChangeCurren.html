<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>_chdrive - Change Current Working Drive</TITLE>
</HEAD>
<BODY>
<H1>_chdrive - Change Current Working Drive</H1><!-- entering slot 79 -->_chdrive - Change Current Working Drive<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;direct.h&gt;
int _chdrive(int <I>drive</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL><LI>chdrive changes the current working drive to
the<I> drive</I> specified.  The<I> drive</I> variable is an integer value
representing the number of the new working drive (A: is 1, B: is 2, and
so on).
<P>
To change the default drive, include &lt;os2.h&gt;, define INCL_DOSFILEMGR,
and use DosSetDefaultDisk to pass the appropriate command to the operating
system. You can also use DosQueryCurrentDisk to query the disk. For more
information, refer to the<I> Control Program Guide and Reference</I>.<!-- lm: 0x2 1 -->
</UL> Returns

<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
<LI>chdrive returns 0 if it is successful in changing the working drive.
A return value of -1 indicates an error; _chdrive sets errno to EOS2ERR.
<!-- lm: 0x2 1 -->
</UL>Example Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example uses _chdrive to change the current working drive to C:.
<P>
 
<PRE>#include &lt;direct.h&gt;
#include &lt;stdio.h&gt;

int main(void)
{
   if (_chdrive(3))
      printf("Cannot change current working drive to 'C' drive.\n");
   else {
      printf("Current working drive changed to ");
      printf("'%c' drive.\n", ('A'+_getdrive()-1));
   }
   return 0;

   /****************************************************************************
      The output should be similar to :

      Current working drive changed to 'C' drive.
   ****************************************************************************/
}
</PRE>

<P>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
<!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="078_L2_chdirChangeCurrentWo.html">chdir
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="148_L2__getcwdGetPathNameof.html"><LI>getcwd
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="149_L2__getdcwdGetFullPathN.html"><LI>getdcwd
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="150_L2__getdriveGetCurrentW.html"><LI>getdrive
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="199_L2_mkdirCreateNewDirect.html">mkdir
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="228_L2_rmdirRemoveDirectory.html">rmdir
</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="078_L2_chdirChangeCurrentWo.html">[Back: chdir - Change Current Working Directory]</A> <BR>
<A HREF="080_L2_chmodChangeFilePermi.html">[Next: chmod - Change File Permission Setting]</A> 
</BODY>
</HTML>
