<HTML>
<HEAD>
<TITLE>vsprintf - Print Argument Data to Buffer</TITLE>
</HEAD>
<BODY>
<H1>vsprintf - Print Argument Data to Buffer</H1><!-- entering slot 351 -->vsprintf - Print Argument Data to Buffer<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;stdarg.h&gt;
#include &lt;stdio.h&gt;
int vsprintf(char *<I>target-string</I>, const char *<I>format</I>, va_list <I>arg_ptr</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
vsprintf formats and stores a series of characters and values in the buffer
<I>target-string</I>. vsprintf works just like sprintf, except that<I> arg_ptr
</I>points to a list of arguments whose number can vary from call to call
in the program. These arguments should be initialized by va_start for each
call. In contrast, sprintf can have a list of arguments, but the number
of arguments in that list is fixed when you compile the program.
<P>
vsprintf converts each entry in the argument list according to the corresponding
format specifier in<I> format</I>. The<I> format</I> has the same form and
function as the format string for printf. For a description of the format
string, see <A HREF="208_L2_printfPrintFormatted.html">printf</A>.
<P>
In extended mode, vsprintf also converts floating-point values of NaN and
infinity to the strings "NAN" or "nan" and "INFINITY" or "infinity". The
case and sign of the string is determined by the format specifiers.  See
<A HREF="048_L2_InfinityandNaNSuppor.html">Infinity and NaN Support</A> for
more information on infinity and NaN values.<!-- lm: 0x2 1 -->
</UL> Returns

<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
If successful, vsprintf returns the number of bytes written to<I> target-string</I>.
If an error occurs, vsprintf returns a negative value.<!-- lm: 0x2 1 -->
</UL> Example
Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example assigns a variable number of strings to string and prints the
resultant string.
<PRE>#include &lt;stdarg.h&gt;
#include &lt;stdio.h&gt;

void vout(char *string, char *fmt,...);

char fmt1[] = "%s  %s  %s\n";

int main(void)
{
   char string[100];

   vout(string, fmt1, "Sat", "Sun", "Mon");
   printf("The string is: %s", string);
   return 0;

   /****************************************************************************
      The output should be:

      The string is: Sat  Sun  Mon
   ****************************************************************************/
}

void vout(char *string, char *fmt,...)
{
   va_list arg_ptr;

   va_start(arg_ptr, fmt);
   vsprintf(string, fmt, arg_ptr);
   va_end(arg_ptr);
}
</PRE>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="208_L2_printfPrintFormatted.html">printf
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="246_L2_sprintfPrintFormatte.html">sprintf
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="320_L2_va_argva_endva_start.html">va_arg
- va_end - va_start</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="321_L2_vfprintfPrintArgumen.html">vfprintf
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="322_L2_vprintfPrintArgument.html">vprintf
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="048_L2_InfinityandNaNSuppor.html">Infinity
and NaN Support</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="322_L2_vprintfPrintArgument.html">[Back: vprintf - Print Argument Data]</A> <BR>
<A HREF="324_L2_waitWaitforChildProc.html">[Next: wait - Wait for Child Process]</A> 
</BODY>
</HTML>
