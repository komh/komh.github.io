<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>calloc - Reserve and Initialize Storage</TITLE>
</HEAD>
<BODY>
<H1>calloc - Reserve and Initialize Storage</H1><!-- entering slot 72 -->calloc - Reserve and Initialize Storage<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;stdlib.h&gt;  /* also in &lt;malloc.h&gt; */
void *calloc(size_t <I>num</I>, size_t <I>size</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL>calloc reserves storage space for an array of<I> num
</I>elements, each of length<I> size</I> bytes. calloc then gives all the
bits of each element an initial value of 0.
<P>
Heap-specific versions of this function (_ucalloc) are also available. calloc
always allocates memory from the default heap. You can also use the debug
version of calloc, _debug_calloc, to debug memory problems.<!-- lm: 0x2 1 -->
</UL> Returns

<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
calloc returns a pointer to the reserved space. The storage space to which
the return value points is suitably aligned for storage of any type of object.
 To get a pointer to a type, use a type cast on the return value.  The return
value is NULL if there is not enough storage, or if<I> num</I> or<I> size
</I>is 0.<!-- lm: 0x2 1 -->
</UL> Example Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example prompts for the number of array entries required and then reserves
enough space in storage for the entries. If calloc is successful, the example
prints out each entry;  otherwise, it prints out an error.
<PRE>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(void)
{
   long *array;                             /* start of the array             */
   long *index;                             /* index variable                 */
   int i;                                   /* index variable                 */
   int num;                                 /* number of entries of the array */

   printf("Enter the size of the array\n");
   scanf("%i", &amp;num);

   /* allocate num entries                                                    */

   if ((index = array = calloc(num, sizeof(long))) != NULL) {
      for (i = 0; i &lt; num; ++i)             /* put values in array            */
         *index++ = i;                      /* using pointer notation         */
      for (i = 0; i &lt; num; ++i)             /* print the array out            */
         printf("array[ %i ] = %i\n", i, array[i]);
   }
   else {                                                 /* out of storage   */
      perror("Out of storage");
      abort();
   }
   return 0;

   /****************************************************************************
      The output should be similar to :

      Enter the size of the array
      3
      array[ 0 ] = 0
      array[ 1 ] = 1
      array[ 2 ] = 2
   ****************************************************************************/
}
</PRE>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="133_L2_freeReleaseStorageBl.html">free</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="185_L2_mallocReserveStorage.html">malloc
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="220_L2_reallocChangeReserve.html">realloc
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="301_L2__ucallocReserveandIn.html"><LI>ucalloc
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><LI>Managing Memory" in the<I> VisualAge C++ Programming
Guide</I><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="071_L2_bsearchSearchArrays.html">[Back: bsearch - Search Arrays]</A> <BR>
<A HREF="073_L2_catcloseClosesaSpeci.html">[Next: catclose - Closes a Specified Message Catalog]</A> 
</BODY>
</HTML>
