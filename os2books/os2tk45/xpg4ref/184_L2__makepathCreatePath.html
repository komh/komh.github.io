<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>_makepath - Create Path</TITLE>
</HEAD>
<BODY>
<H1>_makepath - Create Path</H1><!-- entering slot 193 -->_makepath - Create Path<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;stdlib.h&gt;
void _makepath(char *<I>path</I>, char *<I>drive</I>, char *<I>dir</I>, char *<I>fname</I>, char *<I>ext</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
<LI>makepath creates a single path name, composed of a drive letter, directory
path, file name, and file name extension.
<P>
The<I> path</I> argument should point to an empty buffer large enough to
hold the complete path name. The constant _MAX_PATH, defined in &lt;stdlib.h&gt;,
specifies the maximum size allowed for<I> path</I>. The other arguments
point to the following buffers containing the path name elements:<!-- lm: 0x2 10 -->
<P>
<I>drive</I><!-- lm: 0x12 18 -->
<UL> A letter (A, B, ...) corresponding
to the desired drive and an optional following colon. _makepath inserts
the colon automatically in the composite path name if it is missing.  If
<I>drive</I> is a null character or an empty string, no drive letter or
colon appears in the composite<I> path</I> string.<!-- lm: 0x2 10 -->
</UL><I> dir
</I><!-- lm: 0x12 18 -->
<UL>The path of directories, not including the
drive designator or the actual file name.  The trailing slash is optional,
and either slash (/) or backslash (\) or both can be used in a single<I> dir
</I>argument.  If a trailing slash or backslash is not specified, it is
inserted automatically.  If<I> dir</I> is a null character or an empty string,
no slash is inserted in the composite<I> path</I> string.<!-- lm: 0x2 10 -->
</UL><I> fname
</I><!-- lm: 0x12 18 -->
<UL>The base file name without any extensions.
<!-- lm: 0x2 10 -->
</UL><I>ext</I><!-- lm: 0x12 18 -->
<UL> The actual
file name extension, with or without a leading period. _makepath inserts
the period automatically if it does not appear in<I> ext</I>.  If<I> ext
</I>is a null character or an empty string, no period is inserted in the
composite<I> path</I> string.<!-- lm: 0x2 10 -->
</UL>
<P>
The size limits on the above four fields are those specified by the constants
_MAX_DRIVE, _MAX_DIR, _MAX_FNAME, and _MAX_EXT, which are defined in &lt;stdlib.h&gt;.
The composite path should be no larger than the _MAX_PATH constant also
defined in &lt;stdlib.h&gt;; otherwise, the operating system does not handle
it correctly.
<P>
<B>Note: </B> No checking is done to see if the syntax of the file name
is correct.<!-- lm: 0x2 10 -->
<P>
<!-- lm: 0x2 1 -->
</UL>Returns
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
There is no return value.<!-- lm: 0x2 1 -->
</UL> Example Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example builds a file name path from the specified components:
<PRE>#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;

int main(void)
{
   char path_buffer[_MAX_PATH];
   char drive[_MAX_DRIVE];
   char dir[_MAX_DIR];
   char fname[_MAX_FNAME];
   char ext[_MAX_EXT];

   _makepath(path_buffer, "c", "qc\\bob\\eclibref\\e", "makepath", "c");
   printf("Path created with _makepath: %s\n\n", path_buffer);
   _splitpath(path_buffer, drive, dir, fname, ext);
   printf("Path extracted with _splitpath:\n");
   printf("drive: %s\n", drive);
   printf("directory: %s\n", dir);
   printf("file name: %s\n", fname);
   printf("extension: %s\n", ext);
   return 0;

   /****************************************************************************
      The output should be:

      Path created with _makepath: c:qc\bob\eclibref\e\makepath.c

      Path extracted with _splitpath:
      drive: c:
      directory: qc\bob\eclibref\e\
      file name: makepath
      extension: .c
   ****************************************************************************/
}
</PRE>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="142_L2__fullpathGetFullPath.html"><LI>fullpath
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="245_L2__splitpathDecomposeP.html"><LI>splitpath
</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="183_L2__ltoaConvertLongInte.html">[Back: _ltoa - Convert Long Integer to String]</A> <BR>
<A HREF="185_L2_mallocReserveStorage.html">[Next: malloc - Reserve Storage Block]</A> 
</BODY>
</HTML>
