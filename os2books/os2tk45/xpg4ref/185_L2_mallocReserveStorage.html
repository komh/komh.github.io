<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>malloc - Reserve Storage Block</TITLE>
</HEAD>
<BODY>
<H1>malloc - Reserve Storage Block</H1><!-- entering slot 194 -->malloc - Reserve Storage Block<!-- lm: 0x2 1 -->
<UL>
<P>
Syntax
<P>
<!-- lm: 0x2 10 -->
<UL>
<PRE>#include &lt;stdlib.h&gt;  /* also in &lt;malloc.h&gt; */
void *malloc(size_t <I>size</I>);
</PRE>
<!-- lm: 0x2 1 -->
</UL>Description
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
malloc reserves a block of storage of<I> size</I> bytes. Unlike calloc,
malloc does not initialize all elements to 0.
<P>
Heap-specific and debug versions of this function (_umalloc and _debug_malloc)
are also available. malloc always operates on the default heap. For more
information about memory management, see "Managing Memory" in the<I> VisualAge
C++ Programming Guide</I>.<!-- lm: 0x2 1 -->
</UL> Returns
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
malloc returns a pointer to the reserved space. The storage space to which
the return value points is suitably aligned for storage of any type of object.
The return value is NULL if not enough storage is available, or if<I> size
</I>was specified as zero.<!-- lm: 0x2 1 -->
</UL> Example Code
<P>
<!-- lm: 0x2 10 -->
<UL>
<P>
This example prompts for the number of array entries you want and then reserves
enough space in storage for the entries. If malloc was successful, the example
assigns values to the entries and prints out each entry;  otherwise, it
prints out an error.
<PRE>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(void)
{
   long *array;                              /* start of the array            */
   long *index;                                           /* index variable   */
   int i;                                                 /* index variable   */
   int num;                             /* number of entries of the array     */

   printf("Enter the size of the array\n");
   scanf("%i", &amp;num);

   /* allocate num entries                                                    */

   if ((index = array = malloc(num *sizeof(long))) != NULL) {
      for (i = 0; i &lt; num; ++i)             /* put values in array            */
         *index++ = i;                      /* using pointer notation         */
      for (i = 0; i &lt; num; ++i)             /* print the array out            */
         printf("array[ %i ] = %i\n", i, array[i]);
   }
   else {                                                 /* malloc error     */
      perror("Out of storage");
      abort();
   }
   return 0;

   /****************************************************************************
      The output should be similar to:

      Enter the size of the array
      5
      array[ 0 ] = 0
      array[ 1 ] = 1
      array[ 2 ] = 2
      array[ 3 ] = 3
      array[ 4 ] = 4
   ****************************************************************************/
}
</PRE>
<!-- lm: 0x2 1 -->
</UL>Related Information
<P>
<!-- lm: 0x2 10 -->
<UL><!-- lm: 0x2 12 -->
<UL>
<P>
<LI><!-- lm: 0x2 15 --><A HREF="072_L2_callocReserveandInit.html">calloc
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="133_L2_freeReleaseStorageBl.html">free</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="197_L2__mheapQueryMemoryHea.html"><LI>mheap
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="202_L2__msizeReturnNumberof.html"><LI>msize
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="220_L2_reallocChangeReserve.html">realloc
</A><!-- lm: 0x2 12 -->
<BR>
<LI><!-- lm: 0x2 15 --><A HREF="311_L2__umallocReserveMemor.html"><LI>umalloc
</A><!-- lm: 0x2 10 -->
</UL>

<P><HR>

<A HREF="184_L2__makepathCreatePath.html">[Back: _makepath - Create Path]</A> <BR>
<A HREF="186_L2__matherrProcessMathL.html">[Next: _matherr - Process Math Library Errors]</A> 
</BODY>
</HTML>
