<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Dump Formatter Installation</TITLE>
</HEAD>
<BODY>
<H1>Dump Formatter Installation</H1><!-- entering slot 371 -->
<P>
The Dump Formatter  may be installed together with PMDF by using the installation
procedure supplied with the OS2PDP package. Alternatively copy the *.EXE
files to either a private directory or a directory in your current PATH.
 The only files the Dump Formatter  accesses implicitly are <A HREF="3289_L0_.html">Symbol
Files</A>, which if used, are convenient to have installed in the same directory
as the *.EXE program files. 
<P>
The command line syntax for Dump Formatter is as follows:
<PRE>
──┬─ DF_RET ─┬─ dumpfile ─┬───────────────┬─────────────────
    │          │            └─ -P pipname ──┘
    └─ DF_DEB ─┘


</PRE>

<P>
The parameters have the following meaning:<!-- lm: 0x2 1 -->
<UL>
<P>
<B><I>dumpfile</B></I><!-- lm: 0x11 11 -->
<UL> The file name of the (decompressed)
dump to be analysed. If a path is not prefixed to the file nape then the
Dump Formatter assumes the current path. See <A HREF="248_L2_DumpDecompression.html">Dump
Decompression</A> below.<!-- lm: 0x2 1 -->
</UL><B> -P</B><B><I>pipename
</B></I><!-- lm: 0x11 11 -->
<UL>The name of a named pipe through which
Dump Formatter output and commands are channelled.
<P>
<B>Note: </B> This parameter is intended for use when<B> df_ret.exe</B> or
<B>df_deb.exe</B> is started from another program using the DosExecPgm API.
<!-- lm: 0x2 11 --><!-- lm: 0x2 1 -->
</UL>
<P>
<B>Note: </B>
<P>
If no parameters are entered then the Dump Formatter give a syntax message.
This message implies that a COM port may also be used as an interface, but
this has not been implemented.<!-- lm: 0x2 1 -->
<P>

<P>
When the Dump Formatter is started it displays the build level of the system
from which the dump was taken and then the build level of the formatter.
If these do not match unpredictable results may occur. However, if the levels
are close then it is probably safe to use the Dump Formatter, though not
guaranteed.
<P>
If the incorrect type of Dump Formatter is used, for example retail Dump
Formatter with a<B> ALLSTRICT</B> dump, then the Dump Formatter will probably
trap. If it does not, then an error message will appear.
<P>
In general the dump formatter traps for one of three reasons:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->The reasons stated above, where there are type and
level mismatches.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->The dump file is incomplete or corrupted.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->The Dump Formatter stack overflows.<!-- lm: 0x2 1 -->
</UL>
<P>
The latter problem usually occurs when the <A HREF="378_L3_PDisplayProcessStatu.html">.P
command</A> is used. This is sometimes circumvented by using the<B> EXEDHR
</B>utility to increase the stack size of the Dump Formatter. Another approach
is to use the <A HREF="259_L3_ThePSEXEC.html"><B>%PS</B></A> REXX to display
each thread slot individually.
<P>
As part of the initialisation sequence, the Dump Formatter attempts to load
<A HREF="3289_L0_.html">symbol files</A>, from the current directory, for
each module that was loaded on the dumped system.
<P>
<B>Notes: </B><!-- lm: 0x2 6 -->
<UL>
<P>
Windows, WINOS2 and DOS symbol files are not usable under the Dump Formatter
However, the<B> SYMLST</B> REXX exec in the tools directory of the accompanying
CD-ROM may be used to list a symbol file. This can sometimes be used in
conjunction with the Dump Formatter provided that at least one location
of a module or its data can be determined absolutely.<!-- lm: 0x2 6 -->
<P>
Symbol files not present in the current directory may be manually loaded
using the <A HREF="314_L3_WWithmapAddRemove.html">WA command</A>. The syntax
and function of this command<!-- entering slot 372 --> differs subtly from
the Kernel Debugger equivalent:<!-- lm: 0x2 8 -->
<UL>
<P>
<LI><!-- lm: 0x2 11 -->Under Dump Formatter names are symbol file names
unlike Kernel Debugger where they are symbol map names. This allows relative
path names to be used.<!-- lm: 0x2 8 -->
<P>
<LI><!-- lm: 0x2 11 -->Under Dump Formatter<B> WA</B> reads the symbol file,
whereas under Kernel Debugger it is just marked active provided it was loaded
when the module was loaded.<!-- lm: 0x2 6 --><!-- lm: 0x2 1 -->
</UL><!-- lm: 0x2 1 -->
<P>

<P>
The Dump Formatter prompts for command input with a single<B> #</B> sign.
Unlike the Kernel Debugger this is not used to signify the processor mode
or whether paging is enabled. Consequently the Dump Formatter always assumes
that the current processor mode is Protect Mode with Paging Enabled. The
user must therefore explicitly prefix<B> segment:offset</B>  addresses in
Virtual 8089 mode with an ampersand (&amp;).
<P>
Commands may be interrupted by pressing the ESC key. 

<P><HR>

<A HREF="246_L2_TakingaSystemDump.html">[Back: Taking a System Dump]</A> <BR>
<A HREF="248_L2_DumpDecompression.html">[Next: Dump Decompression]</A> 
</BODY>
</HTML>
