<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Debug Terminal Set-up</TITLE>
</HEAD>
<BODY>
<H1>Debug Terminal Set-up</H1><!-- entering slot 324 -->
<P>
This section describes the connection and set-up of the debugging console.
You may need to know the operational requirements of both you local COM
port (on the MUT) and dumb ASCII terminal. Fortunately the debug kernel
does not impose any form of hand-shaking or a fixed COM speed setting. In
many cases default settings apply. First we discuss the cable requirements.

<P>
A null modem cabel is required to connect the MUT to the debug console.
This is essentially a 3-wire circuit that connects the two COM connectors
together. Some PCs are equipped with a 25-pin sockets, other 9-pin. A null
modem cable is a symetric circuit so we do not distinguish which is the
MUT and which the console.
<BR>
25-to-25 Pin Cable
<BR>

<PRE>
         MUT/CONSOLE   CONSOLE/MUT
         DB25J         DB25J

          ┌─┐           ┌─┐
          │2├───────────┤3│
          │3├───────────┤2│
          │7├───────────┤7│
          └─┘           └─┘
</PRE>

<P>

<BR>
25-to-9 Pin Cable
<BR>

<PRE>
         MUT/CONSOLE   CONSOLE/MUT
         DB25J         DB9J

          ┌─┐           ┌─┐
          │2├───────────┤2│
          │3├───────────┤3│
          │7├───────────┤5│
          └─┘           └─┘
</PRE>

<P>

<BR>
9-to-9 Pin Cable
<BR>

<PRE>
         MUT/CONSOLE   CONSOLE/MUT
         DB9J          DB9J

          ┌─┐           ┌─┐
          │2├───────────┤3│
          │3├───────────┤2│
          │5├───────────┤5│
          └─┘           └─┘
</PRE>

<P>
<B>Note: </B>
<P>
The three connections involved are:<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->RX (receive)<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->TX (transmit)<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->SG (Signal Ground)<!-- lm: 0x2 1 -->
</UL>
<P>
The null modem cable essentially connects RX-TX and SG-SG. The pin conventions
for RX and TX on a 25-pin connector reverse those of a 9-pin connect. Thus
the 25-9 connection looks like a non-null circuit.<!-- lm: 0x2 1 -->
<P>

<P>
If you intend to debug on a number of different set-ups then it is worth
equipping yourself with the following items, which are commercially available:
<!-- lm: 0x2 3 -->
<UL>
<P>
<LI><!-- lm: 0x2 6 -->Standard modem cable.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->A gender changer.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->A null modem convertor.<!-- lm: 0x2 3 -->
<P>
<LI><!-- lm: 0x2 6 -->A 25-9 pin convertor.<!-- lm: 0x2 1 -->
</UL>
<P>
With these items you should be able to cater for most variations and remote
connection as well.
<P>
The next thing to consider is the COM port settings. By default the debug
kernel will first select COM2. It that is in use then COM1. If you require
the debugger to use another COM port, or a non-standard I/O port address
then you might need to set this explicitely by using the <A HREF="320_L3_BSelecttheCommunicat.html">.B
command</A>, which should be entered in the <A HREF="218_L3_TheKDBINIInitialisat.html">KDB.INI
</A>initialisation file.
<P>
By default the kernel debugger initialises the selected COM port to run
at 9600 bits per second. If your debugging console requires a different
speed setting then you should convey this to the debug kernel using the
<A HREF="320_L3_BSelecttheCommunicat.html">.B command</A>, again entered
in the <A HREF="218_L3_TheKDBINIInitialisat.html">KDB.INI</A> file.
<P>
The default communications protocol uses 8 data bits, 1 stop bit and no
parity. If this needs to be different then it may be set using the <A HREF="306_L3_OOutputtoanIOPort.html">O
command</A> also entered in the <A HREF="218_L3_TheKDBINIInitialisat.html">KDB.INI
</A>file.
<P>
Finally some COM ports require the<B> DTR</B> signal to be held high before
allowing communication. If this is necessary then it can be set using the
debug kernel to write to the I/O port that controls the COM port set-up
register. This may be done using the the <A HREF="306_L3_OOutputtoanIOPort.html">O
command</A> entered in the <A HREF="218_L3_TheKDBINIInitialisat.html">KDB.INI
</A>file.
<P>
Examples of using these commands in<B> KDB.INI</B> is given in the next
section.
<P>
Having set up the COM port requirements on the MUT the debug console must
be set up to match. Precisely how this is done will depend on whether a
dumb terminal or teminal<!-- entering slot 325 --> emulator software is
used. If you use emulator software under OS/2 you may need to use the OS/2
MODE command</A> to select compatible COM port settings for the debugging
console's COM port.

<P><HR>

<A HREF="216_L3_InstallingtheDebugKe.html">[Back: Installing the Debug Kernel]</A> <BR>
<A HREF="218_L3_TheKDBINIInitialisat.html">[Next: The KDB.INI Initialisation File]</A> 
</BODY>
</HTML>
