<HTML>
<HEAD>
<TITLE>The KDB.INI Initialisation File</TITLE>
</HEAD>
<BODY>
<H1>The KDB.INI Initialisation File</H1><!-- entering slot 326 -->
<P>
The debug kernel normally only accepts commands enetered at the debugging
console. However, during system initialisation it will accept commands entered
into a text file, which if used, must be called<B> KDB.INI</B> and reside
in the root directory of the boot drive.
<P>
The<B> KDB.INI</B> file is read after the kernel has loaded and the kernel
symbols are loaded and the system is running in protect mode.
<P>
<B>Warning:</B>
<P>
The content of the<B> KDB.INI</B> file is somewhat sensitive. If you make
a syntax or format error then you may hang the system and have to re-boot
from installation diskettes to recover.
<P>
On most systems the use of a KDB.INI file is not required to establish correct
operation of the COM port and should be avioded.
<P>

<P>
Each command must be terminated with a &lt;CR&gt;&lt;LF&gt; pair except
the last in the file.
<P>
The<B> KDB.INI</B> is most easily created using:
<PRE>        COPY CON: KDB.INI
</PRE>

<P>
Enter the commands you require, using the &lt;RETURN&gt; key after each
command except the last. For the final command, teminate it using the sequence:
Ctrl-Z &lt;RETURN&gt;.
<P>
<B>Note: </B>
<P>
Use of an editor for creating<B> KDB.INI</B> may not be suitable if the
&lt;CR&gt;&lt;LF&gt; sequence cannot be suppressed from the last line.<!-- lm: 0x2 1 -->
<UL>
<P>

<P>
The following example hows how to select COM3 at 1200 bps, with DTR held
high and to prepare the debugger to intercept any ring 2 or 3 traps.
<PRE>     .b 1200t 3e8
     O 3ec 1
     vsf *
     g
</PRE>

<P>
<B>Notes: </B>
<P>
Since the default arithmetic base for the debugger is hexadecimal a<B> t
</B>suffix is required if the COM port speed is specified in decimal as
in the example.
<P>
We have assumed a standard port address asignment for COM3, namely 3e8 for
data register and 3ec for control register.
<P>
The <A HREF="313_L3_VExceptionTrapFaultV.html">VSF command</A> causes the
debugger to intercept all ring2 and ring3 traps and give control to the
debug console.
<P>
The <A HREF="299_L3_GGo.html">G command</A> is required unless you want
to enter the debugger as soon as the kernel has entered protect mode, loaded
its symbol file and executed the<B> KDB.INI</B> file.<!-- lm: 0x2 1 -->
<P>


<P><HR>

<A HREF="217_L3_DebugTerminalSetup.html">[Back: Debug Terminal Set-up]</A> <BR>
<A HREF="219_L2_KernelDebuggerRemote.html">[Next: Kernel Debugger Remote Set-up]</A> 
</BODY>
</HTML>
