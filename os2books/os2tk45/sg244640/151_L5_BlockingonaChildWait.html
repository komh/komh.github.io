<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Blocking on a ChildWait</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Blocking on a ChildWait</H1><!-- entering slot 191 -->
<P>
When a process calls<B> DosWaitChild</B> and blocks waiting for a child
process to terminate, the BlockId is of the form:
<PRE>
     ffcapppp        where pppp is the process id of the waiting
                     thread.


</PRE>

<P>
The BlockId doesn't help us pin-point the processes being waited for.
<P>
All the child process have to be examined. The process status byte at offset
0xa into the Local information segment has either of the following bits
set if the parent cares about termination of the child:<!-- lm: 0x2 1 -->
<UL>
<P>
0x10<!-- lm: 0x2 11 -->
<UL> The parent cares<!-- lm: 0x2 1 -->
</UL> 0x20
<!-- lm: 0x2 11 -->
<UL>The parent did an exec-and-wait<!-- lm: 0x2 1 -->
</UL>
<P>
The local information segment is embedded in the PTDA at the following offsets:
<!-- lm: 0x2 1 -->
<P>
0x7ee<!-- lm: 0x2 11 -->
<UL> Retail 2.11<!-- lm: 0x2 1 -->
</UL> 0x7f6
<!-- lm: 0x2 11 -->
<UL>Debug 2.11<!-- lm: 0x2 1 -->
</UL> 0x5be<!-- lm: 0x2 11 -->
<UL> Retail
3.0<!-- lm: 0x2 1 -->
</UL> 05c6<!-- lm: 0x2 11 -->
<UL> Debug 3.0<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="150_L6_ResidentHeapBlocks.html">[Back: Resident Heap Blocks]</A> <BR>
<A HREF="152_L5_BlockingonaRAMSEM.html">[Next: Blocking on a RAMSEM]</A> 
</BODY>
</HTML>
