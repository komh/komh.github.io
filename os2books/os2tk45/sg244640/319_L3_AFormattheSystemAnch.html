<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>.A - Format the System Anchor Segment (SAS)</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>.A - Format the System Anchor Segment (SAS)</H1><!-- entering slot 462 --><!-- Unable to decode bitmap format --><IMG SRC="319_L3_AFormattheSystemAnch_111.gif" WIDTH=32 HEIGHT=32>
<P>
Format the System Anchor Segment (<A HREF="3294_L0_.html">SAS</A>).
<P>
<U><I>Syntax:</I></U>
<PRE>

────.A ───────────────────────────────────────────────────────


</PRE>

<P>
<U><I>Parameters:</I></U>
<P>
<I>none</I>
<P>
<U><I>Results &amp; Notes:</I></U>
<P>
The SAS is located from either GTD selector 70 or 78.
<P>
<B>.A</B> displays the following information:
<PRE>
--- SAS Base Section ---
                      SAS signature: SAS
           offset to tables section: 0016
      FLAT selector for kernel data: 0168
    offset to configuration section: 001E
    offset to device driver section: 0020
   offset to Virtual Memory section: 002C
          offset to Tasking section: 005C
              offset to RAS section: 006E
      offset to File System section: 0074
          offset to infoseg section: 0080
--- SAS Protected Modes Tables Section ---
                   selector for GDT: 0008
                   selector for LDT: 0000
                   selector for IDT: 0018
               selector for GDTPOOL: 0100
--- SAS Device Driver Section ---
    offset for the first bimodal dd: 0CB9
  offset for the first real mode dd: 0000
      sel for Drive Parameter Block: 04C8
       sel for ABIOS prot. mode CDA: 0000
        seg for ABIOS real mode CDA: 0000
                   selector for FSC: 00C8
--- SAS Task Section ---
          selector for current PTDA: 0030
  FLAT offset for process tree head: FFF10910
 FLAT address for TCB address array: FFF06BB6
      offset for current TCB number: FFDFFB5E
             offset for ThreadCount: FFDFFB62
--- SAS File System Section ---
                handle to MFT PTree: FE72CFBC
     selector for System File Table: 00C0
     sel. for Volume Parameter Bloc: 0788
   sel. for Current Directory Struc: 07B8
        selector for buffer segment: 00A8
--- SAS Information Segment Section ---
       selector for global info seg: 0428
   address of curtask local infoseg: 03C80000
      address of DOS task's infoseg: FFFFFFFF
         selector for Codepage Data: 07CB
--- SAS RAS Section ---
selector for System Trace Data Area: 04B0
 segment for System Trace Data Area: 04B0
        offset for trace event mask: 0B28
--- SAS Configuration Section ---
    offset for Device Config. Table: 0D50
--- SAS Virtual Memory Mgt. Section ---
       Flat offset of arena records: FFF13304
      Flat offset of object records: FFF1331C
     Flat offset of context records: FFF1330C
  Flat offset of kernel mte records: FFF0A891
     Flat offset of linked mte list: FFF07934
    Flat offset of page frame table: FFF11A70
    Flat offset of page range table: FFF111EC
    Flat offset of swap frame array: FFF03BAC
           Flat offset of Idle Head: FFF10090
           Flat offset of Free Head: FFF10080
          Flat offset of Heap Array: FFF11B78
     Flat offset of all mte records: FFF12E04

</PRE>

<P>
Each of the items displayed has the following significance:<!-- lm: 0x2 1 -->
<UL>
<P>
<B><LI><LI><LI>SAS Base Section ---</B><!-- lm: 0x11 11 -->
<UL> Marks the
beginning of the<B> SAS</B> header section.<!-- lm: 0x2 1 -->
</UL><B> SAS
signature</B><!-- lm: 0x11 11 -->
<UL><B> SAS</B> signature from<B> SAS_signature
</B>(SAS+0x0). Always set to character value "SAS ".<!-- lm: 0x2 1 -->
</UL><B> offset
to tables section</B><!-- lm: 0x11 11 -->
<UL> Offset from SAS selector
to the protected mode tables section.
<P>
Taken from<B> SAS_tables_data</B> (SAS+0x4).<!-- lm: 0x2 1 -->
</UL><B> FLAT
selector for kernel data</B><!-- lm: 0x11 11 -->
<UL> Selector for 4G Read/Write
addressability.
<P>
Taken from<B> SAS_flat_sel</B> (SAS+0x6).<!-- lm: 0x2 1 -->
</UL><B> offset
to configuration section</B><!-- lm: 0x11 11 -->
<UL> Offset from SAS selector
to the configuration tables section.
<P>
Taken from<B> SAS_config_data</B> (SAS+0x8).<!-- lm: 0x2 1 -->
</UL><B> offset
to device driver section</B><!-- lm: 0x11 11 -->
<UL> Offset from SAS selector
to the device driver section.
<P>
Taken from<B> SAS_dd_data</B> (SAS+0xa).<!-- lm: 0x2 1 -->
</UL><B> offset
to Virtual Memory section</B><!-- lm: 0x11 11 -->
<UL> Offset from SAS selector
to the Virtual Memory section.
<P>
Taken from<B> SAS_vm_data</B> (SAS+0xc).<!-- lm: 0x2 1 -->
</UL><B> offset
to Tasking section</B><!-- lm: 0x11 11 -->
<UL> Offset from SAS selector
to the Tasking section.
<P>
Taken from<B> SAS_task_data</B> (SAS+0xe).<!-- lm: 0x2 1 -->
</UL><B> offset
to RAS section</B><!-- lm: 0x11 11 -->
<UL> Offset from SAS selector to
the RAS data section.
<P>
Taken from<B> SAS_RAS_data</B> (SAS+0x10).<!-- lm: 0x2 1 -->
</UL><B> offset
to File System section</B><!-- lm: 0x11 11 -->
<UL> Offset from SAS selector
to the File System section.
<P>
Taken from<B> SAS_file_data</B> (SAS+0x12).<!-- lm: 0x2 1 -->
</UL><B> offset
to infoseg section</B><!-- lm: 0x11 11 -->
<UL> Offset from SAS selector
to the Infoseg section.
<P>
Taken from<B> SAS_info_data</B> (SAS+0x1e).<!-- lm: 0x2 1 -->
</UL><B> ---
SAS Protected Modes Tables Section --</B><!-- lm: 0x11 11 -->
<UL> Marks
the beginning of the protected mode tables section<!-- lm: 0x2 1 -->
</UL><B> selector
for GDT</B><!-- lm: 0x11 11 -->
<UL> GDT selector that maps the GDT.
<P>
Taken from<B> SAS_tbl_GDT</B> (SAS_tables_section+0x0).<!-- lm: 0x2 1 -->
</UL><B> selector
for LDT</B><!-- lm: 0x11 11 -->
<UL> No longer used.
<P>
Taken from<B> SAS_tbl_LDT</B> (SAS_tables_section+0x2).<!-- lm: 0x2 1 -->
</UL><B> selector
for IDT</B><!-- lm: 0x11 11 -->
<UL> GDT selector that maps the IDT
<P>
Taken from<B> SAS_tbl_IDT</B> (SAS_tables_section+0x4).<!-- lm: 0x2 1 -->
</UL><B> selector
for GDTPOOL</B><!-- lm: 0x11 11 -->
<UL> First GTD selector in selector
pool.<!-- entering slot 463 --> I.e first non-predefined GDT selector.
<P>
Taken from<B> SAS_tbl_GDTPOOL</B> (SAS_tables_section+0x6).<!-- lm: 0x2 1 -->
</UL><B> ---
SAS Device Driver Section --</B><!-- lm: 0x11 11 -->
<UL> Marks the beginning
of the Device Driver Section<!-- lm: 0x2 1 -->
</UL><B> offset for the first
bimodal dd</B><!-- lm: 0x11 11 -->
<UL> Offset from SAS selector to the
first device driver header in the device driver chain.
<P>
See <A HREF="322_L3_DDisplayanOS2SystemS.html">.D command</A> for formatting
device driver headers.
<P>
Taken from<B> SAS_dd_bimodal_chain</B> (SAS_dd_section+0x0).<!-- lm: 0x2 1 -->
</UL><B> offset
for the first real mode dd</B><!-- lm: 0x11 11 -->
<UL> No longer used.

<P>
Taken from<B> SAS_dd_real_chain</B> (SAS_dd_section+0x2).<!-- lm: 0x2 1 -->
</UL><B> sel
for Drive Parameter Block</B><!-- lm: 0x11 11 -->
<UL> Selector that points
to the head of the <A HREF="3304_L0_.html">DPB</A> chain.
<P>
See <A HREF="322_L3_DDisplayanOS2SystemS.html">.D command</A> for formatting
<B>DPBs</B>.
<P>
Taken from<B> SAS_dd_DPB_segment</B> (SAS_dd_section+0x4).<!-- lm: 0x2 1 -->
</UL><B> sel
for ABIOS prot. mode CDA</B><!-- lm: 0x11 11 -->
<UL> Selector for ABIOS
protect mode CDA.
<P>
See <A HREF="321_L3_CDisplaytheCommonABI.html">.C command</A> for displaying
CDA information.
<P>
Taken from<B> SAS_dd_CDA_anchor_p</B> (SAS_dd_section+0x6).<!-- lm: 0x2 1 -->
</UL><B> seg
for ABIOS real mode CDA</B><!-- lm: 0x11 11 -->
<UL> Segment for ABIOS real
mode CDA. See <A HREF="321_L3_CDisplaytheCommonABI.html">.C command</A> for
displaying CDA information.
<P>
Taken from<B> SAS_dd_CDA_anchor_r</B> (SAS_dd_section+0x8).<!-- lm: 0x2 1 -->
</UL><B> selector
for FSC</B><!-- lm: 0x11 11 -->
<UL> Selector for the <A HREF="3302_L0_.html">FSC
segment</A>.
<P>
Taken from<B> SAS_dd_FSC</B> (SAS_dd_section+0x2).<!-- lm: 0x2 1 -->
</UL><B> ---
SAS Task Section --</B><!-- lm: 0x11 11 -->
<UL> Marks the beginning of
the tasking section<!-- lm: 0x2 1 -->
</UL><B> selector for current PTDA
</B><!-- lm: 0x11 11 -->
<UL>Selector for the current PTDA and ring 0 stack.

<P>
Taken from<B> SAS_task_PTDA</B> (SAS_task_section+0x0).<!-- lm: 0x2 1 -->
</UL><B> FLAT
offset for process tree head</B><!-- lm: 0x11 11 -->
<UL> Linear address
of<B> _pPTDAFirst</B>, which contains the linear address of the <A HREF="3335_L0_.html">PTDA
</A>that heads the PTDA tree.
<P>
Taken from<B> SAS_task_ptdaptrs</B> (SAS_task_section+0x2).<!-- lm: 0x2 1 -->
</UL><B> FLAT
address for TCB address array</B><!-- lm: 0x11 11 -->
<UL> Linear address
of<B> _papTCBSlots</B>, which contains the linear address of the <A HREF="3345_L0_.html">TCB
</A>array.
<P>
Taken from<B> SAS_task_threadptrs</B> (SAS_task_section+0x6).<!-- lm: 0x2 1 -->
</UL><B> offset
for current TCB number</B><!-- lm: 0x11 11 -->
<UL> Linear address of<B> _TaskNumber</B>,
which contains the current <A HREF="3320_L0_.html">thread slot number</A>.

<P>
Taken from<B> SAS_task_tasknumber</B> (SAS_task_section+0xa).<!-- lm: 0x2 1 -->
</UL><B> offset
for ThreadCount</B><!-- lm: 0x11 11 -->
<UL> Linear address of<B> _ThreadCount</B>,
which contains the highest thread slot number in use - 1.
<P>
Taken from<B> SAS_task_threadcount</B> (SAS_task_section+0xe).<!-- lm: 0x2 1 -->
</UL><B> ---
SAS File System Section --</B><!-- lm: 0x11 11 -->
<UL> Marks the beginning
of the File System Section<!-- lm: 0x2 1 -->
</UL><B> handle to MFT PTree
</B><!-- lm: 0x11 11 -->
<UL>Linear address of the head of the <A HREF="3293_L0_.html">Ptree
</A>for the <A HREF="3295_L0_.html"></A>.
<P>
See <A HREF="322_L3_DDisplayanOS2SystemS.html">.D command</A> for formatting
<B>MPTs</B>.
<P>
Taken from<B> SAS_file_MFT</B> (SAS_file_section+0x0).<!-- lm: 0x2 1 -->
</UL><B> selector
for System File Table</B><!-- lm: 0x11 11 -->
<UL> Selector for the segment
containing a table of selectors that point to tables of <A HREF="3297_L0_.html">SFTs</A>.
Each SFT table contains an 8 byte header followed by contiguous SFT entries.

<P>
See <A HREF="322_L3_DDisplayanOS2SystemS.html">.D command</A> for formatting
<B>SFTs</B>.
<P>
Taken from<B> SAS_file_SFT</B> (SAS_file_section+0x4).<!-- lm: 0x2 1 -->
</UL><B> sel.
for Volume Parameter Bloc</B><!-- lm: 0x11 11 -->
<UL> This is the selector
for the work buffer used by volume mount processing.
<P>
Taken from<B> SAS_file_VPB</B> (SAS_file_section+0x6).
<P>
<B>Note: </B>
<P>
The selector for the <A HREF="3299_L0_.html">VPB</A> segment is not given
by this field. It may be located from the selector named by global variable
<B>GDT_VPB</B>  See <A HREF="322_L3_DDisplayanOS2SystemS.html">.D command
</A>for formatting<B> VPBs</B>.<!-- lm: 0x2 11 --><!-- lm: 0x2 1 -->
</UL><B> sel.
for Current Directory Struc</B><!-- lm: 0x11 11 -->
<UL> Selector for the
<A HREF="3325_L0_.html">RMP</A> segment containing <A HREF="3300_L0_.html">CDS
</A>structures.
<P>
See <A HREF="322_L3_DDisplayanOS2SystemS.html">.D command</A> for formatting
<B>CDSs</B>.
<P>
Taken from<B> SAS_file_CDS</B> (SAS_file_section+0x8).<!-- lm: 0x2 1 -->
</UL><B> selector
for buffer segment</B><!-- lm: 0x11 11 -->
<UL> Selector for the file system
buffer segment.
<P>
Taken from<B> SAS_file_buffers</B> (SAS_file_section+0xa).<!-- lm: 0x2 1 -->
</UL><B> ---
SAS Information Segment Section --</B><!-- lm: 0x11 11 -->
<UL> Marks the
beginning of the Information Section.<!-- lm: 0x2 1 -->
</UL><B> selector
for global info seg</B><!-- lm: 0x11 11 -->
<UL> Selector for the Global
Information Segment (<A HREF="3281_L0_.html">GISEG</A>).
<P>
Taken from<B> SAS_info_global</B> (SAS_info_section+0x0).<!-- lm: 0x2 1 -->
</UL><B> address
of curtask local infoseg</B><!-- lm: 0x11 11 -->
<UL> 16:16 far pointer
for the current Local Information Segment (<A HREF="3281_L0_.html">LISEG</A>).

<P>
Taken from<B> SAS_info_global</B> (SAS_info_section+0x2).<!-- lm: 0x2 1 -->
</UL><B> address
of DOS task's infoseg</B><!-- lm: 0x11 11 -->
<UL> Real mode local information
segment pointer (unused).
<P>
Taken from<B> SAS_info_localRM</B> (SAS_info_section+0x6).<!-- lm: 0x2 1 -->
</UL><B> selector
for Codepage Data</B><!-- lm: 0x11 11 -->
<UL> Selector for the segment
containing the <A HREF="3301_L0_.html">Code Page Data Information Block
</A>(CDIB).
<P>
Taken from<B> SAS_info_CDIB</B> (SAS_info_section+0xa).<!-- lm: 0x2 1 -->
</UL><B> ---
SAS RAS Section --</B><!-- lm: 0x11 11 -->
<UL> Marks the beginning of the
RAS section<!-- lm: 0x2 1 -->
</UL><B> selector for System Trace Data Area
</B><!-- lm: 0x11 11 -->
<UL>Selector for the <A HREF="3276_L0_.html">STDA
</A>trace buffer.
<P>
Taken from<B> SAS_RAS_STDA_p</B>
<P>
See <A HREF="388_L3_TDumptheSystemTraceB.html">.T command</A> for formatting
the system trace buffer. (SAS_RAS_section+0x0).<!-- lm: 0x2 1 -->
</UL><B> segment
for System Trace Data Area</B><!-- lm: 0x11 11 -->
<UL> Selector for the
<A HREF="3276_L0_.html">STDA</A> trace buffer.
<P>
Taken from<B> SAS_RAS_STDA_r</B> (SAS_RAS_section+0x2).
<P>
The same value is stored in both<B> SAS_RAS_STDA_p</B> and<B> SAS_RAS_STDA_r</B>.
<!-- lm: 0x2 1 -->
</UL><B>offset for trace event mask</B><!-- lm: 0x11 11 -->
<UL> Offset
from the<B> SAS</B> to the trace major event codes table (<B>ras_mec_table).
</B>
<P>
Taken from<B> SAS_RAS_event_mask</B> (SAS_RAS_section+0x4).<!-- lm: 0x2 1 -->
</UL><B> ---
SAS Configuration Section --</B><!-- lm: 0x11 11 -->
<UL> Marks the beginning
of the Configuration section<!-- lm: 0x2 1 -->
</UL><B> offset for Device
Config. Table</B><!-- lm: 0x11 11 -->
<UL> Offset from the<B> SAS</B> to
the device configuration table.
<P>
Taken from<B> SAS_config_table</B> (SAS_config_section+0x0).<!-- lm: 0x2 1 -->
</UL><B> ---
SAS Virtual Memory Mgt. Section --</B><!-- lm: 0x11 11 -->
<UL> Marks the
beginning of the Virtual Memory Management section<!-- lm: 0x2 1 -->
</UL><B> Flat
offset of arena records</B><!-- lm: 0x11 11 -->
<UL> The linear address
of<B> _parvmOne</B>, the linear address of the first VM arena record (<A HREF="3339_L0_.html">VMAR</A>).

<P>
See <A HREF="340_L3_MAFormatMemoryArenaR.html">.MA command</A> for related
information.
<P>
Taken from<B> SAS_vm_arena</B> (SAS_vm_section+0x0).<!-- lm: 0x2 1 -->
</UL><B> Flat
offset of object records</B><!-- lm: 0x11 11 -->
<UL> The linear address
of<B> _pobvmOne</B>, the linear address of the first VM object record (<A HREF="3334_L0_.html">VMOB</A>).

<P>
See <A HREF="361_L3_MOFormatMemoryObject.html">.MO command</A> for related
information.
<P>
Taken from<B> SAS_vm_object</B> (SAS_vm_section+0x4).<!-- lm: 0x2 1 -->
</UL><B> Flat
offset of context records</B><!-- lm: 0x11 11 -->
<UL> The linear address
of<B> _pcovmOne</B>, the linear address of the first VM context record (<A HREF="3333_L0_.html">VMCO</A>).

<P>
See <A HREF="351_L3_MCFormatMemoryContex.html">.MC command</A> for related
information.
<P>
Taken from<B> SAS_vm_context</B> (SAS_vm_section+0x8).<!-- lm: 0x2 1 -->
</UL><B> Flat
offset of kernel mte records</B><!-- lm: 0x11 11 -->
<UL> The linear address
of<B> _DosModMTE</B>, the kernel (<B>DOSCALLS.DLL</B>) <A HREF="3342_L0_.html">MTE</A>.

<P>
See <A HREF="338_L3_LMFormatLoaderStruct.html">.LM command</A> for related
information.
<P>
Taken from<B> SAS_vm_krnl_mte</B> (SAS_vm_section+<!-- entering slot 464 -->0xc
) .<!-- lm: 0x2 1 -->
</UL><B>Flatoffsetoflinkedmtelist</B><!-- lm: 0x11 11 -->
<UL>Thelinearaddressof<B>_
global _ h</B> ,thelinearaddressoftheheadofthe<A HREF="3342_L0_.html">MTE</A>chainoflinklibrarymodules
.
<P>
See <A HREF="338_L3_LMFormatLoaderStruct.html">.LM command</A> for related
information.
<P>
Taken from<B> SAS_vm_glbl_mte</B> (SAS_vm_section+0x10).<!-- lm: 0x2 1 -->
</UL><B> Flat
offset of page frame table</B><!-- lm: 0x11 11 -->
<UL> The linear address
of<B> _pft</B>, the linear address of the first (frame 0) page frame structure
(<A HREF="3330_L0_.html">PF</A>).
<P>
See <A HREF="367_L3_MPFormatMemoryPageFr.html">.MP command</A> for related
information.
<P>
Taken from<B> SAS_vm_pft</B> (SAS_vm_section+0x14).<!-- lm: 0x2 1 -->
</UL><B> Flat
offset of page range table</B><!-- lm: 0x11 11 -->
<UL> The linear address
of<B> _pgPageablePAI</B>, the pageable <A HREF="3277_L0_.html">PAI</A>.
The first double word of the PAI points to the page range table.
<P>
Taken from<B> SAS_vm_prt</B> (SAS_vm_section+0x18).<!-- lm: 0x2 1 -->
</UL><B> Flat
offset of swap frame array</B><!-- lm: 0x11 11 -->
<UL> The linear address
of<B> _smbmDF</B>, the linear address of swap frame allocation bit map followed
by<B> _smFileSize</B>, the swap file size word length value in pages.
<P>
Taken from<B> SAS_vm_swap</B> (SAS_vm_section+0x1c).<!-- lm: 0x2 1 -->
</UL><B> Flat
offset of Idle Head</B><!-- lm: 0x11 11 -->
<UL> The linear address of<B> _pgIdleList</B>,
which points to the pseudo-PF at the head of the idle <A HREF="3330_L0_.html">PF
</A>list.
<P>
See <A HREF="369_L4_IdlePageFrameStructu.html">Idle Page Frame Structures
</A>for more information locating Idle Page Frame Structures.
<P>
See <A HREF="367_L3_MPFormatMemoryPageFr.html">.MP command</A> for related
information.
<P>
Taken from<B> SAS_vm_idle_head</B> (SAS_vm_section+0x20).<!-- lm: 0x2 1 -->
</UL><B> Flat
offset of Free Head</B><!-- lm: 0x11 11 -->
<UL> The linear address of<B> _pgFreeList</B>,
which points to the pseudo-PF at the head of the free <A HREF="3330_L0_.html">PF
</A>list.
<P>
See <A HREF="368_L4_FreePageFrameStructu.html">Free Page Frame Structures
</A>for more information locating Free Page Frame Structures.
<P>
See <A HREF="367_L3_MPFormatMemoryPageFr.html">.MP command</A> for related
information.
<P>
Taken from<B> SAS_vm_free_head</B> (SAS_vm_section+0x24).<!-- lm: 0x2 1 -->
</UL><B> Flat
offset of Heap Array</B><!-- lm: 0x11 11 -->
<UL> The linear address of
<B>_apkh</B>, the array of <A HREF="3338_L0_.html">VMKH</A> kernel heap
header structures. Note: the first entry is unused.
<P>
Taken from<B> SAS_vm_heap_info</B> (SAS_vm_section+0x28).<!-- lm: 0x2 1 -->
</UL><B> Flat
offset of all mte records</B><!-- lm: 0x11 11 -->
<UL> The linear address
of<B> _mte_h</B>, which is the linear address of the head of the <A HREF="3342_L0_.html">MTE
</A>chain.
<P>
See <A HREF="338_L3_LMFormatLoaderStruct.html">.LM command</A> for related
information.
<P>
Taken from<B> SAS_vm_all_mte</B> (SAS_vm_section+0x2c).<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="318_L3_ShowExternalCommandH.html">[Back: .? - Show External Command Help]</A> <BR>
<A HREF="320_L3_BSelecttheCommunicat.html">[Next: .B - Select the Communications Port and Speed]</A> 
</BODY>
</HTML>
