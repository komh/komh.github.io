<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Per Arena Page Table Data for OS/2 Warp V4.0 and OS/2 Warp V3.0</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Per Arena Page Table Data for OS/2 Warp V4.0 and OS/2 Warp V3.0</H1><!-- entering slot 3392 -->
<P>
For<B> PGDATA</B> formats for other versions of OS/2 see:<!-- lm: 0x2 6 -->
<UL>
<P>
<A HREF="3151_L4_PerArenaPageTableDat.html"><B>PGDATA</B> for OS/2 Warp
3.0 SMP</A><!-- lm: 0x2 1 -->
</UL>
<P>
<!-- lm: 0x2 1 -->
<P>
<B>Pointers</B><!-- lm: 0x11 11 -->
<UL> For private arenas,<B> ptda_ppgdata</B>.
<!-- lm: 0x2 1 -->
</UL><B>Locations</B><!-- lm: 0x11 11 -->
<UL> System
Arena.
<P>
For private data, a PGDATA structure is imbedded in each process' <A HREF="3335_L0_.html">PTDA
</A>at (<B>ptda_pgdata</B> +0x80).
<P>
For the Global Shared Region the PGDATA structure is located at public symbol
<B>_pgShrData</B>.
<P>
For the System Arena the PGDATA structure is located at public symbol<B> _pgData</B>.

<P>
The tables of PTE counts pointed to by<B> pd_pcalloc</B>,<B> pd_pcpresent
</B>and<B> pd_pcresident</B> are located as follows:<!-- lm: 0x2 11 -->
<P>
System arena:<!-- lm: 0x11 26 -->
<UL><!-- lm: 0x2 26 --><B> pd_pcalloc
</B><!-- lm: 0x11 41 -->
<UL>Located at public symbol<B> _pgcPteAllocated
</B><!-- lm: 0x2 26 -->
</UL><B>pd_pcpresent</B><!-- lm: 0x11 41 -->
<UL> Located at public symbol
<B>_pgcPtePresent</B><!-- lm: 0x2 26 -->
</UL><B>pd_pcresident</B><!-- lm: 0x11 41 -->
<UL> Located at public symbol
<B>_pgcPteResident</B><!-- lm: 0x2 26 --><!-- lm: 0x2 11 -->
</UL>Global System Region:<!-- lm: 0x11 26 -->
<UL><!-- lm: 0x2 26 --><B> pd_pcalloc
</B><!-- lm: 0x11 41 -->
<UL>Located at public symbol<B> _pgcShrPteAllocated
</B><!-- lm: 0x2 26 -->
</UL><B>pd_pcpresent</B><!-- lm: 0x11 41 -->
<UL> Located at public symbol
<B>_pgcShrPtePresent</B><!-- lm: 0x2 26 -->
</UL><B>pd_pcresident</B><!-- lm: 0x11 41 -->
<UL> Located at public symbol
<B>_pgcShrPteResident</B><!-- lm: 0x2 26 --><!-- lm: 0x2 11 -->
</UL>Private Data:<!-- lm: 0x11 26 -->
<UL> All three tables are imbedded
contiguously within the<B> PTDA</B> at<B> ptda_pgc</B>.<!-- lm: 0x2 11 -->
</UL><B> Note:
 </B>The tables pointed to by<B> pd_ppde</B>,<B> pd_ppte</B>,<B> pd_pcalloc</B>,
<B>pd_pcpresent</B> and<B> pd_pcresident</B> are indexed relative to the
base virtual page number (<B>pd_base</B>) of the region.<!-- lm: 0x2 11 --><!-- lm: 0x2 1 -->
</UL><B> VM
Owners</B>.<!-- lm: 0x11 11 -->
<UL><B> ptda (0xffcb)</B><B> os2krnl (0xffaa)
</B><!-- lm: 0x2 1 -->
</UL> 
<P>
<B><A HREF="3252_L0_.html">Format</A></B> 
<P>
<B>PGDATA</B> Per Arena Page Table Data.
<PRE>┌────────────────┬────┬────────┬────┬────────────────────────────────────────┐│<I>Field Name</I>      │<I>Off</I> │<I>Length</I>  │<I>Type</I>│<I>Description</I>                             │
├────────────────┼────┼────────┼────┼────────────────────────────────────────┤
│pd_ppte         │+0  │4       │D   │pointer to ptes                         │
├────────────────┼────┼────────┼────┼────────────────────────────────────────┤
│pd_ppde         │+4  │4       │D   │pointer to pdes                         │
├────────────────┼────┼────────┼────┼────────────────────────────────────────┤
│pd_pcalloc      │+8  │4       │D   │pointer to (word) counts of allocated   │
│                │    │        │    │ptes per pde                            │
├────────────────┼────┼────────┼────┼────────────────────────────────────────┤
│pd_pcpresent    │+c  │4       │D   │pointer to (word) counts of present ptes│
│                │    │        │    │per pde                                 │
├────────────────┼────┼────────┼────┼────────────────────────────────────────┤
│pd_pcresident   │+10 │4       │D   │pointer to (word) counts of             │
│                │    │        │    │locked/resident ptes                    │
├────────────────┼────┼────────┼────┼────────────────────────────────────────┤
│pd_base         │+14 │4       │D   │base virtual page number                │
├────────────────┼────┼────────┼────┼────────────────────────────────────────┤
│pd_pvdmalias    │+18 │4       │D   │base of vdm alias region                │
├────────────────┼────┼────────┼────┼────────────────────────────────────────┤
│pd_maxpde       │+1c │2       │W   │max potential pdes for this arena       │
├────────────────┼────┼────────┼────┼────────────────────────────────────────┤
│pd_cpdelow      │+1e │2       │W   │count of low in-use pdes                │
├────────────────┼────┼────────┼────┼────────────────────────────────────────┤
│pd_cpdehigh     │+20 │2       │W   │count of high in-use pdes               │
├────────────────┼────┼────────┼────┼────────────────────────────────────────┤
│pd_ptcontext    │+22 │2       │W   │page table context                      │
├────────────────┼────┼────────┼────┼────────────────────────────────────────┤
│pd_flags        │+24 │2       │W   │per-process page manager flags          │
└────────────────┴────┴────────┴────┴────────────────────────────────────────┘
</PRE>

<P>
<B>pd_flags</B> flag definitions: 
<PRE>┌──────────────┬────────┬──────────────────────────────┐
│Name          │Bit Mask│Description                   │
├──────────────┼────────┼──────────────────────────────┤
│PD_AGINGNEEDED│1       │process not aged in this sweep│
├──────────────┼────────┼──────────────────────────────┤
│PD_FREE       │2       │                              │
└──────────────┴────────┴──────────────────────────────┘
</PRE>


<P><HR>

<A HREF="3149_L3_PhysicalArenaInforma.html">[Back: Physical Arena Information Structures]</A> <BR>
<A HREF="3151_L4_PerArenaPageTableDat.html">[Next: Per Arena Page Table Data for OS/2 Warp 3.0 SMP]</A> 
</BODY>
</HTML>
