<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>KSEM Structures for OS/2 Warp V4.0 and .OS/2 Warp V3.0 ALLSTRICT kernel</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>KSEM Structures for OS/2 Warp V4.0 and .OS/2 Warp V3.0 ALLSTRICT kernel</H1><!-- entering slot 3369 -->
<P>
For<B> KSEM</B>  formats for other versions of OS/2 see:<!-- lm: 0x2 6 -->
<UL>
<P>
<A HREF="3129_L4_KSEMStructuresforOS2.html"><B>KSEM</B> for OS/2 Warp V4.0
and OS/2 Warp V3.0 RETAIL kernel</A><!-- lm: 0x2 1 -->
</UL> 
<P>
<!-- lm: 0x2 1 -->
<P>
<B>Locations</B><!-- lm: 0x11 11 -->
<UL> Multiple, either imbeded in system
structres, for example PTDA, MFT, or dynamically allocated from the kernel
heaps.<!-- lm: 0x2 1 -->
</UL><B> VM Owner</B><!-- lm: 0x11 11 -->
<UL> Imbedded
KSEMs assume the Owner Id of the imbedding structure. Stand-alone KSEMs
allocated from the kernel heaps use id:<B> ksem (0xff7e)</B><!-- lm: 0x2 1 -->
</UL> 
<P>
<B><A HREF="3252_L0_.html">Format</A></B> 
<P>
<U><I>KSEMSHR</I></U> Shared Kernel Semaphore
<PRE>┌─────────────────────────┬────────┬────────┬────────┬────────────────────┐│<I>Field Name</I>               │<I>Off</I>     │<I>Length</I>  │<I>Type</I>    │<I>Description</I>         │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│ks_Signature             │+0      │4       │D       │                    │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│ks_bFlags                │+4      │1       │B       │                    │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│ks_bType                 │+5      │1       │B       │                    │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│ks_Owner                 │+6      │2       │W       │                    │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│ks_cusPendingWriters     │+8      │2       │W       │                    │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│ks_cusNest               │+a      │2       │W       │                    │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│ks_cusReaders            │+c      │2       │W       │                    │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│ks_cusPendingReaders     │+e      │2       │W       │                    │
└─────────────────────────┴────────┴────────┴────────┴────────────────────┘
</PRE>
 
<P>
<U><I>KSEMMTX</I></U> MUTEX Kernel Semaphore
<PRE>┌─────────────────────────┬────────┬────────┬────────┬────────────────────┐
│<I>Field Name</I>               │<I>Off</I>     │<I>Length</I>  │<I>Type</I>    │<I>Description</I>         │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│ksm_Signature            │+0      │4       │D       │                    │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│ksm_bFlags               │+4      │1       │B       │                    │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│ksm_bType                │+5      │1       │B       │                    │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│ksm_Owner                │+6      │2       │W       │                    │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│ksm_cusPendingWriters    │+8      │2       │W       │                    │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│ksm_cusNest              │+a      │2       │W       │                    │
└─────────────────────────┴────────┴────────┴────────┴────────────────────┘
</PRE>
 
<P>
<U><I>KSEMEVT</I></U> Event Kernel Semaphore
<PRE>┌─────────────────────────┬────────┬────────┬────────┬────────────────────┐
│<I>Field Name</I>               │<I>Off</I>     │<I>Length</I>  │<I>Type</I>    │<I>Description</I>         │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│kse_Signature            │+0      │4       │D       │                    │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│kse_bFlags               │+4      │1       │B       │                    │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│kse_bType                │+5      │1       │B       │                    │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│kse_Owner                │+6      │2       │W       │                    │
├─────────────────────────┼────────┼────────┼────────┼────────────────────┤
│kse_cusPendingWriters    │+8      │2       │W       │                    │
└─────────────────────────┴────────┴────────┴────────┴────────────────────┘
</PRE>
 
<P>
Ksem flag definitions.
<PRE>┌────────────────┬────────┬───────────┐
│Name            │Bit Mask│Description│
├────────────────┼────────┼───────────┤
│KSEM_NOINTERRUPT│0x1     │           │
├────────────────┼────────┼───────────┤
│KSEM_WRITER     │0x2     │           │
├────────────────┼────────┼───────────┤
│KSEM_DISPLAYID  │0x4     │           │
├────────────────┼────────┼───────────┤
│KSEM_NOBLOCK    │0x8     │           │
└────────────────┴────────┴───────────┘
</PRE>


<P><HR>

<A HREF="3127_L3_RamSemStruc.html">[Back: RamSemStruc]</A> <BR>
<A HREF="3129_L4_KSEMStructuresforOS2.html">[Next: KSEM Structures for OS/2 Warp V4.0 and OS/2 Warp V3.0 RETAIL kernel]</A> 
</BODY>
</HTML>
