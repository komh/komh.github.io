<HTML>
<HEAD>
<TITLE>DosLogRead</TITLE>
</HEAD>
<BODY>
<H1>DosLogRead</H1><!-- entering slot 3339 -->
<P>
The description of the OS/2 2.0 version of the<B> DosLogRead</B> API follows:

<PRE>
        APIRET16 APIENTRY16 DosLogRead((USHORT) LogHandle,
                                      (USHORT) Length,
                                      (PVOID) LogBuffer,
                                      (PUSHORT) ReadSize)
<!--0xfb-->32-bit code Example using CSet/2
</PRE>

<P>
<U><I>Parameters</I></U><!-- lm: 0x2 1 -->
<UL>
<P>
<B>LogHandle</B><!-- lm: 0x11 11 -->
<UL> is the named pipe handle returned
by<B> DosLogRegister()</B><!-- lm: 0x2 1 -->
</UL><B> Length</B><!-- lm: 0x11 11 -->
<UL> is
the length (in words) of the caller's log buffer<!-- lm: 0x2 1 -->
</UL><B> LogBuffer
</B><!-- lm: 0x11 11 -->
<UL>is the address of the caller's buffer, into
which the system Error Logging facility will place a single Error Log entry
packet (formatted in the manner of the 16 bit<B> DosLogEntry</B> API).<!-- lm: 0x2 1 -->
</UL><B> ReadSize
</B><!-- lm: 0x11 11 -->
<UL>is the address of a word, into which the system
Error Logging facility will place the number of bytes that it wrote into
the caller's log buffer.  If a zero is returned here, then there was no
Error Log packet to return.<!-- lm: 0x2 1 -->
</UL>
<P>
<U><I>Returns</I></U>
<P>
Return code
<P>
<B>DosLogRead</B> returns the following values:<!-- lm: 0x2 1 -->
<P>
<B><LI></B><!-- lm: 0x11 11 -->indicating Success.<!-- lm: 0x2 1 -->
<P>
<B>non-zero</B><!-- lm: 0x11 11 -->
<UL> indicating error
<P>
Possible reasons for failure:<!-- lm: 0x2 11 -->
<P>
<!-- lm: 0x2 17 -->
<UL>Invalid log handle<!-- lm: 0x2 11 -->
</UL><!-- lm: 0x2 17 -->
<UL> Facility
unavailable<!-- lm: 0x2 11 -->
</UL><!-- lm: 0x2 17 -->
<UL> Buffer too
small<!-- lm: 0x2 11 --><!-- lm: 0x2 1 -->
</UL> 
<P>
In order to resolve successfully<B> DosLogRead</B> function calls in your
program, the following lines must be added to the Linker Definition (DEF)
file:
<PRE>
IMPORTS
DOSLOGREAD=DOSCALL1.196

</PRE>

<P>
<B>DosLogRead</B> returns Error Log entries that are formatted in the manner
of the 16 bit<B> DosLogEntry</B> API.

<P><HR>

<A HREF="3102_L3_DosLogEntry.html">[Back: DosLogEntry]</A> <BR>
<A HREF="3104_L3_ErrorLogEntryFormatt.html">[Next: Error Log Entry Formatting DLL Routines]</A> 
</BODY>
</HTML>
