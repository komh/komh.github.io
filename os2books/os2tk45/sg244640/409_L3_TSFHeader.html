<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>TSF Header</TITLE>
</HEAD>
<BODY>
<H1>TSF Header</H1><!-- entering slot 588 -->This defines common information for the module
to be traced. The format is:
<PRE>
      [ MODNAME = [d:][path]Name ]
      [ MAJOR   = nnnnn ]
      [ MAXDATALENGTH = nnnn ]
      [ TDFID = nn ]

</PRE>
where:<!-- lm: 0x2 1 -->
<UL>
<P>
MODNAME=[d:][path]Name<!-- lm: 0x2 5 -->
<UL> where:<!-- lm: 0x2 5 -->
<P>
d:<!-- lm: 0x2 14 -->
<UL>
<P>
is the drive containing the module. If not specified the current drive is
used.<!-- lm: 0x2 5 -->
</UL> path<!-- lm: 0x2 14 -->
<UL>
<P>
is the path to the module. If not specified the current path is used.<!-- lm: 0x2 5 -->
</UL> Name
<!-- lm: 0x2 14 -->
<UL>
<P>
is the name of the executable module to be traced. If an extension is not
specified and the<B> Name</B> is not<B> OS2KRNL</B>, an extension of DLL
is appended to<B> Name</B>.
<P>
Path information may be specified but is normally discarded before storing
module name information in the TDF unless the<B> /P</B> switch is specified
on the command line. TRCUST uses the path information to locate and read
the load module while processing the TSF. If either the name or path differs
from the module's installed name or path then the<B> /L=</B> command line
option may be use to direct TRCUST on while module file name to read.<!-- lm: 0x2 5 -->
</UL><B> Note:
 </B>MODNAME is required only for dynamic tracepoint definitions with TRCUST
version 2.22 and later.<!-- lm: 0x2 5 --><!-- lm: 0x2 1 -->
</UL> MAJOR=nnnnn
<!-- lm: 0x2 5 -->
<UL>(optional)
<P>
defines the major trace ID allocated to this module. It may be in the range
1 to 65535 decimal or specified 0x1 to 0xffff hex.  The default value is
1. The major trace ID is part of the data placed in the trace buffer when
a tracepoint is executed.
<P>
Only one major code is permitted per module.
<P>
<B>Notes: </B>
<P>
Prior to fix pack 35 for OS/2 Warp V3.0 and for OS/2 Warp V4.0 only major
codes 0x1 - 0xff may be used. After fix pack 35 for OS/2 Warp V3.0 the major
code range of 0x1 - 0xffff permissible. TRCUST version 2.2 or later is required
if the extended range of major codes is to be used.
<P>
Also note that the default major code (1) is reserved by OS2 for dekko tracepoints.
Ranges available to the user are: 245-255 and 0x8000-0xffff.
<P>
Major code 0 is permissible but only with the<B> /RAS</B> switch specified
on the command line. However this is reserved for specific use by system
use and should not noramlly be used.<!-- lm: 0x2 5 --><!-- lm: 0x2 1 -->
</UL> MAXDATALENGTH=nnnn
<!-- lm: 0x2 5 -->
<UL>(optional)
<P>
defines the maximum amount of data that a single tracepoint call will insert
into the trace buffer.
<P>
The length may be in the range 20 to 4099 decimal or specified 0x14 to 0x1003
hex.  The default value is 512.
<P>
<B>Note: </B>
<P>
Prior to fix pack 35 for OS/2 Warp V3.0 and fix pack 10 for OS/2 Warp V4.0
MAXDATALENTH defaults to 128 and may only specify a value in the range of
20 to 512.<!-- lm: 0x2 5 --><!-- lm: 0x2 1 -->
</UL> TDFID=nn<!-- lm: 0x2 5 -->
<UL> (optional)

<P>
defines an identifer in the range 0 to 65565 for use with the GETVARS and
QUERY functions of the<A><!-- external link: 1D FE FF 44 --> DTRACE command.
</A>The default TDFID is 0 and is normally allowed to default.<!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="408_L3_TSFFormat.html">[Back: TSF Format]</A> <BR>
<A HREF="410_L3_TypelistDefinition.html">[Next: Typelist Definition]</A> 
</BODY>
</HTML>
