<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Receiving Parameters</TITLE>
</HEAD>
<BODY>
<H1>Receiving Parameters</H1><!-- entering slot 75 -->
<P>
There is a register which can be used by a subroutine to access parameters
very efficiently.  This register is the Base Pointer. When it is used to
obtain an offset, the default segment is the STACK SEGMENT.  If the entry
to a subroutine begins with these instructions the stack will look like
the picture on the next page.<!-- lm: 0x2 1 -->
<UL>
<P>
PUSH<!-- lm: 0x2 11 -->
<UL> BP<!-- lm: 0x2 1 -->
</UL> MOV<!-- lm: 0x2 11 -->
<UL> BP,SP
<!-- lm: 0x2 1 -->
</UL>SUB<!-- lm: 0x2 11 -->
<UL> SP,sizeof( LOCAL DATA
ITEMS )<!-- lm: 0x2 1 -->
</UL>
<P>
This sequence is so common that there is a single instruction equivalent:
<!-- lm: 0x2 1 -->
<P>
ENTER<!-- lm: 0x2 11 -->
<UL> sizeof( LOCAL DATA ITEMS ), 0<!-- lm: 0x2 1 -->
</UL>
<P>
This allows all parameters to be accessed as BP plus the appropriate offset
and local data elements to be accessed as BP minus the appropriate offset.

<P>
The instructions to exit are either:<!-- lm: 0x2 1 -->
<P>
MOV<!-- lm: 0x2 11 -->
<UL> SP,BP<!-- lm: 0x2 1 -->
</UL> POP<!-- lm: 0x2 11 -->
<UL> BP
<!-- lm: 0x2 1 -->
</UL>RET<!-- lm: 0x2 11 -->
<UL><!-- lm: 0x2 1 -->
</UL>or:<!-- lm: 0x2 1 -->
<P>
LEAVE<!-- lm: 0x2 11 -->
<UL><!-- lm: 0x2 1 -->
</UL> RET<!-- lm: 0x2 11 -->
<UL><!-- lm: 0x2 1 -->
</UL>

<P><HR>

<A HREF="062_L2_PassingParameters.html">[Back: Passing Parameters]</A> <BR>
<A HREF="064_L2_WhyDoWeCareAbouttheP.html">[Next: Why Do We Care About the Pascal Convention?]</A> 
</BODY>
</HTML>
