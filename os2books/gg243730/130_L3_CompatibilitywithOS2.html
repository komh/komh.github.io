<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Compatibility with OS/2 V1.3</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Compatibility with OS/2 V1.3</H1><!-- entering slot 144 -->
<P>
OS/2 Version 2.0 generally provides compatibility with OS/2 V1.3 device
drivers written to the published OS/2 V1.3 device driver interface. Device
driver incompatibilities with OS/2 V2.0 are summarized here:<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Drivers that directly modify or utilize the contents
of the Global Descriptor Table (GDT)<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->The PhysToVirt DevHlp returns different results to
what is expected<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Drivers that set up their own GDT call gate will not
work<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Drivers that switch to real mode will fail<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Device drivers that were written to support a single
DOS session can fail if accessed by more than one DOS session concurrently.
<!-- lm: 0x2 0 -->
<BR>

<P>
Although OS/2 V2.0 device drivers remain 16-bit, the 32-bit architecture
of OS/2 V2.0 can affect performance characteristics:<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->OS/2 V2.0 provides 32-bit demand-paging virtual memory
management based on Intel 386 while OS/2 V1.3 provides 16-bit segment-swapping
virtual memory based on Intel 286
<P>
Therefore, I/O requests are no longer guaranteed to occur in a single physically
contiguous memory range. For compatibility, OS/2 V2.0 detects an OS/2 V1.3
device driver and breaks application I/O requests into multiple I/O requests
to the OS/2 V1.3 driver at physical memory boundaries rather than a single
I/O request as before in OS/2 V1.3.<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->OS/2 V2.0 supports more than 16 MB of physical memory

<P>
For compatibility, when a device driver utilizes an OS/2 V1.3 compatible
request to lock memory for DMA transfers, OS/2 V2.0 rearranges memory so
that the requested physical memory address range is below 16 MB.<!-- lm: 0x2 0 -->
<BR>


<P><HR>

<A HREF="129_L2_DeviceDriverSupport.html">[Back: Device Driver Support]</A> <BR>
<A HREF="131_L3_VirtualDeviceDrivers.html">[Next: Virtual Device Drivers]</A> 
</BODY>
</HTML>
