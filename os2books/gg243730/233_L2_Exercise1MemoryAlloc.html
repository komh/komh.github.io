<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Exercise 1 - Memory Allocation</TITLE>
</HEAD>
<BODY>
<H1>Exercise 1 - Memory Allocation</H1><!-- entering slot 259 -->
<P>
This exercise focuses on the DosAllocMem() function and its usage.  The
sample program used in the exercise allocates and uses memory in order to
illustrate the new memory allocation mechanism, particularly with regard
to paged memory.
<P>
In this exercise, the student is required to run the program:
<PRE>             <B>MEMLAB1.EXE</B>
</PRE>

<P>
This program does the following:<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Asks for an amount of memory to be allocated,
in integer-sized (4 byte) units.<!-- lm: 0x2 0 -->
<BR>
 <LI><LI><!-- lm: 0x2 4 -->Allocates and commits the requested amount of
memory.<!-- lm: 0x2 0 -->
<BR>
 <LI><LI><!-- lm: 0x2 4 -->Asks for the amount of memory to be used for
read/write operations. The amount of memory to be used is specified as the
number of integers to be written then read.<!-- lm: 0x2 0 -->
<BR>
 <LI><LI><!-- lm: 0x2 4 -->Performs writes to fill the requested amount
of memory.<!-- lm: 0x2 0 -->
<BR>
 <LI><LI><!-- lm: 0x2 4 -->Checks whether the written values are correct.
<!-- lm: 0x2 0 -->
<BR>
 <LI><LI><!-- lm: 0x2 4 -->Frees the allocated memory.<!-- lm: 0x2 0 -->
<BR>
 <LI><LI><!-- lm: 0x2 4 -->At initiation the program registers two termination
routines:<!-- lm: 0x2 3 -->
<UL>
<P>
 a)<!-- lm: 0x2 7 -->
<UL>An abnormal termination routine, to which general
protection exceptions will be routed.<!-- lm: 0x2 3 -->
</UL>  b)<!-- lm: 0x2 7 -->
<UL>A
termination routine, which is called when the program exits normally.<!-- lm: 0x2 4 -->
</UL> These
routines are used to print out the program status at termination and to
pinpoint where a general protection exception occurred.  Note that C Set/2
routines are used to register the exception handler. <B> DosSetExceptionHandler()
</B>could also have been used.<!-- lm: 0x2 0 -->
</UL>
<P>
The program will be executed three times during the course of the exercise.
The program listing is shown in <A HREF="241_L3_SourceCodeMEMLAB1C.html">Source
Code MEMLAB1.C</A>.

<P><HR>

<A HREF="232_L2_Objectives.html">[Back: Objectives]</A> <BR>
<A HREF="234_L3_Step1NormalMemoryAll.html">[Next: Step 1 - Normal Memory Allocation]</A> 
</BODY>
</HTML>
