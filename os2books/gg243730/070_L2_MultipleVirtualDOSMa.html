<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>Multiple Virtual DOS Machines</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>Multiple Virtual DOS Machines</H1><!-- entering slot 72 -->
<P>
A significant part of OS/2 Version 2.0 is its ability to multitask DOS sessions
along with OS/2 sessions, using the <A HREF="321_L2_MultipleVirtualDOSMa.html"><B>Multiple
Virtual DOS Machines</B></A> feature of OS/2 Version 2.0.  In previous versions
of OS/2, support for DOS applications was limited, with low available memory
and a single DOS session, which operated in full-screen mode only and suspended
when in the background.
<P>
The DOS support has been totally rewritten in OS/2 Version 2.0, and allows
<I>multiple</I> concurrent DOS applications where each is executed as a
single-threaded, protect mode OS/2 program.  This method of implementation
uses the <A HREF="372_L2_virtual8086mode.html"><B>virtual 8086 mode</B></A> of
the 80386 processor, and provides normal OS/2 levels of memory protection;
that is, it provides protection of system memory and other applications,
isolation from illegal memory accesses by ill-behaved applications, and
the ability to terminate sessions where applications are "hung".  DOS sessions
may also be multitasked along with all other OS/2 sessions.
<P>
DOS support is achieved through the use of virtualization techniques, allowing
the creation of multiple instances of separate, independent <A HREF="370_L2_virtualDOSmachine.html"><B>virtual
DOS machines</B></A>. In this way, a virtual interface is provided to each
DOS machine, giving the impression that each application owns all the required
resources, both hardware and software.
<P>
Each virtual DOS machine has more base memory than the DOS Compatibility
Box implemented in previous versions of OS/2; more than 630KB of free base
memory (that is, memory below the 640KB line) is available for each virtual
DOS machine.  OS/2 Version 2.0 also supports the use of Lotus**-Intel-Microsoft**
(LIM) expanded memory (EMS) Version 4.0 emulation and extended memory (XMS)
Version 2.0 to provide additional memory for those DOS applications which
are capable of using such extensions.  OS/2 Version 2.0 maps this extended
or expanded memory into the system's normal linear memory address space,
and manages it in the same manner as any other allocated memory. The DOS
Protect Mode Interface (DPMI) specification is also supported to allow access
to memory above 1MB.
<P>
The ability of a virtual DOS machine to run within a Presentation Manager
window provides immediate productivity gains to existing DOS applications,
since they may utilize Presentation Manager desktop features.  These features
include window manipulation and the ability to cut/copy/paste information
between applications using the clipboard.
<P>
Application compatibility in the virtual DOS machine is also enhanced over
previous versions of OS/2.  The virtual DOS machine can be used to execute
DOS-based communications applications and other applications which address
hardware I/O devices, through the use of <A HREF="368_L2_virtualdevicedriver.html"><B>virtual
device drivers</B></A> which map the device driver calls from the applications
to the appropriate physical device driver within the operating system.  Applications
using hardware devices which are not required to be shared with other applications
in the same system may be accessed using the standard DOS device drivers,
without the need for a virtual device driver.  Certain restrictions still
apply with respect to communications line speed and time-critical interrupt
handling.
<P>
Application compatibility in a virtual DOS machine is further enhanced by
the <A HREF="284_L2_DOSSettings.html"><B>DOS Settings</B></A> feature, which
allows virtual DOS machines to be customized to suit the requirements of
the applications<!-- entering slot 73 --> running in them.  Properties such
as video characteristics, hardware environment emulation, and the use of
memory extenders can all be customized using this feature.
<P>
The concept of Multiple Virtual DOS Machines, and its implementation in
OS/2 Version 2.0, is described in more detail in<I> OS/2 Version 2.0 - Volume
2:  DOS and Windows Environment</I>.

<P><HR>

<A HREF="069_L2_BootManager.html">[Back: Boot Manager]</A> <BR>
<A HREF="071_L2_WindowsApplicationSu.html">[Next: Windows Application Support]</A> 
</BODY>
</HTML>
