<HTML>
<HEAD>
<TITLE>FAT File System Changes</TITLE>
</HEAD>
<BODY>
<H1>FAT File System Changes</H1><!-- entering slot 153 -->
<P>
Changes have also been made to the FAT file system driver under OS/2 Version
2.0, in order to provide improved performance and enhanced support for disk
hardware devices:<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->The FAT driver now supports command chaining
<P>
The driver attempts to call the volume manager with a list of all contiguous
sector requests required to fulfill an I/O request, thus allowing multiple
page-in and page-out requests in a single logical operation.<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->The FAT driver provides faster allocation of free
space on the logical drive, using a bitmap to track free clusters on the
disk.<!-- lm: 0x2 0 -->
<BR>

<P>
Disk caching is now supported within the FAT driver, and has been removed
from the device driver.  A cache buffer is provided to support disk caching
with the following features:<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Lazy writing<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Lazy reading on writes, that is, the ability to write
to the cache and flush the cache to disk, but then to read the updated information
from the cache rather than requiring a physical disk read operation<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Asynchronous read-ahead through a multi-purpose asynchronous
read thread<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Large cache size (theoretical maximum of 64MB, although
practical limitations will necessitate a smaller cache)<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->The ability to dynamically enable and disable the
cache in response to a user command<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 -->Bad sectors are automatically bypassed on reads.<!-- lm: 0x2 0 -->
<BR>

<P>
There are a number of advantages in performing caching in the FAT driver
rather than the device driver; more operating system kernel services are
available at this level, and intelligent read-ahead operations can more
easily be performed.  Lazy writing is also more easily implemented at the
file system level than at the device driver level.
<P>
The FAT file system under OS/2 Version 2.0 supports a maximum file size
of 2GB.  The maximum supported size for a FAT volume is also 2GB.

<P><HR>

<A HREF="137_L3_HighPerformanceFileS.html">[Back: High Performance File System Changes]</A> <BR>
<A HREF="139_L3_DiskVolumeConsiderat.html">[Next: Disk Volume Considerations]</A> 
</BODY>
</HTML>
