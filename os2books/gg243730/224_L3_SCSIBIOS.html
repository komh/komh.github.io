<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>SCSI BIOS</TITLE>
</HEAD>
<BODY>
<H1>SCSI BIOS</H1><!-- entering slot 248 -->
<P>
As mentioned above, the SCSI adapters contain ROM modules with the compatibility
BIOS (CBIOS), the advanced BIOS (ABIOS), and the power-on self test (POST)
routines for the SCSI subsystem. Each of these BIOS functions is explained
in the following sections.
<P>
<B>Compatibility BIOS (CBIOS)</B>
<P>
The CBIOS interface supports SCSI device and adapter functions for the single
tasking environment, as implemented by PC DOS. The SCSI CBIOS intercepts
and replaces parts of the<B> Interrupt 13h (fixed disk)</B> and<B> Interrupt
15h (system services)</B> functions. See <A HREF="045_L2_SCSIBIOSInterfaceBlo.html">Figure
"SCSI BIOS Interface Block Diagram"</A> for a functional overview of the
BIOS interface. It also adds the new<B> Interrupt 4Bh (advanced services)
</B>support to provide a generic interface to SCSI devices other than disk
drives. This new interface uses the carry flag and the AH register to report
status information.
<P>
The CBIOS interface makes it possible for programs in a DOS environment
to use both SCSI and other types of disks via INT 13h, with the help of
new device drivers and INT 4Bh services. The CBIOS interface also supports
other types of SCSI devices.
<P>
<B>Advanced BIOS (ABIOS)</B>
<P>
The ABIOS interface shown in <A HREF="045_L2_SCSIBIOSInterfaceBlo.html">Figure
"SCSI BIOS Interface Block Diagram"</A> provides new and enhanced<B> device
ID 02h (fixed disk)</B> support. ABIOS used by operating systems such as
OS/2 V2.0, which use the protected mode of the Intel microprocessors. The
enhanced functions enable support of both SCSI and other types of disk without
an upgrade of operating system software. The new functions enable a more
effective use of SCSI disk devices by operating systems through new and
enhanced device drivers. The new ABIOS functions are:<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 --><B>0Dh - Enable Intelligent Buffer</B><!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 --><B>0Eh - Disable Intelligent Buffer</B>
<P>
These two functions enable or disable the intelligent buffer capability
for all subsequent commands to this device. If the function is not supported,
an error code is returned.<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 --><B>0Fh - Return Intelligent Buffer Status</B>
<P>
Returns the status of the intelligent buffer.  Status may be<I> enabled</I>,
<I>disabled</I> or<I> not supported</I>.<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 --><B>10h - Set DMA Pacing Factor</B>
<P>
This function programs the adapter with the supplied pacing value. The value
specifies what percentage (25% to 100%) of the DMA transfer bandwidth the
adapter is allowed to use.  All devices on the adapter are affected.<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 --><B>11h - Return DMA Pacing Factor</B>
<P>
This function returns the current pacing factor for the adapter.<!-- lm: 0x2 0 -->
<P>
<LI><!-- lm: 0x2 2 --><B>12h - Transfer SCB.</B>
<P>
This function programs the adapter to process a Subsystem Control Block
(SCB). SCBs are described further in <A HREF="226_L2_SubsystemControlBloc.html">Subsystem
Control Block Architecture</A>.<!-- lm: 0x2 0 -->
<BR>

<P>
<B>Power-On Self Test (POST)</B>
<P>
The POST routines will automatically configure the SCSI subsystem at power-on
and system reset.  The SCSI subsystem supports the coexistence of other
types of fixed-disk adapters, and if more than one SCSI adapter is installed
in a system, the BIOS ROM modules on the extra adapters will be disabled
by the POST routines.
<P>
POST will also issue the<I> Inquiry command</I> to all 56 possible combinations
of physical unit number/logical unit number (PUN/LUN), until 15 logical
devices (logical device IDs 0 to 14) are assigned. The SCSI adapter is logical
device 15.

<P><HR>

<A HREF="223_L3_AdapterComponents.html">[Back: Adapter Components]</A> <BR>
<A HREF="225_L3_SupportforGenericSCS.html">[Next: Support for Generic SCSI Functions]</A> 
</BODY>
</HTML>
