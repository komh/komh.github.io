<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>PSDHLP_VMALLOC</TITLE>
</HEAD>
<BODY>
<H1>PSDHLP_VMALLOC</H1><!-- entering slot 27 --><!-- lm: 0x2 0 -->
<P>
<B>PSDHLP_VMALLOC keywords</B><!-- lm: 0x11 5 -->
<UL> May Block
<P>
<!-- lm: 0x2 0 -->
</UL><B>Description</B><!-- lm: 0x11 5 -->
<UL> Allocate memory.
<P>
This function is used to allocate virtual memory, or map virtual memory
to physical memory, depending on the value of the flags. All virtual addresses
are allocated from the system arena (i.e. global address space).
<P>
<!-- lm: 0x2 0 -->
</UL><B>Mode</B><!-- lm: 0x11 5 -->
<UL> Callable in Init and Kernel mode.

<P>
<!-- lm: 0x2 0 -->
</UL><B>Parameters</B><!-- lm: 0x11 5 -->
<UL> Pointer to a VMALLOC structure.

<P>
<!-- lm: 0x2 0 -->
</UL><B>Exit</B><!-- lm: 0x11 5 -->
<UL> Return code.
<P>
<!-- lm: 0x2 0 -->
</UL><B>Structures</B><!-- lm: 0x11 5 -->
<UL>
<PRE>typedef struct vmalloc_s{
   ulong_t addr;    (Input/Output)
   ulong_t cbsize;  (Input)
   ulong_t flags;   (Input)
} VMALLOC;
</PRE>
<!-- lm: 0x2 3 -->
</UL>addr<!-- lm: 0x2 13 -->
<UL> is filled with the
linear address of the allocated or mapped memory on return from the help.

<P>
If VMALLOC_LOCSPECIFIC is specified, this field must contain the virtual
address to map before calling the help.
<P>
If VMALLOC_PHYS is specified, this field must contain the physical address
to map before calling the help.<!-- lm: 0x2 3 -->
</UL>cbsize<!-- lm: 0x2 13 -->
<UL> is the size of the allocation, or mapping
in bytes.<!-- lm: 0x2 3 -->
</UL>flags<!-- lm: 0x2 13 -->
<UL> indicate which type of operation is to
be performed.<!-- lm: 0x2 6 -->
</UL> VMALLOC_FIXED<!-- lm: 0x2 28 -->
<UL> indicates
that the allocated memory is to be fixed in memory (not-swappable or movable).
If this flag is omitted, the allocated memory will be swappable by default.
<!-- lm: 0x2 6 -->
</UL>VMALLOC_CONTIG<!-- lm: 0x2 28 -->
<UL> indicates that the allocation
must use contigous physical memory. If this flag is specified VMALLOC_FIXED
must also be used.<!-- lm: 0x2 6 -->
</UL>VMALLOC_LOCSPECIFIC<!-- lm: 0x2 28 -->
<UL> indicates a request for
a memory allocation at a specific virtual address. If this flag is specified,
the addr field must contain the virtual address to map.
<P>
<B>Note: </B> This flag can be used with the VMALLOC_PHYS flag to allocate
memory where linear = physical.<!-- lm: 0x2 28 -->
<P>
<!-- lm: 0x2 6 -->
</UL>VMALLOC_PHYS<!-- lm: 0x2 28 -->
<UL> indicates a request for a virtual
mapping of physical memory. If this flag is specified, the addr field must
contain the physical address to map.
<P>
<B>Note: </B> This flag can be used with the VMALLOC_LOCSPECIFIC flag to
allocate memory where linear = physical.<!-- lm: 0x2 28 -->
<P>
<!-- lm: 0x2 6 -->
</UL>VMALLOC_1M<!-- lm: 0x2 28 -->
<UL> indicates a request for a memory
allocation below the 1MB boundary.<!-- lm: 0x2 13 --><!-- lm: 0x2 5 -->
</UL><!-- lm: 0x2 0 -->
</UL><B>Notes</B><!-- lm: 0x11 5 -->
<UL> None.<!-- lm: 0x2 0 -->
</UL>

<P><HR>

<A HREF="025_L2_PSDHelps.html">[Back: PSD Helps]</A> <BR>
<A HREF="027_L3_PSDHLP_VMFREE.html">[Next: PSDHLP_VMFREE]</A> 
</BODY>
</HTML>
