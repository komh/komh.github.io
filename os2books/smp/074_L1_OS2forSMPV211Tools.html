<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>OS/2 for SMP V2.11 Tools</TITLE>
</HEAD>
<BODY>
<H1>OS/2 for SMP V2.11 Tools</H1><!-- entering slot 76 -->
<P>
A Multiprocessor CPU Performance Monitor will be shipped with this product.
This tool will display CPU utilization for each processor in bar graph and
histogram modes. It will be written as a PM application and will display
each processor's bar or line as a different color. This tool will also have
the capability of placing each processor offline or online. This is useful
to show the scalability of OS/2 for SMP V2.11. It may also be used for debug
purposes. This tool will use the APIs described above. It is also desirable
to be able to display the time spent waiting inside of the major spinlocks,
such as the Ring 0 spinlock. It is also desirable to display the interrupt
activity for each processor.
<BR>
    ┌────────────────────────────────────────────────────────┐
<BR>
    │  OS/2 Symmetric MultiProcessor Performance Monitor   │
<BR>
    ├────────────────────────────────────────────────────────┤
<BR>
    │  Bar  Histogram  Interrupt  Status  Options  Help   │
<BR>
    ├────────────────────────────────────────────────────────┤
<BR>
    │                             │
<BR>
    │                             │
<BR>
    │  ┌────────────────────────────────────────────────┐  │
<BR>
    │100│                         │  │
<BR>
    │  │                         │  │
<BR>
    │  │                         │  │
<BR>
    │ 90│                         │  │
<BR>
    │  │                         │  │
<BR>
    │  │                         │  │
<BR>
    │ 80│                         │  │
<BR>
    │  │                         │  │
<BR>
    │  │                         │  │
<BR>
    │ 70│                         │  │
<BR>
    │  │                         │  │
<BR>
    │  │      ┌──┐                  │  │
<BR>
    │ 60│      │  │       ┌──┐          │  │
<BR>
    │  │      │  │       │  │       ┌──┐  │  │
<BR>
    │  │      │  │       │  │   ┌──┐   │  │  │  │
<BR>
    │ 50│  ┌──┐   │  │       │  │   │  │   │  │  │  │
<BR>
    │  │  │  │   │  │   ┌──┐   │  │   │  │   │  │  │  │
<BR>
    │  │  │  │   │  │   │  │   │  │   │  │   │  │  │  │
<BR>
    │ 40│  │  │   │  │   │  │   │  │   │  │   │  │  │  │
<BR>
    │  │  │  │   │  │   │  │   │  │   │  │   │  │  │  │
<BR>
    │  │  │  │   │  │   │  │   │  │   │  │   │  │  │  │
<BR>
    │ 30│  │  │   │  │   │  │   │  │   │  │   │  │  │  │
<BR>
    │  │  │  │   │  │   │  │   │  │   │  │   │  │  │  │
<BR>
    │  │  │  │   │  │   │  │   │  │   │  │   │  │  │  │
<BR>
    │ 20│  │  │   │  │   │  │   │  │   │  │   │  │  │  │
<BR>
    │  │  │  │   │  │   │  │   │  │   │  │   │  │  │  │
<BR>
    │  │  │  │   │  │   │  │   │  │   │  │   │  │  │  │
<BR>
    │ 10│  │  │   │  │   │  │   │  │   │  │   │  │  │  │
<BR>
    │  │  │  │   │  │   │  │   │  │   │  │   │  │  │  │
<BR>
    │  │  │  │   │  │   │  │   │  │   │  │   │  │  │  │
<BR>
    │  0└────────────────────────────────────────────────┘  │
<BR>
    │ %                            │
<BR>
    │ CPU  1    2    3    4    5    6     │
<BR>
    └────────────────────────────────────────────────────────┘
<BR>

<BR>

<BR>
        Figure 1.    CPU Monitor in BAR mode
<BR>

<BR>
        Monitors % of each processor used per second.
<BR>

<BR>
        NOTE: Each CPU to be a different color.
<BR>

<BR>

<P>

<BR>

<BR>
    ┌────────────────────────────────────────────────────────┐
<BR>
    │  OS/2 Symmetric MultiProcessor Performance Monitor   │
<BR>
    ├────────────────────────────────────────────────────────┤
<BR>
    │  Bar  Histogram  Interrupt  Status  Options  Help   │
<BR>
    ├────────────────────────────────────────────────────────┤
<BR>
    │                             │
<BR>
    │                             │
<BR>
    │  ┌────────────────────────────────────────────────┐  │
<BR>
    │100│                         │  │
<BR>
    │  │                         │  │
<BR>
    │  │                         │  │
<BR>
    │ 90│                         │  │
<BR>
    │  │                         │  │
<BR>
    │  │                         │  │
<BR>
    │ 80│                         │  │
<BR>
    │  │                         │  │
<BR>
    │  │                         │  │
<BR>
    │ 70│                         │  │
<BR>
    │  │                         │  │
<BR>
    │  │                         │  │
<BR>
    │ 60│                         │  │
<BR>
    │  │                         │  │
<BR>
    │  │                         │  │
<BR>
    │ 50│                 ******     │  │
<BR>
    │  │        *  ***      *    *     │  │
<BR>
    │  │      **** **  ***    *     *    │  │
<BR>
    │ 40│  ***   *       *  * *      ****  │  │
<BR>
    │  │**  *  *        * * *        *  │  │
<BR>
    │  │    ***         *          **│  │
<BR>
    │ 30│x    -                   x │  │
<BR>
    │  │ x  ---- -xxx              xxx xxx x│  │
<BR>
    │  │  x-  xxxx-  xx  -   xxxx  -     x  x  ---│  │
<BR>
    │ 20│  -x x   ----x- ---x   x- - ------x    -  │  │
<BR>
    │  │--  x      -x  x---  -x  -  xxxx---  -   │  │
<BR>
    │  │         xxx   --  xxxxx    - -   │  │
<BR>
    │ 10│                     -    │  │
<BR>
    │  │                         │  │
<BR>
    │  │                         │  │
<BR>
    │  0└────────────────────────────────────────────────┘  │
<BR>
    │%/                            │
<BR>
    │/Time  1    2    3    4    5    6     │
<BR>
    └────────────────────────────────────────────────────────┘
<BR>

<BR>

<BR>
        Figure 2.    CPU Monitor in HISTOGRAM mode
<BR>

<BR>
        Monitors % of each processor used over time.
<BR>

<BR>
        NOTE: Each CPU to be a different color.
<BR>

<BR>

<P>

<BR>

<BR>
    ┌────────────────────────────────────────────────────────┐
<BR>
    │  OS/2 Symmetric MultiProcessor Performance Monitor   │
<BR>
    ├────────────────────────────────────────────────────────┤
<BR>
    │  Bar  Histogram  Interrupt  Status  Options  Help   │
<BR>
    ├────────────────────────────────────────────────────────┤
<BR>
    │                             │
<BR>
    │                             │
<BR>
    │   ┌───────────────────────────────────────────────┐  │
<BR>
    │5000│                        │  │
<BR>
    │   │                        │  │
<BR>
    │   │                        │  │
<BR>
    │4500│                        │  │
<BR>
    │   │                        │  │
<BR>
    │   │                        │  │
<BR>
    │4000│                        │  │
<BR>
    │   │                        │  │
<BR>
    │   │                        │  │
<BR>
    │3500│                        │  │
<BR>
    │   │                        │  │
<BR>
    │   │             ┌──┐          │  │
<BR>
    │3000│             │  │          │  │
<BR>
    │   │             │  │          │  │
<BR>
    │   │     ┌──┐       │  │          │  │
<BR>
    │2500│     │  │       │  │          │  │
<BR>
    │   │     │  │   ┌──┐   │  │          │  │
<BR>
    │   │     │  │   │  │   │  │          │  │
<BR>
    │2000│ ┌──┐   │  │   │  │   │  │          │  │
<BR>
    │   │ │  │   │  │   │  │   │  │          │  │
<BR>
    │   │ │  │   │  │   │  │   │  │   ┌──┐      │  │
<BR>
    │1500│ │  │   │  │   │  │   │  │   │  │      │  │
<BR>
    │   │ │  │   │  │   │  │   │  │   │  │      │  │
<BR>
    │   │ │  │   │  │   │  │   │  │   │  │      │  │
<BR>
    │1000│ │  │   │  │   │  │   │  │   │  │      │  │
<BR>
    │   │ │  │   │  │   │  │   │  │   │  │      │  │
<BR>
    │   │ │  │   │  │   │  │   │  │   │  │      │  │
<BR>
    │ 500│ │  │   │  │   │  │   │  │   │  │      │  │
<BR>
    │   │ │  │   │  │   │  │   │  │   │  │      │  │
<BR>
    │   │ │  │   │  │   │  │   │  │   │  │      │  │
<BR>
    │  0└───────────────────────────────────────────────┘  │
<BR>
    │#/                            │
<BR>
    │/Time  1    2    3    4    5    6     │
<BR>
    └────────────────────────────────────────────────────────┘
<BR>

<BR>

<BR>
        Figure 3.    CPU Monitor in INTERRUPT mode
<BR>

<BR>
        Monitors # of interrupts per second.
<BR>

<BR>
        NOTE: Each CPU to be a different color.
<BR>

<BR>

<P>

<BR>
    ┌────────────────────────────────────────────────────────┐
<BR>
    │    Processor ONLINE/OFFLINE STATUS Selection     │
<BR>
    ├────────────────────────────────────────────────────────┤
<BR>
    │                             │
<BR>
    │                             │
<BR>
    │                             │
<BR>
    │    Please select/change the status of the      │
<BR>
    │    desired processor(s).               │
<BR>
    │                             │
<BR>
    │    A Y means the processor is online         │
<BR>
    │    A N means the processor is offline        │
<BR>
    │                             │
<BR>
    │    Selection toggles the Y/N             │
<BR>
    │                             │
<BR>
    │    CPU           ONLINE           │
<BR>
    │                n X            │
<BR>
    │     1           │Y│            │
<BR>
    │                │ │            │
<BR>
    │     2           │Y│            │
<BR>
    │                │ │            │
<BR>
    │     3           │N│            │
<BR>
    │                │ │            │
<BR>
    │     4           │Y│            │
<BR>
    │                │ │            │
<BR>
    │     5           │Y│            │
<BR>
    │                │ │            │
<BR>
    │     6           │N│            │
<BR>
    │                │-│            │
<BR>
    │     7           │N│            │
<BR>
    │                │ │            │
<BR>
    │     8           │Y│            │
<BR>
    │                │ │            │
<BR>
    │                             │
<BR>
    │                             │
<BR>
    │                             │
<BR>
    │     ┌──────┐    ┌──────┐    ┌──────┐       │
<BR>
    │     │  OK  │    │CANCEL│    │ HELP │       │
<BR>
    │     └──────┘    └──────┘    └──────┘       │
<BR>
    │                             │
<BR>
    │                             │
<BR>
    │                             │
<BR>
    └────────────────────────────────────────────────────────┘
<BR>

<BR>

<BR>
        Figure 4.    CPU Monitor STATUS dialog box
<BR>

<BR>

<P>

<BR>
    ┌────────────────────────────────────────────────────────┐
<BR>
    │                             │
<BR>
    │    Background color           -&gt; (fig. 5b) │
<BR>
    │    CPU graph color           -&gt; (fig. 5a) │
<BR>
    │    Freeze screen          Alt+F       │
<BR>
    │    Fill               Alt+I       │
<BR>
    │                             │
<BR>
    │                             │
<BR>
    └────────────────────────────────────────────────────────┘
<BR>

<BR>
        Figure 5.    CPU Monitor OPTIONS dialog box
<BR>

<BR>

<P>

<BR>
    ┌────────────────────────────────────────────────────────┐
<BR>
    │                             │
<BR>
    │    CPU 1                       │
<BR>
    │    CPU 2                       │
<BR>
    │    CPU 3                       │
<BR>
    │    CPU 4                       │
<BR>
    │    CPU 5                       │
<BR>
    │    CPU 6                       │
<BR>
    │    CPU 7                       │
<BR>
    │    CPU 8                       │
<BR>
    │                             │
<BR>
    └────────────────────────────────────────────────────────┘
<BR>

<BR>

<BR>
        Figure 5a.    CPU Monitor GRAPH Color CPU selection
<BR>

<BR>
        NOTE: After selecting CPU, prompt for color
<BR>
           selection (fig 5b).
<BR>

<BR>

<P>

<BR>
    ┌────────────────────────────────────────────────────────┐
<BR>
    │                             │
<BR>
    │                             │
<BR>
    │    WHITE                       │
<BR>
    │    BLACK                       │
<BR>
    │    BLUE                       │
<BR>
    │    RED                        │
<BR>
    │    PINK                       │
<BR>
    │    GREEN                       │
<BR>
    │    CYAN                       │
<BR>
    │    YELLOW                      │
<BR>
    │    DARK GRAY                     │
<BR>
    │    DARK BLUE                     │
<BR>
    │    DARK RED                     │
<BR>
    │    DARK PINK                     │
<BR>
    │    DARK GREEN                    │
<BR>
    │    DARK CYAN                     │
<BR>
    │    BROWN                       │
<BR>
    │    PALE GRAY                     │
<BR>
    │                             │
<BR>
    └────────────────────────────────────────────────────────┘
<BR>

<BR>

<BR>
        Figure 5b.    CPU Monitor Color selection
<BR>

<BR>


<P><HR>

<A HREF="073_L1_TheSingleProcessorUt.html">[Back: The Single Processor Utility Program]</A> <BR>
<A HREF="075_L1_AppendixA.html">[Next: Appendix A]</A> 
</BODY>
</HTML>
