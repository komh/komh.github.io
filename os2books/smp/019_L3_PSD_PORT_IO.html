<HTML>
<HEAD>
<TITLE>PSD_PORT_IO</TITLE>
</HEAD>
<BODY>
<H1>PSD_PORT_IO</H1><!-- entering slot 20 --><!-- lm: 0x2 0 -->
<P>
<B>PSD_PORT_IO keywords</B><!-- lm: 0x11 5 -->
<UL> Optional, Default, Can't
Block
<P>
<!-- lm: 0x2 0 -->
</UL><B>Description</B><!-- lm: 0x11 5 -->
<UL> Perform local port I/O.

<P>
Some platforms have some non MP specific system ports localized on a per-processor
basis. If a local I/O operation may block before completion, I/O can be
routed to a specific CPU for processing. This should be done, because an
operation which started on one processor is not guaranteed to complete on
that processor if execution is blocked. This function gets invoked as the
result of a device driver calling DevHelp_Port_IO.
<P>
<!-- lm: 0x2 0 -->
</UL><B>Mode</B><!-- lm: 0x11 5 -->
<UL> Called in Kernel, and Interrupt
Mode.
<P>
<!-- lm: 0x2 0 -->
</UL><B>Entry</B><!-- lm: 0x11 5 -->
<UL> Pointer to a PORT_IO structure.

<P>
<!-- lm: 0x2 0 -->
</UL><B>Exit</B><!-- lm: 0x11 5 -->
<UL><!-- lm: 0x2 3 -->
</UL> NO_ERROR
<!-- lm: 0x2 16 -->
<UL>if the I/O was successful.<!-- lm: 0x2 3 -->
</UL>-1<!-- lm: 0x2 16 -->
<UL> if the I/O wasn't successful.<!-- lm: 0x2 5 -->
</UL><!-- lm: 0x2 0 -->
</UL><B>Structures</B><!-- lm: 0x11 5 -->
<UL>
<PRE>typedef struct port_io_s{
   ulong_t port;   (Input)
   ulong_t data;   (Input/Output)
   ulong_t flags;  (Input)
} PORT_IO;
</PRE>
<!-- lm: 0x2 3 -->
</UL>port<!-- lm: 0x2 13 -->
<UL> indicates which port
to read to, or write from.<!-- lm: 0x2 3 -->
</UL>data<!-- lm: 0x2 13 -->
<UL> contains the data read from a read request,
or the data to write if a write request. If the request uses less the 4
bytes the least significant portion of the data variable is used.<!-- lm: 0x2 3 -->
</UL>flags<!-- lm: 0x2 13 -->
<UL> indicate what operation to perform.<!-- lm: 0x2 6 -->
</UL> IO_READ_BYTE
<!-- lm: 0x2 28 -->
<UL>Read a byte from the port<!-- lm: 0x2 6 -->
</UL>IO_READ_WORD<!-- lm: 0x2 28 -->
<UL> Read a word from the port<!-- lm: 0x2 6 -->
</UL>IO_READ_DWORD<!-- lm: 0x2 28 -->
<UL> Read a dword from the port<!-- lm: 0x2 6 -->
</UL>IO_WRITE_BYTE<!-- lm: 0x2 28 -->
<UL> Write a byte to the port<!-- lm: 0x2 6 -->
</UL>IO_WRITE_WORD<!-- lm: 0x2 28 -->
<UL> Write a word to the port<!-- lm: 0x2 6 -->
</UL>IO_WRITE_DWORD<!-- lm: 0x2 28 -->
<UL> Write a dword to the port<!-- lm: 0x2 13 --><!-- lm: 0x2 5 -->
</UL><!-- lm: 0x2 0 -->
</UL><B>Notes</B><!-- lm: 0x11 5 -->
<UL> If the I/O performed is to a non-local
port, the I/O should be handled as a regular I/O request.
<P>
If device drivers or applications access the local ports directly, instead
of using the documented interfaces problems may occur.<!-- lm: 0x2 0 -->
</UL>

<P><HR>

<A HREF="018_L3_PSD_END_IPI.html">[Back: PSD_END_IPI]</A> <BR>
<A HREF="020_L3_PSD_IRQ_MASK.html">[Next: PSD_IRQ_MASK]</A> 
</BODY>
</HTML>
