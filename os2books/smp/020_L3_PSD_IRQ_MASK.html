<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="TEXT/HTML; CHARSET=UTF-8">
<TITLE>PSD_IRQ_MASK</TITLE>
<STYLE>
PRE {
  FONT-FAMILY: Consolas, "Lucida Console", "Courier New", Courier, MONOSPACE;
}
</STYLE>
</HEAD>
<BODY>
<H1>PSD_IRQ_MASK</H1><!-- entering slot 21 --><!-- lm: 0x2 0 -->
<P>
<B>PSD_IRQ_MASK keywords</B><!-- lm: 0x11 5 -->
<UL> Optional, Default,
Can't Block
<P>
<!-- lm: 0x2 0 -->
</UL><B>Description</B><!-- lm: 0x11 5 -->
<UL> Mask/Unmask IRQ levels
<P>
This function allows masking (disabling), or un-masking (enabling) of IRQ
levels. When this function is invoked it should save the state of the interrupt
flag, and disable interrupts before performing the mask operation. It should
then restore the state of the interrupt flag.
<P>
<!-- lm: 0x2 0 -->
</UL><B>Mode</B><!-- lm: 0x11 5 -->
<UL> Called in Kernel, and Interrupt
Mode.
<P>
<!-- lm: 0x2 0 -->
</UL><B>Entry</B><!-- lm: 0x11 5 -->
<UL> Pointer to PSD_IRQ structure.

<P>
<!-- lm: 0x2 0 -->
</UL><B>Exit</B><!-- lm: 0x11 5 -->
<UL><!-- lm: 0x2 3 -->
</UL> NO_ERROR
<!-- lm: 0x2 16 -->
<UL>operation completed successfully.<!-- lm: 0x2 3 -->
</UL>-1<!-- lm: 0x2 16 -->
<UL> operation failed.<!-- lm: 0x2 5 -->
</UL><!-- lm: 0x2 0 -->
</UL><B>Structures</B><!-- lm: 0x11 5 -->
<UL>
<PRE>typedef struct psd_irq_s{
   ulong_t flags;    (Input)
   ulong_t data;     (Input/Output)
   ulong_t procnum;  (Input)
} PSD_IRQ;
</PRE>
<!-- lm: 0x2 3 -->
</UL>data<!-- lm: 0x2 13 -->
<UL> is the logical IRQ
levels to mask, or un-mask.<!-- lm: 0x2 3 -->
</UL>flags<!-- lm: 0x2 13 -->
<UL> indicate which type of operation is to
be performed.<!-- lm: 0x2 6 -->
</UL> IRQ_MASK<!-- lm: 0x2 23 -->
<UL> mask
(disable) IRQ levels<!-- lm: 0x2 6 -->
</UL>IRQ_UNMASK<!-- lm: 0x2 23 -->
<UL> unmask (enable) IRQ levels<!-- lm: 0x2 6 -->
</UL>IRQ_GETMASK<!-- lm: 0x2 23 -->
<UL> retrieves the masks for all IRQ
levels<!-- lm: 0x2 6 -->
</UL>IRQ_NEWMASK<!-- lm: 0x2 23 -->
<UL> indicates that all the IRQ levels
should reflect the state of the specified mask.<!-- lm: 0x2 13 -->
</UL><!-- lm: 0x2 3 -->
</UL>procnum<!-- lm: 0x2 13 -->
<UL> is the processor number of where the
operation should take place.<!-- lm: 0x2 5 -->
</UL><!-- lm: 0x2 0 -->
</UL><B>Notes</B><!-- lm: 0x11 5 -->
<UL> If this function is omitted, OS/2
will perform all mask operations for an 8259 Master/Slave based PIC system.
The requests will be sent to CPU0 depending on the state of the INIT_GLOBAL_IRQ_ACCESS
flag.<!-- lm: 0x2 0 -->
</UL>

<P><HR>

<A HREF="019_L3_PSD_PORT_IO.html">[Back: PSD_PORT_IO]</A> <BR>
<A HREF="021_L3_PSD_IRQ_REG.html">[Next: PSD_IRQ_REG]</A> 
</BODY>
</HTML>
