<HTML XPOS=20% YPOS=BOTTOM WIDTH=80% HEIGHT=100%>
<HEAD>
<!-- extra bytes: 03 00 14 14 00 08 00 11 50 00 64 00 --><TITLE>Heapsort routine</TITLE>
</HEAD>
<BODY>
<H1>Heapsort routine</H1><!-- entering slot 541 --><A AUTO VIEWPORT DEPENDENT GROUP=4100 HREF="107_L4_Menu.html">[Autolink] Menu</A><P><!-- extra bytes: 4C 06 04 10 04 00 -->
<P>

<P>
This is a Heap-Sortroutine
<BR>
Captured from a message from<B> Dirk Terrell</B> (see <A HREF="962_L2H_EMailaddressesT.html">EMail
Addresses</A>) in a public Internet news group (see <A HREF="880_L3_InternetNewsgroupsLi.html">Internet
- Newsgroups</A>)
<PRE> 
/* ------------------------------------------------------------------ */
/* function: heap sort routine                                        */
/*                                                                    */
/* call:     HeapSort                                                 */
/*                                                                    */
/* returns:  nothing                                                  */
/*                                                                    */
/* notes:    You must save the elements to sort in the stem "STEM."   */
/*           stem.0 must contain the number of elements in the stem.  */
/*                                                                    */
/* reference: Sedgewick, "Algorithms"                                 */
/*                                                                    */
Heapsort: PROCEDURE expose stem.

  M = stem.0
  N = M

  do k=M % 2 to 1 by -1
    call DownHeap k N
  end /* do */

  do while N&gt;1
    t = stem.1
    stem.1 = stem.n
    stem.n = t
    n = n-1
    call DownHeap 1 N
  end /* do */
RETURN

/* subroutine of HeapSort                                             */
DownHeap: PROCEDURE expose stem.
  parse Arg k N

  v = stem.k

  do while k &lt;= N%2
    j = k+k
    if j &lt; n then
    do
      i = j+1
      if stem.j &lt;&lt; stem.i then                               /* v2.80 */
        j=j+1
    end  /* do */

    if v &gt;&gt;= stem.j then                                     /* v2.80 */
      signal Label

    stem.k = stem.j
    k = j
  end /* do */

Label:
  stem.k = v
RETURN
</PRE>

<P>
 

<P><HR>

<A HREF="520_L3_FlexibleQuicksort.html">[Back: Flexible Quick sort]</A> <BR>
<A HREF="522_L3_Shellsortroutine1.html">[Next: Shellsort routine - 1 -]</A> 
</BODY>
</HTML>
