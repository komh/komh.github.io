<HTML>
<HEAD>
<TITLE>Restoring a Backup Version of OS2.INI</TITLE>
</HEAD>
<BODY>
<H1>Restoring a Backup Version of OS2.INI</H1><!-- entering slot 172 -->
<P>
If you should be so unfortunate as to lose or corrupt the OS2.INI file,
you will want to restore it from the most recent, clean, backup copy you
have. This will normally be the one that was copied when you last booted
the system.
<P>
Since OS2.INI is kept open at all times by the Workplace Shell, you cannot
simply copy the backup over the current file. The two approaches to resolving
this are outlined below.
<P>
<B>Reboot from Diskette</B>
<P>
This procedure will only recover your system to the point at which it was
previously saved. Any objects and folders that you added since that point
will be lost, as will any colors and desktop settings which you altered.

<P>
Booting from diskette to restore the OS2.INI file requires the following
steps:<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Obtain the OS/2 V2.0 "Installation" diskette
and diskette 1<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Insert the OS/2 V2.0 "Installation" diskette
and reboot<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->When prompted, insert diskette 1 and press enter.
 Wait for the first Install panel and press Escape for an OS/2 command prompt
<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Copy your saved INI files into the bootup drive
and directory:
<PRE>COPY  A:\*.INI  C:\OS2</PRE>
<!-- lm: 0x2 0 -->
<P>
 <LI><LI><!-- lm: 0x2 4 -->Remove the diskette and reboot.<!-- lm: 0x2 0 -->
<BR>

<P>
<B>System Install from Alt-F1</B>
<P>
The Alt-F1 keystroke combination, described in <A HREF="160_L3_CriticalSystemFiles.html">Critical
System Files</A> will copy the CONFIG.SYS, OS2.INI and OS2SYS.INI files
from the OS2\INSTALL directory into the appropriate directories before reading
those files. A fuller discussion of this technique may be found in<I> OS/2
Version 2.0 - Volume 1:  Control Program</I>.
<P>
<B>What is the Effect of Restoring a Back-level OS2.INI?</B>
<P>
If you have to restore an old OS2.INI to an otherwise intact system, there
may be conflicts between the contents of OS2.INI and the files, directories
and EAs on the disks. The relationships between these are discussed more
fully in <A HREF="197_L1_WorkplaceShellImplem.html">Workplace Shell Implementation</A>.

<P>
The degree of problems caused will depend on how many program files have
been copied and how many shadow copies have been made since the date that
the OS2.INI file was copied. This is because these objects are stored in
the OS2.INI file and so will be lost when it is replaced.
<P>
The usual problem that ensues is that a folder will have a pointer to that
program or copy in its directory EA, but now the pointer no longer exists.
The solution is easy; perform a refresh on the folder, then copy the program
or file shadow again.

<P><HR>

<A HREF="161_L3_HowtoBackUpOS2INI.html">[Back: How to Back Up OS2.INI]</A> <BR>
<A HREF="163_L3_BackupPrograms.html">[Next: Backup Programs]</A> 
</BODY>
</HTML>
